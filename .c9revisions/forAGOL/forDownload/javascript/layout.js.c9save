{"ts":1351807326304,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"  dojo.require(\"esri.map\");\r\n  dojo.require(\"esri.dijit.Legend\");\r\n  dojo.require(\"esri.dijit.Scalebar\");\r\n  dojo.require(\"esri.arcgis.utils\");\r\n  dojo.require(\"esri.IdentityManager\");\r\n  dojo.require(\"dijit.dijit\");\r\n  dojo.require(\"dijit.layout.BorderContainer\");\r\n  dojo.require(\"dijit.layout.ContentPane\");\r\n  dojo.require(\"dijit.layout.StackContainer\");\r\n  dojo.require(\"esri.dijit.Popup\");\r\n  dojo.require(\"dojo.dnd.move\");\r\n\r\n\r\n     var map, urlObject, i18n, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top, swipelayerid=\"\", swipeconnect=null, mapPoint, layers, setFeatures = true;\r\n     var mapLoaded = false;\r\n\r\n\t function initMap() {\r\n       patchID();\r\n\r\n       i18n = dojo.i18n.getLocalization(\"esriTemplate\",\"template\");\r\n       dojo.byId('loading').innerHTML = i18n.viewer.loading.message;\r\n       dojo.byId('legTogText').innerHTML = i18n.viewer.legToggle.down;\r\n\r\n       if(configOptions.geometryserviceurl && location.protocol === \"https:\"){\r\n         configOptions.geometryserviceurl = configOptions.geometryserviceurl.replace('http:','https:');\r\n       }\r\n       esri.config.defaults.geometryService = new esri.tasks.GeometryService(configOptions.geometryserviceurl);\r\n\r\n       if(!configOptions.sharingurl){\r\n         configOptions.sharingurl = location.protocol + '//' + location.host + \"/sharing/content/items\";\r\n       }\r\n       esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n       if(!configOptions.proxyurl){\r\n         configOptions.proxyurl = location.protocol + '//' + location.host + \"/sharing/proxy\";\r\n       }\r\n\r\n       esri.config.defaults.io.proxyUrl =  configOptions.proxyurl;\r\n\r\n       esri.config.defaults.io.alwaysUseProxy = false;\r\n\r\n       urlObject = esri.urlToObject(document.location.href);\r\n       urlObject.query = urlObject.query || {};\r\n\r\n       if(urlObject.query.title){\r\n         configOptions.title = urlObject.query.title;\r\n       }\r\n       if(urlObject.query.subtitle){\r\n         configOptions.title = urlObject.query.subtitle;\r\n       }\r\n       if(urlObject.query.webmap){\r\n         configOptions.webmap = urlObject.query.webmap;\r\n       }\r\n       if(urlObject.query.bingMapsKey){\r\n         configOptions.bingmapskey = urlObject.query.bingMapsKey;\r\n       }\r\n\r\n\t   esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n\t  var popup = new esri.dijit.Popup({\r\n\t\thighlight:true\r\n      }, dojo.create(\"div\"));\r\n\r\n\t   var mapDeferred = esri.arcgis.utils.createMap(configOptions.webmap, \"map\", {\r\n         mapOptions: {\r\n           slider: true,\r\n           nav: false,\r\n           wrapAround180:true,\r\n\t\t   infoWindow:popup\r\n         },\r\n         ignorePopups:false,\r\n         bingMapsKey: configOptions.bingmapskey\r\n       });\r\n\r\n       mapDeferred.addCallback(function (response) {\r\n\r\n\t\t document.title = configOptions.title|| response.itemInfo.item.title || \"\";\r\n         dojo.byId(\"title\").innerHTML = configOptions.title ||response.itemInfo.item.title;\r\n         dojo.byId(\"subtitle\").innerHTML = configOptions.subtitle|| response.itemInfo.item.snippet || \"\";\r\n\r\n         map = response.map;\r\n\r\n\t\t dojo.connect(map,\"onUpdateEnd\",hideLoader);\r\n\t\t dojo.connect(map,\"onClick\",function(event){\r\n\t\t\t mapPoint = event.mapPoint;\r\n\t\t });\r\n\t\t dojo.connect(popup,\"onSetFeatures\",function(){\r\n\t\t\t if (setFeatures == true){\r\n\t\t\t\t var selectedFeatures = [];\r\n\t\t\t\t dojo.forEach(popup.features,function(lyr,i){\r\n\t\t\t\t\t if(lyr.geometry.type == 'polygon'){\r\n\t\t\t\t\t\t if (lyr.geometry.contains(mapPoint) == true){\r\n\t\t\t\t\t\t\t selectedFeatures.push(lyr);\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }\r\n\t\t\t\t });\r\n\t\t\t\t setFeatures = false;\r\n\t\t\t\t popup.setFeatures(selectedFeatures);\r\n\t\t\t }\r\n\t\t\t else{\r\n\t\t\t\t setFeatures = true;\r\n\t\t\t }\r\n\t\t });\r\n\r\n         layers = response.itemInfo.itemData.operationalLayers;\r\n\r\n         if(map.loaded){\r\n           initUI(layers);\r\n\t\t   populateLayerList();\r\n\t\t   if(configOptions.showLegend == false){\r\n\t\t\t   $(\"#legendToggle\").hide();\r\n\t\t   }\r\n         }\r\n         else{\r\n           dojo.connect(map,\"onLoad\",function(){\r\n             initUI(layers);\r\n\t\t\t populateLayerList();\r\n\t\t\t if(configOptions.showLegend == false){\r\n\t\t\t   $(\"#legendToggle\").hide();\r\n\t\t   \t }\r\n           });\r\n         }\r\n         //resize the map when the browser resizes\r\n         dojo.connect(dijit.byId('map'), 'resize', map,map.resize);\r\n       });\r\n\r\n       mapDeferred.addErrback(function (error) {\r\n         alert(i18n.viewer.errors.createMap + \" \" + dojo.toJson(error.message));\r\n       });\r\n\r\n     }\r\n\r\n\r\n     function initUI(layers) {\r\n       //add chrome theme for popup\r\n       dojo.addClass(map.infoWindow.domNode, \"chrome\");\r\n       //add the scalebar\r\n       var scalebar = new esri.dijit.Scalebar({\r\n         map: map,\r\n         scalebarUnit:i18n.viewer.main.scaleBarUnits //metric or english\r\n       });\r\n\r\n       var layerInfo = buildLayersList(layers);\r\n\r\n       if(layerInfo.length > 0){\r\n         var legendDijit = new esri.dijit.Legend({\r\n           map:map,\r\n           layerInfos:layerInfo\r\n         },\"legendDiv\");\r\n         legendDijit.startup();\r\n       }\r\n       else{\r\n         $(\"#legendToggle\").hide();\r\n       }\r\n     }\r\n\r\n//build a list of layers to dispaly in the legend\r\n  function buildLayersList(layers){\r\n\r\n //layers  arg is  response.itemInfo.itemData.operationalLayers;\r\n  var layerInfos = [];\r\n  dojo.forEach(layers, function (mapLayer, index) {\r\n      var layerInfo = {};\r\n      if (mapLayer.featureCollection && mapLayer.type !== \"CSV\") {\r\n        if (mapLayer.featureCollection.showLegend === true) {\r\n            dojo.forEach(mapLayer.featureCollection.layers, function (fcMapLayer) {\r\n              if (fcMapLayer.showLegend !== false) {\r\n                  layerInfo = {\r\n                      \"layer\": fcMapLayer.layerObject,\r\n                      \"title\": mapLayer.title,\r\n                      \"defaultSymbol\": false\r\n                  };\r\n                  if (mapLayer.featureCollection.layers.length > 1) {\r\n                      layerInfo.title += \" - \" + fcMapLayer.layerDefinition.name;\r\n                  }\r\n                  layerInfos.push(layerInfo);\r\n              }\r\n            });\r\n          }\r\n      } else if (mapLayer.showLegend !== false && mapLayer.layerObject) {\r\n      var showDefaultSymbol = false;\r\n      if (mapLayer.layerObject.version < 10.1 && (mapLayer.layerObject instanceof esri.layers.ArcGISDynamicMapServiceLayer || mapLayer.layerObject instanceof esri.layers.ArcGISTiledMapServiceLayer)) {\r\n        showDefaultSymbol = true;\r\n      }\r\n      layerInfo = {\r\n        \"layer\": mapLayer.layerObject,\r\n        \"title\": mapLayer.title,\r\n        \"defaultSymbol\": showDefaultSymbol\r\n      };\r\n        //does it have layers too? If so check to see if showLegend is false\r\n        if (mapLayer.layers) {\r\n            var hideLayers = dojo.map(dojo.filter(mapLayer.layers, function (lyr) {\r\n                return (lyr.showLegend === false);\r\n            }), function (lyr) {\r\n                return lyr.id;\r\n            });\r\n            if (hideLayers.length) {\r\n                layerInfo.hideLayers = hideLayers;\r\n            }\r\n        }\r\n        layerInfos.push(layerInfo);\r\n    }\r\n  });\r\n  return layerInfos;\r\n  }\r\n\r\n     function patchID() {  //patch id manager for use in apps.arcgis.com\r\n       esri.id._isIdProvider = function(server, resource) {\r\n       // server and resource are assumed one of portal domains\r\n\r\n       var i = -1, j = -1;\r\n\r\n       dojo.forEach(this._gwDomains, function(domain, idx) {\r\n         if (i === -1 && domain.regex.test(server)) {\r\n           i = idx;\r\n         }\r\n         if (j === -1 && domain.regex.test(resource)) {\r\n           j = idx;\r\n         }\r\n       });\r\n\r\n       var retVal = false;\r\n\r\n       if (i > -1 && j > -1) {\r\n         if (i === 0 || i === 4) {\r\n           if (j === 0 || j === 4) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 1) {\r\n           if (j === 1 || j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 2) {\r\n           if (j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 3) {\r\n           if (j === 3) {\r\n             retVal = true;\r\n           }\r\n         }\r\n       }\r\n\r\n       return retVal;\r\n     };\r\n    }\r\n\r\n\tfunction hideLoader(){\r\n\t  if (mapLoaded == false){\r\n\t\tmapLoaded = true;\r\n\t\t$(\"#loadingCon\").hide();\r\n\t\t$(\"#swipeImg\").css('left',((map.width/2)-80));\r\n\t\t$(\"#swipeImg\").css('top',((map.height/2)-50));\r\n\t\t$(\"#swipeImg\").show();\r\n\t  }\r\n\t}\r\n\r\n\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });\r\n\r\n\t//Swipe Control\r\n\tfunction populateLayerList(){\r\n\t  var select = dojo.byId(\"layerlistdd\");\r\n\t  if (map.graphics.graphics.length > 0) {\r\n\t\tselect.options[select.options.length] = new Option(\"Graphics Layer\", map.graphics.id,\"selected\");\r\n\t  }\r\n\t  //reverse to get the correct order of layers added to map\r\n\t  var layerids = dojo.clone(map.layerIds).reverse();\r\n\t  dojo.forEach(layerids, function(id, index){\r\n\t\tselect.options[select.options.length] = new Option(id, id);\r\n\t  });\r\n\t  select.disabled= false;\r\n\t  startswipe();\r\n\t}\r\n\r\n\tfunction initswipe() {\r\n      chooseLayer = configOptions.chooseSwipeLevel;\r\n\t  swipelayerid = dojo.byId(\"layerlistdd\")[chooseLayer].value;\r\n      clipval = map.width;\r\n      swipediv = null;\r\n      if (swipelayerid == map.graphics.id) {\r\n        //console.log(\"Graphics layer\");\r\n        //map.graphics._div.parent.rawNode.id\r\n        swipediv = dojo.byId(map.container.id + \"_gc\");\r\n      }\r\n      else {\r\n        var layer = map.getLayer(swipelayerid);\r\n        //console.log(layer);\r\n        if (layer == null || layer == undefined) {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n        swipediv = layer._div;\r\n\t  }\r\n      if (swipediv === undefined) {\r\n        alert(i18n.viewer.errors.undfnd);\r\n        return;\r\n      }\r\n\t  if (swipediv.style === undefined) {\r\n\t\talert(i18n.viewer.errors.noStyle);\r\n\t\treturn;\r\n\t  }\r\n      //console.log(\"Swipe ready to use on layer: \" + swipelayerid);\r\n    }\r\n\r\n    function startswipe(){\r\n      //map.hideZoomSlider();\r\n      //console.log(\"Swipe tool initializing ...\");\r\n\r\n      initswipe();\r\n\r\n      if (swipeslider != undefined || swipeslider != null) {\r\n        //console.log(\"swipe slider is visible? should not happen\");\r\n        //console.log(swipeslider);\r\n\t  }\r\n\r\n\t  //swipelayerid = dojo.byId(\"layerlistdd\").value;\r\n\t  //dojo.byId(\"layerlistdd\").disabled = true;\r\n\r\n\t  if (swipelayerid === undefined || swipelayerid == \"\") {\r\n        alert(i18n.viewer.errors.notDefined);\r\n        return;\r\n      }\r\n      swipeslider = new dojo.dnd.move.parentConstrainedMoveable(\"sliderdiv\", {\r\n        area: \"content\",\r\n        within: true\r\n      });\r\n\r\n      swipeslider.node.style.height = map.height + \"px\";\r\n      swipeslider.node.style.top = \"0px\";\r\n      swipeslider.node.style.left = ((map.width/2)-4) + \"px\";\r\n\t  if (iPad == true){\r\n\t\tswipeslider.node.style.left = ((map.width/2)-7) + \"px\";\r\n\t  }\r\n      clipval = ((map.width/2)-4);\r\n\r\n      //Just a check, should not call this function here\r\n        if (swipediv != null)\r\n        clearClip();\r\n\r\n        //console.log(\"Swipe layer: \" + swipelayerid);\r\n\r\n        if (swipelayerid == null || swipelayerid == \"\") {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n\r\n        cliplayer(swipelayerid);\r\n      }\r\n\r\n      function cliplayer(layerid){\r\n        //Initial swipe slider location\r\n        swipe(dojo.byId(\"sliderdiv\").style.left);\r\n\r\n        //Make the slider visible\r\n        dojo.byId(\"sliderdiv\").style.display = \"\";\r\n\r\n        dojo.connect(swipeslider, \"onMoveStart\", function(args){\r\n        //console.log(\"move start\");\r\n        //this.node.style.opacity = \"0.5\";\r\n        //dojo._setOpacity(this.node, 0.5);\r\n\t\t$(\"#sliderdiv\").fadeTo(\"fast\",\"0.5\");\r\n\t\t$(\"#swipeImg\").fadeOut();\r\n\r\n      });\r\n      swipeconnect = dojo.connect(swipeslider, 'onMove', function(args){\r\n        this.node.style.top = \"0px\"; //needed to avoid offset\r\n        var left = parseInt(this.node.style.left);\r\n        //console.log(left + \", \" + (map.width));\r\n        if (left <=0 || left >= (map.width)) return;\r\n          clipval = this.node.style.left;\r\n          swipe(clipval);\r\n        });\r\n        dojo.connect(swipeslider, \"onMoveStop\", function(args){\r\n          //console.log(\"move stop event\");\r\n          //this.node.style.opacity = \"1.0\";\r\n          //dojo._setOpacity(this.node, 1.0);\r\n\t\t  $(\"#sliderdiv\").fadeTo(\"fast\",\"1.5\");\r\n        });\r\n        panEndConnect = dojo.connect(map, 'onPanEnd', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          panConnect = dojo.connect(map, 'onPan', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n      }\r\n    }\r\n\r\n    function clearClip(){\r\n      //console.log(\"Clearing clip\");\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n      }\r\n    }\r\n\r\n    function swipe(val){\r\n      if (swipediv != null) {\r\n        offset_left = parseFloat(swipediv.style.left);\r\n        offset_top = parseFloat(swipediv.style.top);\r\n\r\n        //console.log(\"Val: \" + val);\r\n\r\n        var rightval, leftval, topval, bottomval;\r\n\r\n        if (offset_left > 0) {\r\n          rightval = parseFloat(val) - Math.abs(offset_left);\r\n          leftval = -(offset_left);\r\n        }\r\n        else\r\n        if (offset_left < 0) {\r\n          leftval = 0;\r\n          rightval = parseFloat(val) + Math.abs(offset_left);\r\n        }\r\n        else {\r\n          leftval = 0;\r\n          rightval = parseFloat(val);\r\n        }\r\n        if (offset_top > 0) {\r\n          topval = -(offset_top);\r\n          bottomval = map.height - offset_top;\r\n\t\t}\r\n        else\r\n        if (offset_top < 0) {\r\n          topval = 0;\r\n          bottomval = map.height + Math.abs(offset_top);\r\n        }\r\n        else {\r\n          topval = 0;\r\n          bottomval = map.height;\r\n        }\r\n\r\n        // If CSS Transformation is applied to the layer (i.e. swipediv),\r\n        // record the amount of translation and adjust clip rect\r\n        // accordingly\r\n        var tx = 0, ty = 0;\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          var prefix = \"\";\r\n          if (dojo.isWebKit) {\r\n            prefix = \"-webkit-\";\r\n          }\r\n          if (dojo.isFF) {\r\n            prefix = \"-moz-\";\r\n          }\r\n          if (dojo.isIE) {\r\n            prefix = \"-ms-\";\r\n          }\r\n          if (dojo.isOpera) {\r\n            prefix = \"-o-\";\r\n          }\r\n\r\n          var transformValue = swipediv.style.getPropertyValue(prefix + \"transform\");\r\n\r\n          if(transformValue) {\r\n\t\t\tif(transformValue.toLowerCase().indexOf(\"translate3d\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate3d(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\t\t\telse if(transformValue.toLowerCase().indexOf(\"translate\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(transformValue);\r\n\r\n\t\t\ttry {\r\n\t\t\t  tx = parseFloat(transformValue[0]);\r\n\t\t\t  ty = parseFloat(transformValue[1]);\r\n\t\t\t} catch(e) {\r\n\t\t\t  alert(\"Error cannot continue\");\r\n\t\t\t  console.error(e);\r\n\t\t\t}\r\n\r\n            //console.log(\"transform = \", tx, ty);\r\n            leftval -= tx;\r\n            rightval -= tx;\r\n            topval -= ty;\r\n            bottomval -= ty;\r\n          }\r\n        }\r\n\r\n        //Syntax for clip \"rect(top,right,bottom,left)\"\r\n        //var clipstring = \"rect(0px \" + val + \"px \" + map.height + \"px \" + \" 0px)\";\r\n        var clipstring = \"rect(\" + topval + \"px \" + rightval + \"px \" + bottomval + \"px \" + leftval + \"px)\";\r\n        //console.log(\"New Clip string(T,R,B,L): \" + clipstring);\r\n        swipediv.style.clip = clipstring;\r\n      }\r\n\t}\r\n\r\n    //This is called when \"Stop Swipe\" button is clicked\r\n    function stopswipe(){\r\n      map.showZoomSlider();\r\n      //console.log(\"Swipe tool disabled!\");\r\n      swipeslider = null;\r\n      //dojo.byId(\"layerlistdd\").disabled = false;\r\n      dojo.byId(\"sliderdiv\").style.display = \"none\";\r\n      if (swipeconnect)\r\n      dojo.disconnect(swipeconnect);\r\n      if (panEndConnect)\r\n      dojo.disconnect(panEndConnect);\r\n      if (panConnect)\r\n      dojo.disconnect(panConnect);\r\n      clearInterval(animtimer);\r\n      clearInterval(flashtimer);\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n        swipediv = null;\r\n      }\r\n\t}\r\n"]],"start1":0,"start2":0,"length1":0,"length2":16925}]],"length":16925}
{"contributors":[],"silentsave":false,"ts":1351807579232,"patch":[[{"diffs":[[0,"r = new "],[-1,"dojo."],[0,"dnd.move"]],"start1":10814,"start2":10814,"length1":21,"length2":16}]],"length":16920,"saved":false}
{"contributors":[],"silentsave":true,"ts":1352134794696,"patch":[[{"diffs":[[0,"\t\t\t   $(\"#legend"],[-1,"Toggle"],[1,"Con"],[0,"\").hide();\r\n\t\t  "]],"start1":3874,"start2":3874,"length1":38,"length2":35}]],"length":16917,"saved":false}
{"ts":1352134796233,"patch":[[{"diffs":[[0,"\t\t\t   $(\"#legend"],[-1,"Toggle"],[1,"Con"],[0,"\").hide();\r\n\t\t  "]],"start1":4091,"start2":4091,"length1":38,"length2":35}]],"length":16914,"saved":false}
{"ts":1352134871037,"patch":[[{"diffs":[[0,"nfigOptions."],[-1,"showL"],[1,"legend === \"false\" || configOptions.l"],[0,"egend =="],[1,"="],[0," false){\r\n\t\t"]],"start1":3839,"start2":3839,"length1":37,"length2":70}]],"length":16947,"saved":false}
{"ts":1352134874658,"patch":[[{"diffs":[[0,"Options."],[-1,"showL"],[1,"legend === \"false\" || configOptions.l"],[0,"egend =="],[1,"="],[0," false){"]],"start1":4093,"start2":4093,"length1":29,"length2":62}]],"length":16980,"saved":false}
{"ts":1352136349287,"patch":[[{"diffs":[[0,"  configOptions."],[1,"sub"],[0,"title = urlObjec"]],"start1":1962,"start2":1962,"length1":32,"length2":35}]],"length":16983,"saved":false}
{"ts":1352136454426,"patch":[[{"diffs":[[0,"uery.subtitle;\r\n"],[1,"       }       \r\n       if(urlObject.query.swipe){\r\n         configOptions.chooseSwipeLevel = urlObject.query.swipe;\r\n"],[0,"       }\r\n      "]],"start1":2000,"start2":2000,"length1":32,"length2":150}]],"length":17101,"saved":false}
{"ts":1352136726788,"patch":[[{"diffs":[[0,"map;\r\n       }\r\n"],[1,"       if(urlObject.query.legend){\r\n         configOptions.showLegend = urlObject.query.legend;\r\n       }\r\n"],[0,"       if(urlObj"]],"start1":2231,"start2":2231,"length1":32,"length2":139}]],"length":17208,"saved":false}
{"ts":1352136727137,"patch":[[{"diffs":[[0,"       }"],[-1,"       "],[0,"\r\n      "]],"start1":2016,"start2":2016,"length1":23,"length2":16}]],"length":17201,"saved":false}
{"ts":1352137146156,"patch":[[{"diffs":[[0,"f(configOptions."],[-1,"l"],[1,"showL"],[0,"egend === \"false"]],"start1":4056,"start2":4056,"length1":33,"length2":37}]],"length":17205,"saved":false}
{"ts":1352137147569,"patch":[[{"diffs":[[0,"| configOptions."],[-1,"l"],[1,"showL"],[0,"egend === false)"]],"start1":4096,"start2":4096,"length1":33,"length2":37}]],"length":17209,"saved":false}
{"ts":1352137149974,"patch":[[{"diffs":[[0,"f(configOptions."],[-1,"l"],[1,"showL"],[0,"egend === \"false"]],"start1":4314,"start2":4314,"length1":33,"length2":37},{"diffs":[[0,"Options."],[-1,"l"],[1,"showL"],[0,"egend =="]],"start1":4362,"start2":4362,"length1":17,"length2":21}]],"length":17217,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352230483852,"patch":[[{"diffs":[[0," patchID();\r"],[1,"\n       \r\n       dojo.some([\"ar\",\"he\"], function(l){\r\n         if(dojo.locale.indexOf(l) !== -1){\r\n           configOptions.isRightToLeft = true;\r\n           return true;\r\n         }\r\n       });\r\n       var dirNode = document.getElementsByTagName(\"html\")[0];\r\n       if(configOptions.isRightToLeft){\r\n         dirNode.setAttribute(\"dir\",\"rtl\");\r\n         dojo.addClass( dirNode,\"esriRtl\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"rtl\");\r\n       }else{\r\n         dirNode.setAttribute(\"dir\",\"ltr\");\r\n         dojo.addClass(dirNode,\"esriLtr\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"ltr\");\r\n       }\r"],[0,"\n\r\n       i1"]],"start1":672,"start2":672,"length1":24,"length2":694}]],"length":17887,"saved":false}
{"contributors":[],"silentsave":true,"ts":1352308556332,"patch":[[{"diffs":[[0,"der: true,\r\n"],[1,"           slider\r\n"],[0,"           n"]],"start1":3410,"start2":3410,"length1":24,"length2":43}]],"length":17906,"saved":false}
{"ts":1352308557282,"patch":[[{"diffs":[[0,"  slider"],[1,"St"],[0,"\r\n      "]],"start1":3431,"start2":3431,"length1":16,"length2":18}]],"length":17908,"saved":false}
{"ts":1352308558906,"patch":[[{"diffs":[[0,"sliderSt"],[1,"yle"],[0,"\r\n      "]],"start1":3433,"start2":3433,"length1":16,"length2":19}]],"length":17911,"saved":false}
{"ts":1352308560153,"patch":[[{"diffs":[[0,"derStyle"],[1,":"],[0,"\r\n      "]],"start1":3436,"start2":3436,"length1":16,"length2":17}]],"length":17912,"saved":false}
{"ts":1352308561361,"patch":[[{"diffs":[[0,"erStyle:"],[1,"\"ms"],[0,"\r\n      "]],"start1":3437,"start2":3437,"length1":16,"length2":19}]],"length":17915,"saved":false}
{"ts":1352308562868,"patch":[[{"diffs":[[0,"rStyle:\""],[-1,"m"],[0,"s\r\n     "]],"start1":3438,"start2":3438,"length1":17,"length2":16}]],"length":17914,"saved":false}
{"ts":1352308564989,"patch":[[{"diffs":[[0,"Style:\"s"],[1,"mall\""],[0,"\r\n      "]],"start1":3439,"start2":3439,"length1":16,"length2":21}]],"length":17919,"saved":false}
{"ts":1352308565253,"patch":[[{"diffs":[[0,"hID();\r\n"],[-1,"       "],[0,"\r\n      "]],"start1":677,"start2":677,"length1":23,"length2":16}]],"length":17912,"saved":false}
{"ts":1352308566066,"patch":[[{"diffs":[[0,":\"small\""],[1,","],[0,"\r\n      "]],"start1":3437,"start2":3437,"length1":16,"length2":17}]],"length":17913,"saved":false}
{"ts":1352309006942,"patch":[[{"diffs":[[1,"  \r\n  \r\n"],[0,"  dojo.require(\"esri.map\");\r"]],"start1":0,"start2":0,"length1":28,"length2":36}]],"length":17921,"saved":false}
{"ts":1352309008210,"patch":[[{"diffs":[[0,"  "],[1,"dojo.provide(\"utilities.layout\");"],[0,"\r\n  \r\n  dojo"]],"start1":0,"start2":0,"length1":14,"length2":47}]],"length":17954,"saved":false}
{"ts":1352309008508,"patch":[[{"diffs":[[0,"out\");\r\n"],[-1,"  "],[0,"\r\n  dojo"]],"start1":29,"start2":29,"length1":18,"length2":16}]],"length":17952,"saved":false}
{"ts":1352309052554,"patch":[[{"diffs":[[0,"ove\");\r\n"],[1,"  \r\n"],[0,"\r\n\r\n    "]],"start1":462,"start2":462,"length1":16,"length2":20}]],"length":17956,"saved":false}
{"ts":1352309053655,"patch":[[{"diffs":[[0,");\r\n  \r\n"],[1,"  utilities.layout = {};\r\n  dojo.mixin(utilities.layout,{\r\n"],[0,"\r\n\r\n    "]],"start1":466,"start2":466,"length1":16,"length2":75}]],"length":18015,"saved":false}
{"ts":1352309057089,"patch":[[{"diffs":[[0,"yout,{\r\n"],[1,"  })\r\n"],[0,"\r\n\r\n    "]],"start1":525,"start2":525,"length1":16,"length2":22}]],"length":18021,"saved":false}
{"ts":1352309058191,"patch":[[{"diffs":[[0,",{\r\n  })"],[1,";"],[0,"\r\n\r\n\r\n  "]],"start1":529,"start2":529,"length1":16,"length2":17}]],"length":18022,"saved":false}
{"ts":1352309066166,"patch":[[{"diffs":[[0,".layout = {}"],[1,"\r\n  "],[0,";\r\n  dojo.mi"]],"start1":485,"start2":485,"length1":24,"length2":28}]],"length":18026,"saved":false}
{"ts":1352309068114,"patch":[[{"diffs":[[0,"out = {}"],[-1,"\r\n  "],[0,";\r\n  doj"]],"start1":489,"start2":489,"length1":20,"length2":16}]],"length":18022,"saved":false}
{"ts":1352309070739,"patch":[[{"diffs":[[0,"yout,{\r\n"],[1,"      \r\n      \r\n"],[0,"  });\r\n\r"]],"start1":525,"start2":525,"length1":16,"length2":32}]],"length":18038,"saved":false}
{"ts":1352309071672,"patch":[[{"diffs":[[0,"      \r\n"],[1,"      \r\n"],[0,"  });\r\n\r"]],"start1":541,"start2":541,"length1":16,"length2":24}]],"length":18046,"saved":false}
{"ts":1352309072814,"patch":[[{"diffs":[[0,"\r\n      \r\n      "],[1,"var map, urlObject, i18n, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top, swipelayerid=\"\", swipeconnect=null, mapPoint, layers, setFeatures = true;\r\n     var mapLoaded = false;"],[0,"\r\n      \r\n  });\r"]],"start1":531,"start2":531,"length1":32,"length2":230}]],"length":18244,"saved":false}
{"ts":1352309076530,"patch":[[{"diffs":[[0,"    \r\n      "],[-1,"var "],[0,"map, urlObje"]],"start1":535,"start2":535,"length1":28,"length2":24}]],"length":18240,"saved":false}
{"ts":1352309079119,"patch":[[{"diffs":[[0," \r\n      map"],[1,":null"],[0,", urlObject,"]],"start1":538,"start2":538,"length1":24,"length2":29}]],"length":18245,"saved":false}
{"ts":1352309083763,"patch":[[{"diffs":[[0,"map:null"],[-1,","],[0," urlObje"]],"start1":547,"start2":547,"length1":17,"length2":16}]],"length":18244,"saved":false}
{"ts":1352309085180,"patch":[[{"diffs":[[0,"map:null"],[-1," "],[1,","],[0,"urlObjec"]],"start1":547,"start2":547,"length1":17,"length2":17}]],"length":18244,"saved":false}
{"ts":1352309086387,"patch":[[{"diffs":[[0,"ap:null,"],[1,"\r\n      "],[0,"urlObjec"]],"start1":548,"start2":548,"length1":16,"length2":24}]],"length":18252,"saved":false}
{"ts":1352309090954,"patch":[[{"diffs":[[0,"\n      urlObject"],[1,":null"],[0,", i18n, chooseLa"]],"start1":557,"start2":557,"length1":32,"length2":37}]],"length":18257,"saved":false}
{"ts":1352309093855,"patch":[[{"diffs":[[0,"ct:null,"],[1,"\r\n     "],[0," i18n, c"]],"start1":571,"start2":571,"length1":16,"length2":23}]],"length":18264,"saved":false}
{"ts":1352309096797,"patch":[[{"diffs":[[0,"\r\n      i18n"],[1,":null"],[0,", chooseLaye"]],"start1":579,"start2":579,"length1":24,"length2":29}]],"length":18269,"saved":false}
{"ts":1352309099470,"patch":[[{"diffs":[[0,"8n:null,"],[1,"\r\n     "],[0," chooseL"]],"start1":589,"start2":589,"length1":16,"length2":23}]],"length":18276,"saved":false}
{"ts":1352309102836,"patch":[[{"diffs":[[0,"     chooseLayer"],[1,":null"],[0,", swipeslider, s"]],"start1":600,"start2":600,"length1":32,"length2":37}]],"length":18281,"saved":false}
{"ts":1352309105044,"patch":[[{"diffs":[[0,"er:null,"],[1,"\r\n     "],[0," swipesl"]],"start1":614,"start2":614,"length1":16,"length2":23}]],"length":18288,"saved":false}
{"ts":1352309107870,"patch":[[{"diffs":[[0,"     swipeslider"],[1,":null"],[0,", swipediv, clip"]],"start1":625,"start2":625,"length1":32,"length2":37}]],"length":18293,"saved":false}
{"ts":1352309109463,"patch":[[{"diffs":[[0,"er:null,"],[1,"\r\n     "],[0," swipedi"]],"start1":639,"start2":639,"length1":16,"length2":23}]],"length":18300,"saved":false}
{"ts":1352309112833,"patch":[[{"diffs":[[0,"\r\n      swipediv"],[1,":null"],[0,", clipval, offse"]],"start1":647,"start2":647,"length1":32,"length2":37}]],"length":18305,"saved":false}
{"ts":1352309114968,"patch":[[{"diffs":[[0,"iv:null,"],[1,"\r\n     "],[0," clipval"]],"start1":661,"start2":661,"length1":16,"length2":23}]],"length":18312,"saved":false}
{"ts":1352309118115,"patch":[[{"diffs":[[0,",\r\n      clipval"],[1,":null"],[0,", offset_left, o"]],"start1":668,"start2":668,"length1":32,"length2":37}]],"length":18317,"saved":false}
{"ts":1352309119541,"patch":[[{"diffs":[[0,"al:null,"],[1,"\r\n     "],[0," offset_"]],"start1":682,"start2":682,"length1":16,"length2":23}]],"length":18324,"saved":false}
{"ts":1352309125174,"patch":[[{"diffs":[[0,"     offset_left"],[1,":ni"],[0,", offset_top, sw"]],"start1":693,"start2":693,"length1":32,"length2":35}]],"length":18327,"saved":false}
{"ts":1352309127442,"patch":[[{"diffs":[[0,"t_left:n"],[-1,"i"],[1,"ull"],[0,", offset"]],"start1":703,"start2":703,"length1":17,"length2":19}]],"length":18329,"saved":false}
{"ts":1352309130420,"patch":[[{"diffs":[[0,"ft:null,"],[1,"\r\n     "],[0," offset_"]],"start1":707,"start2":707,"length1":16,"length2":23}]],"length":18336,"saved":false}
{"ts":1352309134262,"patch":[[{"diffs":[[0,"      offset_top"],[1,":null"],[0,", swipelayerid=\""]],"start1":717,"start2":717,"length1":32,"length2":37}]],"length":18341,"saved":false}
{"ts":1352309135794,"patch":[[{"diffs":[[0,"op:null,"],[1,"\r\n     "],[0," swipela"]],"start1":731,"start2":731,"length1":16,"length2":23}]],"length":18348,"saved":false}
{"ts":1352309140908,"patch":[[{"diffs":[[0,"    swipelayerid"],[-1,"="],[1,"\r\n      "],[0,"\"\", swipeconnect"]],"start1":743,"start2":743,"length1":33,"length2":40}]],"length":18355,"saved":false}
{"ts":1352309142336,"patch":[[{"diffs":[[0,"elayerid"],[-1,"\r\n      "],[0,"\"\", swip"]],"start1":751,"start2":751,"length1":24,"length2":16}]],"length":18347,"saved":false}
{"ts":1352309143902,"patch":[[{"diffs":[[0,"elayerid"],[1,":"],[0,"\"\", swip"]],"start1":751,"start2":751,"length1":16,"length2":17}]],"length":18348,"saved":false}
{"ts":1352309156728,"patch":[[{"diffs":[[0,"erid:\"\","],[1,"\r\n     "],[0," swipeco"]],"start1":755,"start2":755,"length1":16,"length2":23}]],"length":18355,"saved":false}
{"ts":1352309158624,"patch":[[{"diffs":[[0,"    swipeconnect"],[-1,"="],[1,":"],[0,"null, mapPoint, "]],"start1":767,"start2":767,"length1":33,"length2":33}]],"length":18355,"saved":false}
{"ts":1352309162209,"patch":[[{"diffs":[[0,"onnect:null,"],[1,"\r\n     "],[0," mapPoint, l"]],"start1":777,"start2":777,"length1":24,"length2":31}]],"length":18362,"saved":false}
{"ts":1352309166361,"patch":[[{"diffs":[[0,"\r\n      mapPoint"],[1,":null"],[0,", layers, setFea"]],"start1":789,"start2":789,"length1":32,"length2":37}]],"length":18367,"saved":false}
{"ts":1352309167523,"patch":[[{"diffs":[[0,"nt:null,"],[1,"\r\n     "],[0," layers,"]],"start1":803,"start2":803,"length1":16,"length2":23}]],"length":18374,"saved":false}
{"ts":1352309171324,"patch":[[{"diffs":[[0,"      layers"],[1,":null"],[0,", setFeature"]],"start1":813,"start2":813,"length1":24,"length2":29}]],"length":18379,"saved":false}
{"ts":1352309173015,"patch":[[{"diffs":[[0,"rs:null,"],[1,"\r\n     "],[0," setFeat"]],"start1":823,"start2":823,"length1":16,"length2":23}]],"length":18386,"saved":false}
{"ts":1352309179018,"patch":[[{"diffs":[[0,"     setFeatures"],[-1," ="],[0," true;\r\n     var"]],"start1":834,"start2":834,"length1":34,"length2":32}]],"length":18384,"saved":false}
{"ts":1352309179856,"patch":[[{"diffs":[[0,"Features"],[-1," "],[0,"true;\r\n "]],"start1":842,"start2":842,"length1":17,"length2":16}]],"length":18383,"saved":false}
{"ts":1352309180767,"patch":[[{"diffs":[[0,"Features"],[1,":"],[0,"true;\r\n "]],"start1":842,"start2":842,"length1":16,"length2":17}]],"length":18384,"saved":false}
{"ts":1352309561610,"patch":[[{"diffs":[[0,"atures:true;"],[-1,"\r\n    "],[0," var mapLoad"]],"start1":844,"start2":844,"length1":30,"length2":24}]],"length":18378,"saved":false}
{"ts":1352309564250,"patch":[[{"diffs":[[0,"true"],[-1,"; var "],[0,"mapL"]],"start1":851,"start2":851,"length1":14,"length2":8}]],"length":18372,"saved":false}
{"ts":1352309565324,"patch":[[{"diffs":[[0,"res:true"],[1,",\r\n      "],[0,"mapLoade"]],"start1":847,"start2":847,"length1":16,"length2":25}]],"length":18381,"saved":false}
{"ts":1352309568118,"patch":[[{"diffs":[[0,"      mapLoaded "],[-1,"="],[0," false;\r\n      \r"]],"start1":858,"start2":858,"length1":33,"length2":32}]],"length":18380,"saved":false}
{"ts":1352309569295,"patch":[[{"diffs":[[0,"apLoaded"],[-1,"  "],[0,"false;\r\n"]],"start1":865,"start2":865,"length1":18,"length2":16}]],"length":18378,"saved":false}
{"ts":1352309570351,"patch":[[{"diffs":[[0,"apLoaded"],[1,":"],[0,"false;\r\n"]],"start1":865,"start2":865,"length1":16,"length2":17}]],"length":18379,"saved":false}
{"ts":1352309573415,"patch":[[{"diffs":[[0,"Loaded:false"],[-1,";"],[0,"\r\n      \r\n  "]],"start1":867,"start2":867,"length1":25,"length2":24}]],"length":18378,"saved":false}
{"ts":1352309591069,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"\r\n     var map, urlObject, i18n, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top, swipelayerid=\"\", swipeconnect=null, mapPoint, layers, setFeatures = true;\r\n     var mapLoaded = false;\r\n\r\n"],[0,"\t fu"]],"start1":894,"start2":894,"length1":217,"length2":8}]],"length":18169,"saved":false}
{"ts":1352309693619,"patch":[[{"diffs":[[-1,"  dojo.provide(\"utilities.layout\");\r\n\r\n"],[0,"  dojo."],[1,""],[0,"requ"]],"start1":0,"start2":0,"length1":50,"length2":11},{"diffs":[[0,");\r\n"],[-1,"  \r\n  utilities.layout = {};\r\n  dojo.mixin(utilities.layout,{\r\n      \r\n      map:null,\r\n      urlObject:null,\r\n      i18n:null,\r\n      chooseLayer:null,\r\n      swipeslider:null,\r\n      swipediv:null,\r\n      clipval:null,\r\n      offset_left:null,\r\n      offset_top:null,\r\n     "],[1,"\r\n\r\n     var map, urlObject, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top,"],[0," swi"]],"start1":427,"start2":427,"length1":284,"length2":106},{"diffs":[[0,"erid"],[-1,":"],[1,"="],[0,"\"\","],[-1,"\r\n     "],[0," swi"]],"start1":538,"start2":538,"length1":19,"length2":12},{"diffs":[[0,"econnect"],[-1,":"],[1,"="],[0,"null,"],[-1,"\r\n     "],[0," mapPoin"]],"start1":551,"start2":551,"length1":29,"length2":22},{"diffs":[[0,"oint"],[-1,":null,\r\n      layers:null,\r\n     "],[1,", layers,"],[0," set"]],"start1":570,"start2":570,"length1":41,"length2":17},{"diffs":[[0,"ures"],[-1,":"],[1," = "],[0,"true"],[-1,","],[1,";"],[0,"\r\n     "],[1,"var"],[0," map"]],"start1":591,"start2":591,"length1":21,"length2":26},{"diffs":[[0,"aded"],[-1,":"],[1," = "],[0,"false"],[1,";\r\n"],[0,"\r\n     "],[-1," \r\n  });\r\n\r\n\t "],[0,"func"]],"start1":619,"start2":619,"length1":35,"length2":26},{"diffs":[[0,"\r\n\r\n"],[-1,"       dojo.some([\"ar\",\"he\"], function(l){\r\n         if(dojo.locale.indexOf(l) !== -1){\r\n           configOptions.isRightToLeft = true;\r\n           return true;\r\n         }\r\n       });\r\n       var dirNode = document.getElementsByTagName(\"html\")[0];\r\n       if(configOptions.isRightToLeft){\r\n         dirNode.setAttribute(\"dir\",\"rtl\");\r\n         dojo.addClass( dirNode,\"esriRtl\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"rtl\");\r\n       }else{\r\n         dirNode.setAttribute(\"dir\",\"ltr\");\r\n         dojo.addClass(dirNode,\"esriLtr\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"ltr\");\r\n       }\r\n\r\n"],[0,"    "]],"start1":680,"start2":680,"length1":671,"length2":8},{"diffs":[[0,"url;\r\n\r\n"],[1,"\t   //is an appid specified - if so read json from there\r\n\t  if(configOptions.appid || (urlObject.query && urlObject.query.appid)){\r\n\t\tvar appid = configOptions.appid || urlObject.query.appid;\r\n\t\tvar requestHandle = esri.request({\r\n\t\t  url: configOptions.sharingurl + \"/\" + appid + \"/data\",\r\n\t\t  content: {f:\"json\"},\r\n\t\t  callbackParamName:\"callback\",\r\n\t\t  load: function(response){\r\n\t\t\t   if(response.values.title !== undefined){configOptions.title = response.values.title;}\r\n\t\t\t   if(response.values.subtitle !== undefined){configOptions.subtitle = response.values.subtitle;}\r\n\t\t\t   if(response.values.legend !== undefined){configOptions.showLegend = response.values.legend;}\r\n\t\t\t   if(response.values.swipe !== undefined){configOptions.chooseSwipeLevel = response.values.swipe;}\r\n        \t   if(response.values.webmap !== undefined){configOptions.webmap = response.values.webmap;}\r\n\r\n\t\t\t   createMap();\r\n\t\t  },\r\n\t\t  error: function(response){\r\n\t\t\tvar e = response.message;\r\n\t\t   alert(i18n.viewer.errors.createMap +  response.message);\r\n\t\t  }\r\n\t\t});\r\n\t\t }else{\r\n\t\t\tcreateMap();\r\n\t\t }\r\n\t }\r\n\r\nfunction createMap(){\r\n"],[0,"\t  var p"]],"start1":2519,"start2":2519,"length1":16,"length2":1134},{"diffs":[[0,"ert("],[-1,"i18n.viewer.errors.createMap"],[1,"\"Unable to create map: \""],[0," + \""]],"start1":5807,"start2":5807,"length1":36,"length2":32}]],"length":18361,"saved":false}
{"ts":1352310002211,"patch":[[{"diffs":[[1,"  \r\n  \r\n"],[0,"  dojo.require(\"esri.map\");\r"]],"start1":0,"start2":0,"length1":28,"length2":36}]],"length":18369,"saved":false}
{"ts":1352310003078,"patch":[[{"diffs":[[0,"  "],[1,"dojo.provide(\"utilities.layout\");"],[0,"\r\n  \r\n  dojo"]],"start1":0,"start2":0,"length1":14,"length2":47}]],"length":18402,"saved":false}
{"ts":1352310003450,"patch":[[{"diffs":[[0,"out\");\r\n"],[-1,"  "],[0,"\r\n  dojo"]],"start1":29,"start2":29,"length1":18,"length2":16}]],"length":18400,"saved":false}
{"ts":1352310019864,"patch":[[{"diffs":[[0,"ove\");\r\n"],[1,"  \r\n  \r\n  utilities.layout = {};\r\n  dojo.mixin(utilities.layout,{\r\n"],[0,"\r\n\r\n    "]],"start1":462,"start2":462,"length1":16,"length2":83}]],"length":18467,"saved":false}
{"ts":1352310024371,"patch":[[{"diffs":[[0,"yout,{\r\n"],[1,"  });\r\n"],[0,"\r\n\r\n    "]],"start1":529,"start2":529,"length1":16,"length2":23}]],"length":18474,"saved":false}
{"ts":1352310028657,"patch":[[{"diffs":[[0,"    "],[-1,"var map, urlObject, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top, swipelayerid=\"\", swipeconnect=null, mapPoint, layers, setFeatures = true;\r\n     var mapLoaded = false;"],[0,"\r\n\r\n"]],"start1":549,"start2":549,"length1":200,"length2":8}]],"length":18282,"saved":false}
{"ts":1352310030890,"patch":[[{"diffs":[[0,"yout,{\r\n"],[1,"      var map, urlObject, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top, swipelayerid=\"\", swipeconnect=null, mapPoint, layers, setFeatures = true;\r\n     var mapLoaded = false;\r\n"],[0,"  });\r\n\r"]],"start1":529,"start2":529,"length1":16,"length2":216}]],"length":18482,"saved":false}
{"ts":1352310034014,"patch":[[{"diffs":[[0,"\r\n      "],[-1,"var "],[0,"map, url"]],"start1":535,"start2":535,"length1":20,"length2":16}]],"length":18478,"saved":false}
{"ts":1352310036830,"patch":[[{"diffs":[[0,"     map"],[1,":null"],[0,", urlObj"]],"start1":538,"start2":538,"length1":16,"length2":21}]],"length":18483,"saved":false}
{"ts":1352310038447,"patch":[[{"diffs":[[0,"ap:null,"],[1,"\r\n     "],[0," urlObje"]],"start1":544,"start2":544,"length1":16,"length2":23}]],"length":18490,"saved":false}
{"ts":1352310041618,"patch":[[{"diffs":[[0,"rlObject"],[1,":null"],[0,", choose"]],"start1":561,"start2":561,"length1":16,"length2":21}]],"length":18495,"saved":false}
{"ts":1352310047056,"patch":[[{"diffs":[[0,"ct:null,"],[1,"\r\n     "],[0," chooseL"]],"start1":567,"start2":567,"length1":16,"length2":23}]],"length":18502,"saved":false}
{"ts":1352310049832,"patch":[[{"diffs":[[0,"oseLayer"],[1,":null"],[0,", swipes"]],"start1":586,"start2":586,"length1":16,"length2":21}]],"length":18507,"saved":false}
{"ts":1352310051885,"patch":[[{"diffs":[[0,"er:null,"],[1,"\r\n     "],[0," "],[-1,"s"],[0,"wipeslid"]],"start1":592,"start2":592,"length1":18,"length2":24}]],"length":18513,"saved":false}
{"ts":1352310052986,"patch":[[{"diffs":[[0,"\r\n      "],[1,"s"],[0,"wipeslid"]],"start1":600,"start2":600,"length1":16,"length2":17}]],"length":18514,"saved":false}
{"ts":1352310056573,"patch":[[{"diffs":[[0,"peslider"],[1,":null"],[0,", swiped"]],"start1":611,"start2":611,"length1":16,"length2":21}]],"length":18519,"saved":false}
{"ts":1352310058172,"patch":[[{"diffs":[[0,"er:null,"],[1,"\r\n     "],[0," swipedi"]],"start1":617,"start2":617,"length1":16,"length2":23}]],"length":18526,"saved":false}
{"ts":1352310061218,"patch":[[{"diffs":[[0,"swipediv"],[1,":null"],[0,", clipva"]],"start1":633,"start2":633,"length1":16,"length2":21}]],"length":18531,"saved":false}
{"ts":1352310070020,"patch":[[{"diffs":[[0,"iv:null,"],[1,"\r\n     "],[0," clipval"]],"start1":639,"start2":639,"length1":16,"length2":23}]],"length":18538,"saved":false}
{"ts":1352310073456,"patch":[[{"diffs":[[0," clipval"],[1,":null"],[0,", offset"]],"start1":654,"start2":654,"length1":16,"length2":21}]],"length":18543,"saved":false}
{"ts":1352310074934,"patch":[[{"diffs":[[0,"al:null,"],[1,"\r\n     "],[0," offset_"]],"start1":660,"start2":660,"length1":16,"length2":23}]],"length":18550,"saved":false}
{"ts":1352310077826,"patch":[[{"diffs":[[0,"set_left"],[1,":null"],[0,", offset"]],"start1":679,"start2":679,"length1":16,"length2":21}]],"length":18555,"saved":false}
{"ts":1352310078750,"patch":[[{"diffs":[[0,"ft:null,"],[1,"\r\n     "],[0," offset_"]],"start1":685,"start2":685,"length1":16,"length2":23}]],"length":18562,"saved":false}
{"ts":1352310080574,"patch":[[{"diffs":[[0,"fset_top"],[1,":null"],[0,", swipel"]],"start1":703,"start2":703,"length1":16,"length2":21}]],"length":18567,"saved":false}
{"ts":1352310081804,"patch":[[{"diffs":[[0,"op:null,"],[1,"\r\n     "],[0," swipela"]],"start1":709,"start2":709,"length1":16,"length2":23}]],"length":18574,"saved":false}
{"ts":1352310084494,"patch":[[{"diffs":[[0,"elayerid"],[-1,"="],[1,":"],[0,"\"\", swip"]],"start1":729,"start2":729,"length1":17,"length2":17}]],"length":18574,"saved":false}
{"ts":1352310086753,"patch":[[{"diffs":[[0,"erid:\"\","],[1,"\r\n     "],[0," swipeco"]],"start1":733,"start2":733,"length1":16,"length2":23}]],"length":18581,"saved":false}
{"ts":1352310089601,"patch":[[{"diffs":[[0,"econnect"],[-1,"="],[1,"\r\n      "],[0,"null, ma"]],"start1":753,"start2":753,"length1":17,"length2":24}]],"length":18588,"saved":false}
{"ts":1352310092310,"patch":[[{"diffs":[[0,"econnect"],[-1,"\r\n      "],[0,"null, ma"]],"start1":753,"start2":753,"length1":24,"length2":16}]],"length":18580,"saved":false}
{"ts":1352310093319,"patch":[[{"diffs":[[0,"econnect"],[1,":"],[0,"null, ma"]],"start1":753,"start2":753,"length1":16,"length2":17}]],"length":18581,"saved":false}
{"ts":1352310096005,"patch":[[{"diffs":[[0,"ct:null,"],[1,"\r\n     "],[0," mapPoin"]],"start1":759,"start2":759,"length1":16,"length2":23}]],"length":18588,"saved":false}
{"ts":1352310098316,"patch":[[{"diffs":[[0,"mapPoint"],[1,"::null"],[0,", layers"]],"start1":775,"start2":775,"length1":16,"length2":22}]],"length":18594,"saved":false}
{"ts":1352310100260,"patch":[[{"diffs":[[0,"oint"],[-1,"::null"],[0,", la"]],"start1":779,"start2":779,"length1":14,"length2":8}]],"length":18588,"saved":false}
{"ts":1352310101199,"patch":[[{"diffs":[[0,"mapPoint"],[1,":null"],[0,", layers"]],"start1":775,"start2":775,"length1":16,"length2":21}]],"length":18593,"saved":false}
{"ts":1352310103253,"patch":[[{"diffs":[[0,"nt:null,"],[1,"\r\n     "],[0," layers,"]],"start1":781,"start2":781,"length1":16,"length2":23}]],"length":18600,"saved":false}
{"ts":1352310106197,"patch":[[{"diffs":[[0,"  layers"],[-1,","],[1,":null,\r\n     "],[0," setFeat"]],"start1":795,"start2":795,"length1":17,"length2":29}]],"length":18612,"saved":false}
{"ts":1352310109818,"patch":[[{"diffs":[[0," setFeatures"],[-1," = "],[0,"true;\r\n     "]],"start1":816,"start2":816,"length1":27,"length2":24}]],"length":18609,"saved":false}
{"ts":1352310110567,"patch":[[{"diffs":[[0,"Features"],[1,":"],[0,"true;\r\n "]],"start1":820,"start2":820,"length1":16,"length2":17}]],"length":18610,"saved":false}
{"ts":1352310113358,"patch":[[{"diffs":[[0,"eatures:true"],[-1,";"],[1,","],[0,"\r\n     var m"]],"start1":821,"start2":821,"length1":25,"length2":25}]],"length":18610,"saved":false}
{"ts":1352310114405,"patch":[[{"diffs":[[0,"ures:true,\r\n"],[1,"      \r\n"],[0,"     var map"]],"start1":824,"start2":824,"length1":24,"length2":32}]],"length":18618,"saved":false}
{"ts":1352310117388,"patch":[[{"diffs":[[0,"    "],[-1,"\r\n     var "],[0,"mapL"]],"start1":838,"start2":838,"length1":19,"length2":8}]],"length":18607,"saved":false}
{"ts":1352310120266,"patch":[[{"diffs":[[0,"apLoaded"],[-1," = "],[0,"false;\r\n"]],"start1":843,"start2":843,"length1":19,"length2":16}]],"length":18604,"saved":false}
{"ts":1352310121882,"patch":[[{"diffs":[[0,"apLoaded"],[1,":"],[0,"false;\r\n"]],"start1":843,"start2":843,"length1":16,"length2":17}]],"length":18605,"saved":false}
{"ts":1352310123148,"patch":[[{"diffs":[[0,"pLoaded:"],[-1,"fa"],[0,"lse;\r\n  "]],"start1":844,"start2":844,"length1":18,"length2":16}]],"length":18603,"saved":false}
{"ts":1352310124826,"patch":[[{"diffs":[[0,"pLoaded:"],[1,"fa"],[0,"lse;\r\n  "]],"start1":844,"start2":844,"length1":16,"length2":18}]],"length":18605,"saved":false}
{"ts":1352310126545,"patch":[[{"diffs":[[0,"Loaded:false"],[-1,";"],[0,"\r\n  });\r\n\r\n\r"]],"start1":845,"start2":845,"length1":25,"length2":24}]],"length":18604,"saved":false}
{"ts":1352310130492,"patch":[[{"diffs":[[0,"Loaded:false"],[1,",\r\n      "],[0,"\r\n  });\r\n\r\n\r"]],"start1":845,"start2":845,"length1":24,"length2":33}]],"length":18613,"saved":false}
{"ts":1352310131339,"patch":[[{"diffs":[[0,"      \r\n"],[1,"      \r\n"],[0,"  });\r\n\r"]],"start1":860,"start2":860,"length1":16,"length2":24}]],"length":18621,"saved":false}
{"ts":1352310132135,"patch":[[{"diffs":[[0,"      \r\n"],[1,"      \r\n"],[0,"  });\r\n\r"]],"start1":868,"start2":868,"length1":16,"length2":24}]],"length":18629,"saved":false}
{"ts":1352310134566,"patch":[[{"diffs":[[0,"yout,{\r\n"],[1,"      \r\n"],[0,"      ma"]],"start1":529,"start2":529,"length1":16,"length2":24}]],"length":18637,"saved":false}
{"ts":1352310148519,"patch":[[{"diffs":[[0,"    "],[-1,"function initMap() {\r\n       patchID();\r\n\r\n       i18n = dojo.i18n.getLocalization(\"esriTemplate\",\"template\");\r\n       dojo.byId('loading').innerHTML = i18n.viewer.loading.message;\r\n       dojo.byId('legTogText').innerHTML = i18n.viewer.legToggle.down;\r\n\r\n       if(configOptions.geometryserviceurl && location.protocol === \"https:\"){\r\n         configOptions.geometryserviceurl = configOptions.geometryserviceurl.replace('http:','https:');\r\n       }\r\n       esri.config.defaults.geometryService = new esri.tasks.GeometryService(configOptions.geometryserviceurl);\r\n\r\n       if(!configOptions.sharingurl){\r\n         configOptions.sharingurl = location.protocol + '//' + location.host + \"/sharing/content/items\";\r\n       }\r\n       esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n       if(!configOptions.proxyurl){\r\n         configOptions.proxyurl = location.protocol + '//' + location.host + \"/sharing/proxy\";\r\n       }\r\n\r\n       esri.config.defaults.io.proxyUrl =  configOptions.proxyurl;\r\n\r\n       esri.config.defaults.io.alwaysUseProxy = false;\r\n\r\n       urlObject = esri.urlToObject(document.location.href);\r\n       urlObject.query = urlObject.query || {};\r\n\r\n       if(urlObject.query.title){\r\n         configOptions.title = urlObject.query.title;\r\n       }\r\n       if(urlObject.query.subtitle){\r\n         configOptions.subtitle = urlObject.query.subtitle;\r\n       }\r\n       if(urlObject.query.swipe){\r\n         configOptions.chooseSwipeLevel = urlObject.query.swipe;\r\n       }\r\n       if(urlObject.query.webmap){\r\n         configOptions.webmap = urlObject.query.webmap;\r\n       }\r\n       if(urlObject.query.legend){\r\n         configOptions.showLegend = urlObject.query.legend;\r\n       }\r\n       if(urlObject.query.bingMapsKey){\r\n         configOptions.bingmapskey = urlObject.query.bingMapsKey;\r\n       }\r\n\r\n\t   esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n\t   //is an appid specified - if so read json from there\r\n\t  if(configOptions.appid || (urlObject.query && urlObject.query.appid)){\r\n\t\tvar appid = configOptions.appid || urlObject.query.appid;\r\n\t\tvar requestHandle = esri.request({\r\n\t\t  url: configOptions.sharingurl + \"/\" + appid + \"/data\",\r\n\t\t  content: {f:\"json\"},\r\n\t\t  callbackParamName:\"callback\",\r\n\t\t  load: function(response){\r\n\t\t\t   if(response.values.title !== undefined){configOptions.title = response.values.title;}\r\n\t\t\t   if(response.values.subtitle !== undefined){configOptions.subtitle = response.values.subtitle;}\r\n\t\t\t   if(response.values.legend !== undefined){configOptions.showLegend = response.values.legend;}\r\n\t\t\t   if(response.values.swipe !== undefined){configOptions.chooseSwipeLevel = response.values.swipe;}\r\n        \t   if(response.values.webmap !== undefined){configOptions.webmap = response.values.webmap;}\r\n\r\n\t\t\t   createMap();\r\n\t\t  },\r\n\t\t  error: function(response){\r\n\t\t\tvar e = response.message;\r\n\t\t   alert(i18n.viewer.errors.createMap +  response.message);\r\n\t\t  }\r\n\t\t});\r\n\t\t }else{\r\n\t\t\tcreateMap();\r\n\t\t }\r\n\t }"],[0,"\r\n\r\n"]],"start1":913,"start2":913,"length1":2985,"length2":8}]],"length":15660,"saved":false}
{"ts":1352310152194,"patch":[[{"diffs":[[0,"\r\n      \r\n      "],[1,"function initMap() {\r\n       patchID();\r\n\r\n       i18n = dojo.i18n.getLocalization(\"esriTemplate\",\"template\");\r\n       dojo.byId('loading').innerHTML = i18n.viewer.loading.message;\r\n       dojo.byId('legTogText').innerHTML = i18n.viewer.legToggle.down;\r\n\r\n       if(configOptions.geometryserviceurl && location.protocol === \"https:\"){\r\n         configOptions.geometryserviceurl = configOptions.geometryserviceurl.replace('http:','https:');\r\n       }\r\n       esri.config.defaults.geometryService = new esri.tasks.GeometryService(configOptions.geometryserviceurl);\r\n\r\n       if(!configOptions.sharingurl){\r\n         configOptions.sharingurl = location.protocol + '//' + location.host + \"/sharing/content/items\";\r\n       }\r\n       esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n       if(!configOptions.proxyurl){\r\n         configOptions.proxyurl = location.protocol + '//' + location.host + \"/sharing/proxy\";\r\n       }\r\n\r\n       esri.config.defaults.io.proxyUrl =  configOptions.proxyurl;\r\n\r\n       esri.config.defaults.io.alwaysUseProxy = false;\r\n\r\n       urlObject = esri.urlToObject(document.location.href);\r\n       urlObject.query = urlObject.query || {};\r\n\r\n       if(urlObject.query.title){\r\n         configOptions.title = urlObject.query.title;\r\n       }\r\n       if(urlObject.query.subtitle){\r\n         configOptions.subtitle = urlObject.query.subtitle;\r\n       }\r\n       if(urlObject.query.swipe){\r\n         configOptions.chooseSwipeLevel = urlObject.query.swipe;\r\n       }\r\n       if(urlObject.query.webmap){\r\n         configOptions.webmap = urlObject.query.webmap;\r\n       }\r\n       if(urlObject.query.legend){\r\n         configOptions.showLegend = urlObject.query.legend;\r\n       }\r\n       if(urlObject.query.bingMapsKey){\r\n         configOptions.bingmapskey = urlObject.query.bingMapsKey;\r\n       }\r\n\r\n       esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n\t   //is an appid specified - if so read json from there\r\n\t  if(configOptions.appid || (urlObject.query && urlObject.query.appid)){\r\n\t\tvar appid = configOptions.appid || urlObject.query.appid;\r\n\t\tvar requestHandle = esri.request({\r\n\t\t  url: configOptions.sharingurl + \"/\" + appid + \"/data\",\r\n\t\t  content: {f:\"json\"},\r\n\t\t  callbackParamName:\"callback\",\r\n\t\t  load: function(response){\r\n\t\t\t   if(response.values.title !== undefined){configOptions.title = response.values.title;}\r\n\t\t\t   if(response.values.subtitle !== undefined){configOptions.subtitle = response.values.subtitle;}\r\n\t\t\t   if(response.values.legend !== undefined){configOptions.showLegend = response.values.legend;}\r\n\t\t\t   if(response.values.swipe !== undefined){configOptions.chooseSwipeLevel = response.values.swipe;}\r\n        \t   if(response.values.webmap !== undefined){configOptions.webmap = response.values.webmap;}\r\n\r\n\t\t\t   createMap();\r\n\t\t  },\r\n\t\t  error: function(response){\r\n\t\t\tvar e = response.message;\r\n\t\t   alert(i18n.viewer.errors.createMap +  response.message);\r\n\t\t  }\r\n\t\t});\r\n\t\t }else{\r\n\t\t\tcreateMap();\r\n\t\t }\r\n\t }"],[0,"\r\n      \r\n  });\r"]],"start1":866,"start2":866,"length1":32,"length2":3012}]],"length":18640,"saved":false}
{"ts":1352310158413,"patch":[[{"diffs":[[0,"ion "],[-1,"initMap"],[0,"() {"]],"start1":887,"start2":887,"length1":15,"length2":8}]],"length":18633,"saved":false}
{"ts":1352310159425,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"() {\r\n  "]],"start1":882,"start2":882,"length1":17,"length2":16}]],"length":18632,"saved":false}
{"ts":1352310161564,"patch":[[{"diffs":[[0,"\r\n      \r\n      "],[1,"initMap:"],[0,"function() {\r\n  "]],"start1":866,"start2":866,"length1":32,"length2":40}]],"length":18640,"saved":false}
{"ts":1352310166966,"patch":[[{"diffs":[[0,"\t }\r\n\t }"],[1,","],[0,"\r\n      "]],"start1":3854,"start2":3854,"length1":16,"length2":17}]],"length":18641,"saved":false}
{"ts":1352310172994,"patch":[[{"diffs":[[0,"\n       "],[1,"this."],[0,"patchID("]],"start1":903,"start2":903,"length1":16,"length2":21}]],"length":18646,"saved":false}
{"ts":1352310187197,"patch":[[{"diffs":[[0,"\n       "],[-1,"this"],[1,"utilities.layout"],[0,".patchID"]],"start1":903,"start2":903,"length1":20,"length2":32}]],"length":18658,"saved":false}
{"ts":1352310235506,"patch":[[{"diffs":[[0,"\r\n\t\t\t   "],[1,"utilities.layout"],[0,"createMa"]],"start1":3673,"start2":3673,"length1":16,"length2":32}]],"length":18674,"saved":false}
{"ts":1352310237443,"patch":[[{"diffs":[[0,"s.layout"],[1,"."],[0,"createMa"]],"start1":3689,"start2":3689,"length1":16,"length2":17}]],"length":18675,"saved":false}
{"ts":1352310240968,"patch":[[{"diffs":[[0,"se{\r\n\t\t\t"],[1,"utilities.layout."],[0,"createMa"]],"start1":3865,"start2":3865,"length1":16,"length2":33}]],"length":18692,"saved":false}
{"ts":1352310241755,"patch":[[{"diffs":[[0,"ove\");\r\n"],[-1,"  \r\n  "],[1,"\r\n"],[0,"\r\n  util"]],"start1":462,"start2":462,"length1":22,"length2":18},{"diffs":[[0,"yout,{\r\n"],[-1,"      "],[0,"\r\n      "]],"start1":525,"start2":525,"length1":22,"length2":16},{"diffs":[[0,"false,\r\n"],[-1,"      "],[0,"\r\n      "]],"start1":850,"start2":850,"length1":22,"length2":16},{"diffs":[[0,"\r\n\t },\r\n"],[-1,"      "],[0,"\r\n  });\r"]],"start1":3892,"start2":3892,"length1":22,"length2":16},{"diffs":[[0,"\r\n\r\n"],[-1,"     \r\n\r\n     "],[1,"\r\n\r\n"],[0,"\r\n\r\n"]],"start1":3909,"start2":3909,"length1":22,"length2":12}]],"length":18660,"saved":false}
{"ts":1352310255610,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"function createMap(){\r\n\t  var popup = new esri.dijit.Popup({\r\n\t\thighlight:true\r\n      }, dojo.create(\"div\"));\r\n\r\n\t   var mapDeferred = esri.arcgis.utils.createMap(configOptions.webmap, \"map\", {\r\n         mapOptions: {\r\n           slider: true,\r\n           sliderStyle:\"small\",\r\n           nav: false,\r\n           wrapAround180:true,\r\n\t\t   infoWindow:popup\r\n         },\r\n         ignorePopups:false,\r\n         bingMapsKey: configOptions.bingmapskey\r\n       });\r\n\r\n       mapDeferred.addCallback(function (response) {\r\n\r\n\t\t document.title = configOptions.title|| response.itemInfo.item.title || \"\";\r\n         dojo.byId(\"title\").innerHTML = configOptions.title ||response.itemInfo.item.title;\r\n         dojo.byId(\"subtitle\").innerHTML = configOptions.subtitle|| response.itemInfo.item.snippet || \"\";\r\n\r\n         map = response.map;\r\n\r\n\t\t dojo.connect(map,\"onUpdateEnd\",hideLoader);\r\n\t\t dojo.connect(map,\"onClick\",function(event){\r\n\t\t\t mapPoint = event.mapPoint;\r\n\t\t });\r\n\t\t dojo.connect(popup,\"onSetFeatures\",function(){\r\n\t\t\t if (setFeatures == true){\r\n\t\t\t\t var selectedFeatures = [];\r\n\t\t\t\t dojo.forEach(popup.features,function(lyr,i){\r\n\t\t\t\t\t if(lyr.geometry.type == 'polygon'){\r\n\t\t\t\t\t\t if (lyr.geometry.contains(mapPoint) == true){\r\n\t\t\t\t\t\t\t selectedFeatures.push(lyr);\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }\r\n\t\t\t\t });\r\n\t\t\t\t setFeatures = false;\r\n\t\t\t\t popup.setFeatures(selectedFeatures);\r\n\t\t\t }\r\n\t\t\t else{\r\n\t\t\t\t setFeatures = true;\r\n\t\t\t }\r\n\t\t });\r\n\r\n         layers = response.itemInfo.itemData.operationalLayers;\r\n\r\n         if(map.loaded){\r\n           initUI(layers);\r\n\t\t   populateLayerList();\r\n\t\t   if(configOptions.showLegend === \"false\" || configOptions.showLegend === false){\r\n\t\t\t   $(\"#legendCon\").hide();\r\n\t\t   }\r\n         }\r\n         else{\r\n           dojo.connect(map,\"onLoad\",function(){\r\n             initUI(layers);\r\n\t\t\t populateLayerList();\r\n\t\t\t if(configOptions.showLegend === \"false\" || configOptions.showLegend === false){\r\n\t\t\t   $(\"#legendCon\").hide();\r\n\t\t   \t }\r\n           });\r\n         }\r\n         //resize the map when the browser resizes\r\n         dojo.connect(dijit.byId('map'), 'resize', map,map.resize);\r\n       });\r\n\r\n       mapDeferred.addErrback(function (error) {\r\n         alert(\"Unable to create map: \" + \" \" + dojo.toJson(error.message));\r\n       });\r\n\r\n     }\r\n"],[0,"\r\n\r\n"]],"start1":3917,"start2":3917,"length1":2282,"length2":8}]],"length":16386,"saved":false}
{"ts":1352310258741,"patch":[[{"diffs":[[0,"}\r\n\t },\r"],[1,"\n     \r\n     \r"],[0,"\n\r\n  });"]],"start1":3891,"start2":3891,"length1":16,"length2":30}]],"length":16400,"saved":false}
{"ts":1352310260062,"patch":[[{"diffs":[[0," \r\n     "],[1,"function createMap(){\r\n      var popup = new esri.dijit.Popup({\r\n\t\thighlight:true\r\n      }, dojo.create(\"div\"));\r\n\r\n\t   var mapDeferred = esri.arcgis.utils.createMap(configOptions.webmap, \"map\", {\r\n         mapOptions: {\r\n           slider: true,\r\n           sliderStyle:\"small\",\r\n           nav: false,\r\n           wrapAround180:true,\r\n\t\t   infoWindow:popup\r\n         },\r\n         ignorePopups:false,\r\n         bingMapsKey: configOptions.bingmapskey\r\n       });\r\n\r\n       mapDeferred.addCallback(function (response) {\r\n\r\n\t\t document.title = configOptions.title|| response.itemInfo.item.title || \"\";\r\n         dojo.byId(\"title\").innerHTML = configOptions.title ||response.itemInfo.item.title;\r\n         dojo.byId(\"subtitle\").innerHTML = configOptions.subtitle|| response.itemInfo.item.snippet || \"\";\r\n\r\n         map = response.map;\r\n\r\n\t\t dojo.connect(map,\"onUpdateEnd\",hideLoader);\r\n\t\t dojo.connect(map,\"onClick\",function(event){\r\n\t\t\t mapPoint = event.mapPoint;\r\n\t\t });\r\n\t\t dojo.connect(popup,\"onSetFeatures\",function(){\r\n\t\t\t if (setFeatures == true){\r\n\t\t\t\t var selectedFeatures = [];\r\n\t\t\t\t dojo.forEach(popup.features,function(lyr,i){\r\n\t\t\t\t\t if(lyr.geometry.type == 'polygon'){\r\n\t\t\t\t\t\t if (lyr.geometry.contains(mapPoint) == true){\r\n\t\t\t\t\t\t\t selectedFeatures.push(lyr);\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }\r\n\t\t\t\t });\r\n\t\t\t\t setFeatures = false;\r\n\t\t\t\t popup.setFeatures(selectedFeatures);\r\n\t\t\t }\r\n\t\t\t else{\r\n\t\t\t\t setFeatures = true;\r\n\t\t\t }\r\n\t\t });\r\n\r\n         layers = response.itemInfo.itemData.operationalLayers;\r\n\r\n         if(map.loaded){\r\n           initUI(layers);\r\n\t\t   populateLayerList();\r\n\t\t   if(configOptions.showLegend === \"false\" || configOptions.showLegend === false){\r\n\t\t\t   $(\"#legendCon\").hide();\r\n\t\t   }\r\n         }\r\n         else{\r\n           dojo.connect(map,\"onLoad\",function(){\r\n             initUI(layers);\r\n\t\t\t populateLayerList();\r\n\t\t\t if(configOptions.showLegend === \"false\" || configOptions.showLegend === false){\r\n\t\t\t   $(\"#legendCon\").hide();\r\n\t\t   \t }\r\n           });\r\n         }\r\n         //resize the map when the browser resizes\r\n         dojo.connect(dijit.byId('map'), 'resize', map,map.resize);\r\n       });\r\n\r\n       mapDeferred.addErrback(function (error) {\r\n         alert(\"Unable to create map: \" + \" \" + dojo.toJson(error.message));\r\n       });\r\n\r\n     }\r\n"],[0,"\r\n\r\n  })"]],"start1":3904,"start2":3904,"length1":16,"length2":2293}]],"length":18677,"saved":false}
{"ts":1352310267821,"patch":[[{"diffs":[[0,"tion"],[-1," createMap"],[0,"(){\r"]],"start1":3916,"start2":3916,"length1":18,"length2":8}]],"length":18667,"saved":false}
{"ts":1352310269970,"patch":[[{"diffs":[[0,"     \r\n     "],[1,"createMap:"],[0,"function(){\r"]],"start1":3900,"start2":3900,"length1":24,"length2":34}]],"length":18677,"saved":false}
{"ts":1352310617486,"patch":[[{"diffs":[[0,"ateEnd\","],[1,"utilities.layout."],[0,"hideLoad"]],"start1":4773,"start2":4773,"length1":16,"length2":33}]],"length":18694,"saved":false}
{"ts":1352310639719,"patch":[[{"diffs":[[0,"){\r\n\t\t\t "],[1,"utilities.layout."],[0,"mapPoint"]],"start1":4856,"start2":4856,"length1":16,"length2":33}]],"length":18711,"saved":false}
{"ts":1352310829276,"patch":[[{"diffs":[[0,"){\r\n\t\t\t "],[-1,"utilities.layout."],[0,"mapPoint"]],"start1":4856,"start2":4856,"length1":33,"length2":16}]],"length":18694,"saved":false}
{"ts":1352310954916,"patch":[[{"diffs":[[0,"d){\r\n           "],[1,"utilities.layout."],[0,"initUI(layers);\r"]],"start1":5448,"start2":5448,"length1":32,"length2":49}]],"length":18711,"saved":false}
{"ts":1352310957781,"patch":[[{"diffs":[[0,";\r\n\t\t   "],[1,"utilities.layout."],[0,"populate"]],"start1":5495,"start2":5495,"length1":16,"length2":33}]],"length":18728,"saved":false}
{"ts":1352310960891,"patch":[[{"diffs":[[0,"            "],[1,"utilities.layout."],[0,"initUI(layer"]],"start1":5746,"start2":5746,"length1":24,"length2":41}]],"length":18745,"saved":false}
{"ts":1352310962847,"patch":[[{"diffs":[[0,"yers);\r\n\t\t\t "],[1,"utilities.layout."],[0,"populateLaye"]],"start1":5784,"start2":5784,"length1":24,"length2":41}]],"length":18762,"saved":false}
{"ts":1352310970820,"patch":[[{"diffs":[[0,");\r\n\r\n     }"],[1,","],[0,"\r\n\r\n\r\n  });\r"]],"start1":6260,"start2":6260,"length1":24,"length2":25}]],"length":18763,"saved":false}
{"ts":1352310978581,"patch":[[{"diffs":[[0,"    "],[-1,"function initUI(layers) {\r\n       //add chrome theme for popup\r\n       dojo.addClass(map.infoWindow.domNode, \"chrome\");\r\n       //add the scalebar\r\n       var scalebar = new esri.dijit.Scalebar({\r\n         map: map,\r\n         scalebarUnit:i18n.viewer.main.scaleBarUnits //metric or english\r\n       });\r\n\r\n       var layerInfo = buildLayersList(layers);\r\n\r\n       if(layerInfo.length > 0){\r\n         var legendDijit = new esri.dijit.Legend({\r\n           map:map,\r\n           layerInfos:layerInfo\r\n         },\"legendDiv\");\r\n         legendDijit.startup();\r\n       }\r\n       else{\r\n         $(\"#legendToggle\").hide();\r\n       }\r\n     }"],[0,"\r\n\r\n"]],"start1":6303,"start2":6303,"length1":640,"length2":8}]],"length":18131,"saved":false}
{"ts":1352310980867,"patch":[[{"diffs":[[0,"    },\r\n"],[1,"     \r\n     \r\n"],[0,"\r\n\r\n  })"]],"start1":6267,"start2":6267,"length1":16,"length2":30}]],"length":18145,"saved":false}
{"ts":1352310982683,"patch":[[{"diffs":[[0,"     \r\n     "],[1,"function initUI(layers) {\r\n       //add chrome theme for popup\r\n       dojo.addClass(map.infoWindow.domNode, \"chrome\");\r\n       //add the scalebar\r\n       var scalebar = new esri.dijit.Scalebar({\r\n         map: map,\r\n         scalebarUnit:i18n.viewer.main.scaleBarUnits //metric or english\r\n       });\r\n\r\n       var layerInfo = buildLayersList(layers);\r\n\r\n       if(layerInfo.length > 0){\r\n         var legendDijit = new esri.dijit.Legend({\r\n           map:map,\r\n           layerInfos:layerInfo\r\n         },\"legendDiv\");\r\n         legendDijit.startup();\r\n       }\r\n       else{\r\n         $(\"#legendToggle\").hide();\r\n       }\r\n     }"],[0,"\r\n\r\n\r\n  });\r"]],"start1":6275,"start2":6275,"length1":24,"length2":656}]],"length":18777,"saved":false}
{"ts":1352310985260,"patch":[[{"diffs":[[0,"unction "],[-1,"initUI"],[0,"(layers)"]],"start1":6288,"start2":6288,"length1":22,"length2":16}]],"length":18771,"saved":false}
{"ts":1352310986016,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"(layers)"]],"start1":6287,"start2":6287,"length1":17,"length2":16}]],"length":18770,"saved":false}
{"ts":1352310988321,"patch":[[{"diffs":[[0,"\n     \r\n    "],[1," initUI:"],[0," function(la"]],"start1":6274,"start2":6274,"length1":24,"length2":32}]],"length":18778,"saved":false}
{"ts":1352311051072,"patch":[[{"diffs":[[0,"rInfo = "],[1,"utilities.layout."],[0,"buildLay"]],"start1":6608,"start2":6608,"length1":16,"length2":33}]],"length":18795,"saved":false}
{"ts":1352311051539,"patch":[[{"diffs":[[0,"\t\t }\r\n\t },\r\n"],[-1,"     "],[0,"\r\n     creat"]],"start1":3888,"start2":3888,"length1":29,"length2":24},{"diffs":[[0,"    },\r\n"],[-1,"     "],[0,"\r\n     i"]],"start1":6262,"start2":6262,"length1":21,"length2":16},{"diffs":[[0,"\r\n\r\n\r\n\r\n"],[-1,"     "],[0,"\r\n\r\n//bu"]],"start1":6948,"start2":6948,"length1":21,"length2":16}]],"length":18780,"saved":false}
{"ts":1352311063435,"patch":[[{"diffs":[[0,"   }\r\n     }"],[1,","],[0,"\r\n\r\n\r\n  });\r"]],"start1":6915,"start2":6915,"length1":24,"length2":25}]],"length":18781,"saved":false}
{"ts":1352311070779,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"//build a list of layers to dispaly in the legend\r\n  function buildLayersList(layers){\r\n\r\n //layers  arg is  response.itemInfo.itemData.operationalLayers;\r\n  var layerInfos = [];\r\n  dojo.forEach(layers, function (mapLayer, index) {\r\n      var layerInfo = {};\r\n      if (mapLayer.featureCollection && mapLayer.type !== \"CSV\") {\r\n        if (mapLayer.featureCollection.showLegend === true) {\r\n            dojo.forEach(mapLayer.featureCollection.layers, function (fcMapLayer) {\r\n              if (fcMapLayer.showLegend !== false) {\r\n                  layerInfo = {\r\n                      \"layer\": fcMapLayer.layerObject,\r\n                      \"title\": mapLayer.title,\r\n                      \"defaultSymbol\": false\r\n                  };\r\n                  if (mapLayer.featureCollection.layers.length > 1) {\r\n                      layerInfo.title += \" - \" + fcMapLayer.layerDefinition.name;\r\n                  }\r\n                  layerInfos.push(layerInfo);\r\n              }\r\n            });\r\n          }\r\n      } else if (mapLayer.showLegend !== false && mapLayer.layerObject) {\r\n      var showDefaultSymbol = false;\r\n      if (mapLayer.layerObject.version < 10.1 && (mapLayer.layerObject instanceof esri.layers.ArcGISDynamicMapServiceLayer || mapLayer.layerObject instanceof esri.layers.ArcGISTiledMapServiceLayer)) {\r\n        showDefaultSymbol = true;\r\n      }\r\n      layerInfo = {\r\n        \"layer\": mapLayer.layerObject,\r\n        \"title\": mapLayer.title,\r\n        \"defaultSymbol\": showDefaultSymbol\r\n      };\r\n        //does it have layers too? If so check to see if showLegend is false\r\n        if (mapLayer.layers) {\r\n            var hideLayers = dojo.map(dojo.filter(mapLayer.layers, function (lyr) {\r\n                return (lyr.showLegend === false);\r\n            }), function (lyr) {\r\n                return lyr.id;\r\n            });\r\n            if (hideLayers.length) {\r\n                layerInfo.hideLayers = hideLayers;\r\n            }\r\n        }\r\n        layerInfos.push(layerInfo);\r\n    }\r\n  });\r\n  return layerInfos;\r\n  }"],[0,"\r\n\r\n"]],"start1":6957,"start2":6957,"length1":2042,"length2":8}]],"length":16747,"saved":false}
{"ts":1352311075435,"patch":[[{"diffs":[[0,"    },\r\n"],[1,"     \r\n     //build a list of layers to dispaly in the legend\r\n  function buildLayersList(layers){\r\n\r\n //layers  arg is  response.itemInfo.itemData.operationalLayers;\r\n  var layerInfos = [];\r\n  dojo.forEach(layers, function (mapLayer, index) {\r\n      var layerInfo = {};\r\n      if (mapLayer.featureCollection && mapLayer.type !== \"CSV\") {\r\n        if (mapLayer.featureCollection.showLegend === true) {\r\n            dojo.forEach(mapLayer.featureCollection.layers, function (fcMapLayer) {\r\n              if (fcMapLayer.showLegend !== false) {\r\n                  layerInfo = {\r\n                      \"layer\": fcMapLayer.layerObject,\r\n                      \"title\": mapLayer.title,\r\n                      \"defaultSymbol\": false\r\n                  };\r\n                  if (mapLayer.featureCollection.layers.length > 1) {\r\n                      layerInfo.title += \" - \" + fcMapLayer.layerDefinition.name;\r\n                  }\r\n                  layerInfos.push(layerInfo);\r\n              }\r\n            });\r\n          }\r\n      } else if (mapLayer.showLegend !== false && mapLayer.layerObject) {\r\n      var showDefaultSymbol = false;\r\n      if (mapLayer.layerObject.version < 10.1 && (mapLayer.layerObject instanceof esri.layers.ArcGISDynamicMapServiceLayer || mapLayer.layerObject instanceof esri.layers.ArcGISTiledMapServiceLayer)) {\r\n        showDefaultSymbol = true;\r\n      }\r\n      layerInfo = {\r\n        \"layer\": mapLayer.layerObject,\r\n        \"title\": mapLayer.title,\r\n        \"defaultSymbol\": showDefaultSymbol\r\n      };\r\n        //does it have layers too? If so check to see if showLegend is false\r\n        if (mapLayer.layers) {\r\n            var hideLayers = dojo.map(dojo.filter(mapLayer.layers, function (lyr) {\r\n                return (lyr.showLegend === false);\r\n            }), function (lyr) {\r\n                return lyr.id;\r\n            });\r\n            if (hideLayers.length) {\r\n                layerInfo.hideLayers = hideLayers;\r\n            }\r\n        }\r\n        layerInfos.push(layerInfo);\r\n    }\r\n  });\r\n  return layerInfos;\r\n  }\r\n"],[0,"\r\n\r\n  })"]],"start1":6922,"start2":6922,"length1":16,"length2":2064}]],"length":18795,"saved":false}
{"ts":1352311080388,"patch":[[{"diffs":[[0,"tion"],[-1," buildLayersList"],[0,"(lay"]],"start1":6999,"start2":6999,"length1":24,"length2":8}]],"length":18779,"saved":false}
{"ts":1352311083304,"patch":[[{"diffs":[[0,"gend\r\n  "],[1,"buildLayersList"],[0,"function"]],"start1":6987,"start2":6987,"length1":16,"length2":31}]],"length":18794,"saved":false}
{"ts":1352311085553,"patch":[[{"diffs":[[0,"yersList"],[1,":"],[0,"function"]],"start1":7002,"start2":7002,"length1":16,"length2":17}]],"length":18795,"saved":false}
{"ts":1352311146108,"patch":[[{"diffs":[[0,"os;\r\n  }"],[1,","],[0,"\r\n\r\n\r\n  "]],"start1":8968,"start2":8968,"length1":16,"length2":17}]],"length":18796,"saved":false}
{"ts":1352311148952,"patch":[[{"diffs":[[0,"\r\n  },\r\n"],[1,"  \r\n  \r\n"],[0,"\r\n\r\n  })"]],"start1":8971,"start2":8971,"length1":16,"length2":24}]],"length":18804,"saved":false}
{"ts":1352311154368,"patch":[[{"diffs":[[0,"    "],[-1,"function patchID() {  //patch id manager for use in apps.arcgis.com\r\n       esri.id._isIdProvider = function(server, resource) {\r\n       // server and resource are assumed one of portal domains\r\n\r\n       var i = -1, j = -1;\r\n\r\n       dojo.forEach(this._gwDomains, function(domain, idx) {\r\n         if (i === -1 && domain.regex.test(server)) {\r\n           i = idx;\r\n         }\r\n         if (j === -1 && domain.regex.test(resource)) {\r\n           j = idx;\r\n         }\r\n       });\r\n\r\n       var retVal = false;\r\n\r\n       if (i > -1 && j > -1) {\r\n         if (i === 0 || i === 4) {\r\n           if (j === 0 || j === 4) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 1) {\r\n           if (j === 1 || j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 2) {\r\n           if (j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 3) {\r\n           if (j === 3) {\r\n             retVal = true;\r\n           }\r\n         }\r\n       }\r\n\r\n       return retVal;\r\n     };\r\n    }"],[0,"\r\n\r\n"]],"start1":9023,"start2":9023,"length1":1076,"length2":8}]],"length":17736,"saved":false}
{"ts":1352311158040,"patch":[[{"diffs":[[0,"\r\n  \r\n  "],[1,"function patchID() {  //patch id manager for use in apps.arcgis.com\r\n       esri.id._isIdProvider = function(server, resource) {\r\n       // server and resource are assumed one of portal domains\r\n\r\n       var i = -1, j = -1;\r\n\r\n       dojo.forEach(this._gwDomains, function(domain, idx) {\r\n         if (i === -1 && domain.regex.test(server)) {\r\n           i = idx;\r\n         }\r\n         if (j === -1 && domain.regex.test(resource)) {\r\n           j = idx;\r\n         }\r\n       });\r\n\r\n       var retVal = false;\r\n\r\n       if (i > -1 && j > -1) {\r\n         if (i === 0 || i === 4) {\r\n           if (j === 0 || j === 4) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 1) {\r\n           if (j === 1 || j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 2) {\r\n           if (j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 3) {\r\n           if (j === 3) {\r\n             retVal = true;\r\n           }\r\n         }\r\n       }\r\n\r\n       return retVal;\r\n     };\r\n    }"],[0,"\r\n\r\n\r\n  "]],"start1":8977,"start2":8977,"length1":16,"length2":1084}]],"length":18804,"saved":false}
{"ts":1352311161381,"patch":[[{"diffs":[[0,"unction "],[-1,"patchID"],[0,"() {  //"]],"start1":8986,"start2":8986,"length1":23,"length2":16}]],"length":18797,"saved":false}
{"ts":1352311162600,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"() {  //"]],"start1":8985,"start2":8985,"length1":17,"length2":16}]],"length":18796,"saved":false}
{"ts":1352311164631,"patch":[[{"diffs":[[0,"\r\n  \r\n  "],[1,"patchID"],[0,"function"]],"start1":8977,"start2":8977,"length1":16,"length2":23}]],"length":18803,"saved":false}
{"ts":1352311168048,"patch":[[{"diffs":[[0," patchID"],[1,":"],[0,"function"]],"start1":8984,"start2":8984,"length1":16,"length2":17}]],"length":18804,"saved":false}
{"ts":1352311172532,"patch":[[{"diffs":[[0,"   };\r\n    }"],[1,","],[0,"\r\n\r\n\r\n  });\r"]],"start1":10041,"start2":10041,"length1":24,"length2":25}]],"length":18805,"saved":false}
{"ts":1352311177724,"patch":[[{"diffs":[[0,"\n\r\n\t"],[-1,"function hideLoader(){\r\n\t  if (mapLoaded == false){\r\n\t\tmapLoaded = true;\r\n\t\t$(\"#loadingCon\").hide();\r\n\t\t$(\"#swipeImg\").css('left',((map.width/2)-80));\r\n\t\t$(\"#swipeImg\").css('top',((map.height/2)-50));\r\n\t\t$(\"#swipeImg\").show();\r\n\t  }\r\n\t}"],[0,"\r\n\r\n"]],"start1":10097,"start2":10097,"length1":244,"length2":8}]],"length":18569,"saved":false}
{"ts":1352311180733,"patch":[[{"diffs":[[0,"    },\r\n"],[1,"    \r\n    \r\n"],[0,"\r\n\r\n  })"]],"start1":10048,"start2":10048,"length1":16,"length2":28}]],"length":18581,"saved":false}
{"ts":1352311181589,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"function hideLoader(){\r\n      if (mapLoaded == false){\r\n\t\tmapLoaded = true;\r\n\t\t$(\"#loadingCon\").hide();\r\n\t\t$(\"#swipeImg\").css('left',((map.width/2)-80));\r\n\t\t$(\"#swipeImg\").css('top',((map.height/2)-50));\r\n\t\t$(\"#swipeImg\").show();\r\n\t  }\r\n\t}"],[0,"\r\n\r\n\r\n  });\r"]],"start1":10054,"start2":10054,"length1":24,"length2":263}]],"length":18820,"saved":false}
{"ts":1352311184269,"patch":[[{"diffs":[[0,"unction "],[-1,"hideLoader"],[0,"(){\r\n   "]],"start1":10067,"start2":10067,"length1":26,"length2":16}]],"length":18810,"saved":false}
{"ts":1352311185661,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"(){\r\n   "]],"start1":10066,"start2":10066,"length1":17,"length2":16}]],"length":18809,"saved":false}
{"ts":1352311186754,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,":"],[0,"function(){\r"]],"start1":10054,"start2":10054,"length1":24,"length2":25}]],"length":18810,"saved":false}
{"ts":1352311188052,"patch":[[{"diffs":[[0,"  \r\n    "],[1,"hideLoader"],[0,":functio"]],"start1":10058,"start2":10058,"length1":16,"length2":26}]],"length":18820,"saved":false}
{"ts":1352311217172,"patch":[[{"diffs":[[0,"\n\r\n\t"],[-1,"//Swipe Control\r\n\tfunction populateLayerList(){\r\n\t  var select = dojo.byId(\"layerlistdd\");\r\n\t  if (map.graphics.graphics.length > 0) {\r\n\t\tselect.options[select.options.length] = new Option(\"Graphics Layer\", map.graphics.id,\"selected\");\r\n\t  }\r\n\t  //reverse to get the correct order of layers added to map\r\n\t  var layerids = dojo.clone(map.layerIds).reverse();\r\n\t  dojo.forEach(layerids, function(id, index){\r\n\t\tselect.options[select.options.length] = new Option(id, id);\r\n\t  });\r\n\t  select.disabled= false;\r\n\t  startswipe();\r\n\t}"],[0,"\r\n\r\n"]],"start1":10676,"start2":10676,"length1":535,"length2":8}]],"length":18293,"saved":false}
{"ts":1352311220430,"patch":[[{"diffs":[[0,");\r\n\t  }\r\n\t}"],[1,",\r\n    "],[0,"\r\n\r\n\r\n  });\r"]],"start1":10293,"start2":10293,"length1":24,"length2":31}]],"length":18300,"saved":false}
{"ts":1352311221147,"patch":[[{"diffs":[[0,"\r\n    \r\n"],[1,"    \r\n"],[0,"\r\n\r\n  })"]],"start1":10306,"start2":10306,"length1":16,"length2":22}]],"length":18306,"saved":false}
{"ts":1352311222309,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"//Swipe Control\r\n    function populateLayerList(){\r\n\t  var select = dojo.byId(\"layerlistdd\");\r\n\t  if (map.graphics.graphics.length > 0) {\r\n\t\tselect.options[select.options.length] = new Option(\"Graphics Layer\", map.graphics.id,\"selected\");\r\n\t  }\r\n\t  //reverse to get the correct order of layers added to map\r\n\t  var layerids = dojo.clone(map.layerIds).reverse();\r\n\t  dojo.forEach(layerids, function(id, index){\r\n\t\tselect.options[select.options.length] = new Option(id, id);\r\n\t  });\r\n\t  select.disabled= false;\r\n\t  startswipe();\r\n\t}"],[0,"\r\n\r\n\r\n  });\r"]],"start1":10306,"start2":10306,"length1":24,"length2":554}]],"length":18836,"saved":false}
{"ts":1352311224762,"patch":[[{"diffs":[[0,"tion"],[-1," populateLayerList"],[0,"(){\r"]],"start1":10343,"start2":10343,"length1":26,"length2":8}]],"length":18818,"saved":false}
{"ts":1352311227924,"patch":[[{"diffs":[[0,"ontrol\r\n    "],[1,"populateLayerList:"],[0,"function(){\r"]],"start1":10327,"start2":10327,"length1":24,"length2":42}]],"length":18836,"saved":false}
{"ts":1352311295311,"patch":[[{"diffs":[[0,"se;\r\n\t  "],[1,"utilities.layout."],[0,"startswi"]],"start1":10823,"start2":10823,"length1":16,"length2":33}]],"length":18853,"saved":false}
{"ts":1352311295848,"patch":[[{"diffs":[[0,"    },\r\n"],[-1,"     "],[0,""],[1,""],[0,"\r\n     /"]],"start1":6922,"start2":6922,"length1":21,"length2":16},{"diffs":[[0,"\r\n  },\r\n"],[-1,"  "],[0,""],[1,""],[0,"\r\n  patc"]],"start1":8966,"start2":8966,"length1":18,"length2":16},{"diffs":[[0,"};\r\n    },\r\n"],[-1,"    "],[0,""],[1,""],[0,"\r\n    hideLo"]],"start1":10037,"start2":10037,"length1":28,"length2":24},{"diffs":[[0,"}\r\n\t},\r\n"],[-1,"    "],[0,""],[1,""],[0,"\r\n    //"]],"start1":10289,"start2":10289,"length1":20,"length2":16},{"diffs":[[0,"\r\n\r\n"],[-1,"     "],[0,"\r\n\r\n"],[-1,"\t"],[0,"\r\n\r\n"]],"start1":10883,"start2":10883,"length1":18,"length2":12},{"diffs":[[0," });\r\n\r\n"],[-1,"\t"],[0,"\r\n\r\n\tfun"]],"start1":11210,"start2":11210,"length1":17,"length2":16}]],"length":18831,"saved":false}
{"ts":1352311311591,"patch":[[{"diffs":[[0,"\n\r\n\t"],[-1,"function initswipe() {\r\n      chooseLayer = configOptions.chooseSwipeLevel;\r\n\t  swipelayerid = dojo.byId(\"layerlistdd\")[chooseLayer].value;\r\n      clipval = map.width;\r\n      swipediv = null;\r\n      if (swipelayerid == map.graphics.id) {\r\n        //console.log(\"Graphics layer\");\r\n        //map.graphics._div.parent.rawNode.id\r\n        swipediv = dojo.byId(map.container.id + \"_gc\");\r\n      }\r\n      else {\r\n        var layer = map.getLayer(swipelayerid);\r\n        //console.log(layer);\r\n        if (layer == null || layer == undefined) {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n        swipediv = layer._div;\r\n\t  }\r\n      if (swipediv === undefined) {\r\n        alert(i18n.viewer.errors.undfnd);\r\n        return;\r\n      }\r\n\t  if (swipediv.style === undefined) {\r\n\t\talert(i18n.viewer.errors.noStyle);\r\n\t\treturn;\r\n\t  }\r\n      //console.log(\"Swipe ready to use on layer: \" + swipelayerid);\r\n    }"],[0,"\r\n\r\n"]],"start1":11219,"start2":11219,"length1":941,"length2":8}]],"length":17898,"saved":false}
{"ts":1352311316513,"patch":[[{"diffs":[[0,"swipe();\r\n\t}"],[1,",\r\n    \r\n    function initswipe() {\r\n      chooseLayer = configOptions.chooseSwipeLevel;\r\n      swipelayerid = dojo.byId(\"layerlistdd\")[chooseLayer].value;\r\n      clipval = map.width;\r\n      swipediv = null;\r\n      if (swipelayerid == map.graphics.id) {\r\n        //console.log(\"Graphics layer\");\r\n        //map.graphics._div.parent.rawNode.id\r\n        swipediv = dojo.byId(map.container.id + \"_gc\");\r\n      }\r\n      else {\r\n        var layer = map.getLayer(swipelayerid);\r\n        //console.log(layer);\r\n        if (layer == null || layer == undefined) {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n        swipediv = layer._div;\r\n\t  }\r\n      if (swipediv === undefined) {\r\n        alert(i18n.viewer.errors.undfnd);\r\n        return;\r\n      }\r\n\t  if (swipediv.style === undefined) {\r\n\t\talert(i18n.viewer.errors.noStyle);\r\n\t\treturn;\r\n\t  }\r\n      //console.log(\"Swipe ready to use on layer: \" + swipelayerid);\r\n    }"],[0,"\r\n\r\n\r\n  });\r"]],"start1":10838,"start2":10838,"length1":24,"length2":973}]],"length":18847,"saved":false}
{"ts":1352311447584,"patch":[[{"diffs":[[0,"rid);\r\n    }"],[1,",\r\n    "],[0,"\r\n\r\n\r\n  });\r"]],"start1":11787,"start2":11787,"length1":24,"length2":31}]],"length":18854,"saved":false}
{"ts":1352311448457,"patch":[[{"diffs":[[0,"\r\n    \r\n"],[1,"    function startswipe(){\r\n      //map.hideZoomSlider();\r\n      //console.log(\"Swipe tool initializing ...\");\r\n\r\n      initswipe();\r\n\r\n      if (swipeslider != undefined || swipeslider != null) {\r\n        //console.log(\"swipe slider is visible? should not happen\");\r\n        //console.log(swipeslider);\r\n      }\r\n\r\n\t  //swipelayerid = dojo.byId(\"layerlistdd\").value;\r\n\t  //dojo.byId(\"layerlistdd\").disabled = true;\r\n\r\n\t  if (swipelayerid === undefined || swipelayerid == \"\") {\r\n        alert(i18n.viewer.errors.notDefined);\r\n        return;\r\n      }\r\n      swipeslider = new dnd.move.parentConstrainedMoveable(\"sliderdiv\", {\r\n        area: \"content\",\r\n        within: true\r\n      });\r\n\r\n      swipeslider.node.style.height = map.height + \"px\";\r\n      swipeslider.node.style.top = \"0px\";\r\n      swipeslider.node.style.left = ((map.width/2)-4) + \"px\";\r\n\t  if (iPad == true){\r\n\t\tswipeslider.node.style.left = ((map.width/2)-7) + \"px\";\r\n\t  }\r\n      clipval = ((map.width/2)-4);\r\n\r\n      //Just a check, should not call this function here\r\n        if (swipediv != null)\r\n        clearClip();\r\n\r\n        //console.log(\"Swipe layer: \" + swipelayerid);\r\n\r\n        if (swipelayerid == null || swipelayerid == \"\") {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n\r\n        cliplayer(swipelayerid);\r\n      }\r\n"],[0,"\r\n\r\n  })"]],"start1":11800,"start2":11800,"length1":16,"length2":1348}]],"length":20186,"saved":false}
{"ts":1352311451947,"patch":[[{"diffs":[[0,"   function "],[-1,"startswipe"],[0,"(){\r\n      /"]],"start1":11809,"start2":11809,"length1":34,"length2":24}]],"length":20176,"saved":false}
{"ts":1352311455636,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"(){\r\n   "]],"start1":11812,"start2":11812,"length1":17,"length2":16}]],"length":20175,"saved":false}
{"ts":1352311457755,"patch":[[{"diffs":[[0,"  },\r\n    \r\n    "],[1,"startswipe:"],[0,"function(){\r\n   "]],"start1":11796,"start2":11796,"length1":32,"length2":43}]],"length":20186,"saved":false}
{"ts":1352311472235,"patch":[[{"diffs":[[0,"...\");\r\n\r\n      "],[1,"utilities.layout."],[0,"initswipe();\r\n\r\n"]],"start1":11912,"start2":11912,"length1":32,"length2":49}]],"length":20203,"saved":false}
{"ts":1352311535728,"patch":[[{"diffs":[[0,"   }\r\n\r\n        "],[1,"utilities.layout."],[0,"cliplayer(swipel"]],"start1":13106,"start2":13106,"length1":32,"length2":49}]],"length":20220,"saved":false}
{"ts":1352311557040,"patch":[[{"diffs":[[0," null)\r\n        "],[1,"utilities.layout."],[0,"clearClip();\r\n\r\n"]],"start1":12884,"start2":12884,"length1":32,"length2":49}]],"length":20237,"saved":false}
{"ts":1352311568900,"patch":[[{"diffs":[[0,"    "],[-1,"function startswipe(){\r\n      //map.hideZoomSlider();\r\n      //console.log(\"Swipe tool initializing ...\");\r\n\r\n      initswipe();\r\n\r\n      if (swipeslider != undefined || swipeslider != null) {\r\n        //console.log(\"swipe slider is visible? should not happen\");\r\n        //console.log(swipeslider);\r\n\t  }\r\n\r\n\t  //swipelayerid = dojo.byId(\"layerlistdd\").value;\r\n\t  //dojo.byId(\"layerlistdd\").disabled = true;\r\n\r\n\t  if (swipelayerid === undefined || swipelayerid == \"\") {\r\n        alert(i18n.viewer.errors.notDefined);\r\n        return;\r\n      }\r\n      swipeslider = new dnd.move.parentConstrainedMoveable(\"sliderdiv\", {\r\n        area: \"content\",\r\n        within: true\r\n      });\r\n\r\n      swipeslider.node.style.height = map.height + \"px\";\r\n      swipeslider.node.style.top = \"0px\";\r\n      swipeslider.node.style.left = ((map.width/2)-4) + \"px\";\r\n\t  if (iPad == true){\r\n\t\tswipeslider.node.style.left = ((map.width/2)-7) + \"px\";\r\n\t  }\r\n      clipval = ((map.width/2)-4);\r\n\r\n      //Just a check, should not call this function here\r\n        if (swipediv != null)\r\n        clearClip();\r\n\r\n        //console.log(\"Swipe layer: \" + swipelayerid);\r\n\r\n        if (swipelayerid == null || swipelayerid == \"\") {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n\r\n        cliplayer(swipelayerid);\r\n      }"],[0,"\r\n\r\n"]],"start1":13566,"start2":13566,"length1":1331,"length2":8}]],"length":18914,"saved":false}
{"ts":1352311581280,"patch":[[{"diffs":[[0,"    "],[-1,"function cliplayer(layerid){\r\n        //Initial swipe slider location\r\n        swipe(dojo.byId(\"sliderdiv\").style.left);\r\n\r\n        //Make the slider visible\r\n        dojo.byId(\"sliderdiv\").style.display = \"\";\r\n\r\n        dojo.connect(swipeslider, \"onMoveStart\", function(args){\r\n        //console.log(\"move start\");\r\n        //this.node.style.opacity = \"0.5\";\r\n        //dojo._setOpacity(this.node, 0.5);\r\n\t\t$(\"#sliderdiv\").fadeTo(\"fast\",\"0.5\");\r\n\t\t$(\"#swipeImg\").fadeOut();\r\n\r\n      });\r\n      swipeconnect = dojo.connect(swipeslider, 'onMove', function(args){\r\n        this.node.style.top = \"0px\"; //needed to avoid offset\r\n        var left = parseInt(this.node.style.left);\r\n        //console.log(left + \", \" + (map.width));\r\n        if (left <=0 || left >= (map.width)) return;\r\n          clipval = this.node.style.left;\r\n          swipe(clipval);\r\n        });\r\n        dojo.connect(swipeslider, \"onMoveStop\", function(args){\r\n          //console.log(\"move stop event\");\r\n          //this.node.style.opacity = \"1.0\";\r\n          //dojo._setOpacity(this.node, 1.0);\r\n\t\t  $(\"#sliderdiv\").fadeTo(\"fast\",\"1.5\");\r\n        });\r\n        panEndConnect = dojo.connect(map, 'onPanEnd', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          panConnect = dojo.connect(map, 'onPan', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n      }\r\n    }"],[0,"\r\n\r\n"]],"start1":13576,"start2":13576,"length1":1565,"length2":8}]],"length":17357,"saved":false}
{"ts":1352311586973,"patch":[[{"diffs":[[0,"d);\r\n      }"],[1,",\r\n      "],[0,"\r\n\r\n\r\n  });\r"]],"start1":13177,"start2":13177,"length1":24,"length2":33}]],"length":17366,"saved":false}
{"ts":1352311587843,"patch":[[{"diffs":[[0,"      \r\n"],[1,"      \r\n"],[0,"\r\n\r\n  })"]],"start1":13192,"start2":13192,"length1":16,"length2":24}]],"length":17374,"saved":false}
{"ts":1352311588910,"patch":[[{"diffs":[[0,"    \r\n      "],[1,"function cliplayer(layerid){\r\n        //Initial swipe slider location\r\n        swipe(dojo.byId(\"sliderdiv\").style.left);\r\n\r\n        //Make the slider visible\r\n        dojo.byId(\"sliderdiv\").style.display = \"\";\r\n\r\n        dojo.connect(swipeslider, \"onMoveStart\", function(args){\r\n        //console.log(\"move start\");\r\n        //this.node.style.opacity = \"0.5\";\r\n        //dojo._setOpacity(this.node, 0.5);\r\n    \t$(\"#sliderdiv\").fadeTo(\"fast\",\"0.5\");\r\n\t\t$(\"#swipeImg\").fadeOut();\r\n\r\n      });\r\n      swipeconnect = dojo.connect(swipeslider, 'onMove', function(args){\r\n        this.node.style.top = \"0px\"; //needed to avoid offset\r\n        var left = parseInt(this.node.style.left);\r\n        //console.log(left + \", \" + (map.width));\r\n        if (left <=0 || left >= (map.width)) return;\r\n          clipval = this.node.style.left;\r\n          swipe(clipval);\r\n        });\r\n        dojo.connect(swipeslider, \"onMoveStop\", function(args){\r\n          //console.log(\"move stop event\");\r\n          //this.node.style.opacity = \"1.0\";\r\n          //dojo._setOpacity(this.node, 1.0);\r\n\t\t  $(\"#sliderdiv\").fadeTo(\"fast\",\"1.5\");\r\n        });\r\n        panEndConnect = dojo.connect(map, 'onPanEnd', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          panConnect = dojo.connect(map, 'onPan', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n      }\r\n    }"],[0,"\r\n\r\n\r\n  });\r"]],"start1":13194,"start2":13194,"length1":24,"length2":1584}]],"length":18934,"saved":false}
{"ts":1352311591555,"patch":[[{"diffs":[[0,"tion"],[-1," cliplayer"],[0,"(lay"]],"start1":13210,"start2":13210,"length1":18,"length2":8}]],"length":18924,"saved":false}
{"ts":1352311593998,"patch":[[{"diffs":[[0,"    \r\n      "],[1,"cliplayer"],[0,"function(lay"]],"start1":13194,"start2":13194,"length1":24,"length2":33}]],"length":18933,"saved":false}
{"ts":1352311594991,"patch":[[{"diffs":[[0,"liplayer"],[1,":"],[0,"function"]],"start1":13207,"start2":13207,"length1":16,"length2":17}]],"length":18934,"saved":false}
{"ts":1352311596167,"patch":[[{"diffs":[[0,"iplayer:"],[1," "],[0,"function"]],"start1":13208,"start2":13208,"length1":16,"length2":17}]],"length":18935,"saved":false}
{"ts":1352311663224,"patch":[[{"diffs":[[0,"on\r\n        "],[1,"utilities.layout."],[0,"swipe(dojo.b"]],"start1":13274,"start2":13274,"length1":24,"length2":41}]],"length":18952,"saved":false}
{"ts":1352311689879,"patch":[[{"diffs":[[0,"eft;\r\n          "],[1,"utilities.layout."],[0,"swipe(clipval);\r"]],"start1":14047,"start2":14047,"length1":32,"length2":49}]],"length":18969,"saved":false}
{"ts":1352311697092,"patch":[[{"diffs":[[0,"n\");\r\n          "],[1,"utilities.layout."],[0,"swipe(clipval);\r"]],"start1":14505,"start2":14505,"length1":32,"length2":49}]],"length":18986,"saved":false}
{"ts":1352311700763,"patch":[[{"diffs":[[0,"\r\n          "],[1,"utilities.layout."],[0,"swipe(clipva"]],"start1":14762,"start2":14762,"length1":24,"length2":41}]],"length":19003,"saved":false}
{"ts":1352311707983,"patch":[[{"diffs":[[0,"    "],[-1,"function clearClip(){\r\n      //console.log(\"Clearing clip\");\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n      }\r\n    }"],[0,"\r\n\r\n"]],"start1":15230,"start2":15230,"length1":192,"length2":8}]],"length":18819,"saved":false}
{"ts":1352311712460,"patch":[[{"diffs":[[0,";\r\n      }\r\n"],[1,"    },\r\n    \r\n    function clearClip(){\r\n      //console.log(\"Clearing clip\");\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n      }\r\n"],[0,"    }\r\n\r\n\r\n "]],"start1":14818,"start2":14818,"length1":24,"length2":221}]],"length":19016,"saved":false}
{"ts":1352311713181,"patch":[[{"diffs":[[0,"pe();\r\n\t},\r\n"],[-1,"    "],[0,""],[1,""],[0,"\r\n    functi"]],"start1":10841,"start2":10841,"length1":28,"length2":24},{"diffs":[[0,");\r\n    },\r\n"],[-1,"    "],[0,""],[1,""],[0,"\r\n    starts"]],"start1":11786,"start2":11786,"length1":28,"length2":24},{"diffs":[[0,"    },\r\n"],[-1,"      "],[0,""],[1,""],[0,"\r\n      "]],"start1":13176,"start2":13176,"length1":22,"length2":16},{"diffs":[[0,"    },\r\n"],[-1,"    "],[0,""],[1,""],[0,"\r\n    fu"]],"start1":14816,"start2":14816,"length1":20,"length2":16},{"diffs":[[0,"\r\n\r\n"],[-1,"\t"],[0,"\r\n\r\n"],[-1,"    \r\n\r\n      \r\n\r\n    "],[1,"\r\n\r\n\r\n\r\n"],[0,"\r\n\r\n"]],"start1":15382,"start2":15382,"length1":35,"length2":20}]],"length":18983,"saved":false}
{"ts":1352311718969,"patch":[[{"diffs":[[0,"tion"],[-1," clearClip"],[0,"(){\r"]],"start1":14834,"start2":14834,"length1":18,"length2":8}]],"length":18973,"saved":false}
{"ts":1352311721794,"patch":[[{"diffs":[[0,"\r\n    },\r\n\r\n    "],[1,"clearClip"],[0,"function(){\r\n   "]],"start1":14814,"start2":14814,"length1":32,"length2":41}]],"length":18982,"saved":false}
{"ts":1352311722928,"patch":[[{"diffs":[[0,"learClip"],[1,","],[0,"function"]],"start1":14831,"start2":14831,"length1":16,"length2":17}]],"length":18983,"saved":false}
{"ts":1352311759767,"patch":[[{"diffs":[[0,"    "],[-1,"function swipe(val){\r\n      if (swipediv != null) {\r\n        offset_left = parseFloat(swipediv.style.left);\r\n        offset_top = parseFloat(swipediv.style.top);\r\n\r\n        //console.log(\"Val: \" + val);\r\n\r\n        var rightval, leftval, topval, bottomval;\r\n\r\n        if (offset_left > 0) {\r\n          rightval = parseFloat(val) - Math.abs(offset_left);\r\n          leftval = -(offset_left);\r\n        }\r\n        else\r\n        if (offset_left < 0) {\r\n          leftval = 0;\r\n          rightval = parseFloat(val) + Math.abs(offset_left);\r\n        }\r\n        else {\r\n          leftval = 0;\r\n          rightval = parseFloat(val);\r\n        }\r\n        if (offset_top > 0) {\r\n          topval = -(offset_top);\r\n          bottomval = map.height - offset_top;\r\n\t\t}\r\n        else\r\n        if (offset_top < 0) {\r\n          topval = 0;\r\n          bottomval = map.height + Math.abs(offset_top);\r\n        }\r\n        else {\r\n          topval = 0;\r\n          bottomval = map.height;\r\n        }\r\n\r\n        // If CSS Transformation is applied to the layer (i.e. swipediv),\r\n        // record the amount of translation and adjust clip rect\r\n        // accordingly\r\n        var tx = 0, ty = 0;\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          var prefix = \"\";\r\n          if (dojo.isWebKit) {\r\n            prefix = \"-webkit-\";\r\n          }\r\n          if (dojo.isFF) {\r\n            prefix = \"-moz-\";\r\n          }\r\n          if (dojo.isIE) {\r\n            prefix = \"-ms-\";\r\n          }\r\n          if (dojo.isOpera) {\r\n            prefix = \"-o-\";\r\n          }\r\n\r\n          var transformValue = swipediv.style.getPropertyValue(prefix + \"transform\");\r\n\r\n          if(transformValue) {\r\n\t\t\tif(transformValue.toLowerCase().indexOf(\"translate3d\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate3d(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\t\t\telse if(transformValue.toLowerCase().indexOf(\"translate\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(transformValue);\r\n\r\n\t\t\ttry {\r\n\t\t\t  tx = parseFloat(transformValue[0]);\r\n\t\t\t  ty = parseFloat(transformValue[1]);\r\n\t\t\t} catch(e) {\r\n\t\t\t  alert(\"Error cannot continue\");\r\n\t\t\t  console.error(e);\r\n\t\t\t}\r\n\r\n            //console.log(\"transform = \", tx, ty);\r\n            leftval -= tx;\r\n            rightval -= tx;\r\n            topval -= ty;\r\n            bottomval -= ty;\r\n          }\r\n        }\r\n\r\n        //Syntax for clip \"rect(top,right,bottom,left)\"\r\n        //var clipstring = \"rect(0px \" + val + \"px \" + map.height + \"px \" + \" 0px)\";\r\n        var clipstring = \"rect(\" + topval + \"px \" + rightval + \"px \" + bottomval + \"px \" + leftval + \"px)\";\r\n        //console.log(\"New Clip string(T,R,B,L): \" + clipstring);\r\n        swipediv.style.clip = clipstring;\r\n      }\r\n\t}"],[0,"\r\n\r\n"]],"start1":15402,"start2":15402,"length1":2887,"length2":8}]],"length":16104,"saved":false}
{"ts":1352311762759,"patch":[[{"diffs":[[0,"    }\r\n    }"],[1,",\r\n    \r\n    "],[0,"\r\n\r\n\r\n  });\r"]],"start1":15002,"start2":15002,"length1":24,"length2":37}]],"length":16117,"saved":false}
{"ts":1352311767749,"patch":[[{"diffs":[[0,"learClip"],[-1,","],[1,":"],[0,"function"]],"start1":14831,"start2":14831,"length1":17,"length2":17}]],"length":16117,"saved":false}
{"ts":1352311770136,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"function swipe(val){\r\n      if (swipediv != null) {\r\n        offset_left = parseFloat(swipediv.style.left);\r\n        offset_top = parseFloat(swipediv.style.top);\r\n\r\n        //console.log(\"Val: \" + val);\r\n\r\n        var rightval, leftval, topval, bottomval;\r\n\r\n        if (offset_left > 0) {\r\n          rightval = parseFloat(val) - Math.abs(offset_left);\r\n          leftval = -(offset_left);\r\n        }\r\n        else\r\n        if (offset_left < 0) {\r\n          leftval = 0;\r\n          rightval = parseFloat(val) + Math.abs(offset_left);\r\n        }\r\n        else {\r\n          leftval = 0;\r\n          rightval = parseFloat(val);\r\n        }\r\n        if (offset_top > 0) {\r\n          topval = -(offset_top);\r\n          bottomval = map.height - offset_top;\r\n    \t}\r\n        else\r\n        if (offset_top < 0) {\r\n          topval = 0;\r\n          bottomval = map.height + Math.abs(offset_top);\r\n        }\r\n        else {\r\n          topval = 0;\r\n          bottomval = map.height;\r\n        }\r\n\r\n        // If CSS Transformation is applied to the layer (i.e. swipediv),\r\n        // record the amount of translation and adjust clip rect\r\n        // accordingly\r\n        var tx = 0, ty = 0;\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          var prefix = \"\";\r\n          if (dojo.isWebKit) {\r\n            prefix = \"-webkit-\";\r\n          }\r\n          if (dojo.isFF) {\r\n            prefix = \"-moz-\";\r\n          }\r\n          if (dojo.isIE) {\r\n            prefix = \"-ms-\";\r\n          }\r\n          if (dojo.isOpera) {\r\n            prefix = \"-o-\";\r\n          }\r\n\r\n          var transformValue = swipediv.style.getPropertyValue(prefix + \"transform\");\r\n\r\n          if(transformValue) {\r\n\t\t\tif(transformValue.toLowerCase().indexOf(\"translate3d\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate3d(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\t\t\telse if(transformValue.toLowerCase().indexOf(\"translate\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(transformValue);\r\n\r\n\t\t\ttry {\r\n\t\t\t  tx = parseFloat(transformValue[0]);\r\n\t\t\t  ty = parseFloat(transformValue[1]);\r\n\t\t\t} catch(e) {\r\n\t\t\t  alert(\"Error cannot continue\");\r\n\t\t\t  console.error(e);\r\n\t\t\t}\r\n\r\n            //console.log(\"transform = \", tx, ty);\r\n            leftval -= tx;\r\n            rightval -= tx;\r\n            topval -= ty;\r\n            bottomval -= ty;\r\n          }\r\n        }\r\n\r\n        //Syntax for clip \"rect(top,right,bottom,left)\"\r\n        //var clipstring = \"rect(0px \" + val + \"px \" + map.height + \"px \" + \" 0px)\";\r\n        var clipstring = \"rect(\" + topval + \"px \" + rightval + \"px \" + bottomval + \"px \" + leftval + \"px)\";\r\n        //console.log(\"New Clip string(T,R,B,L): \" + clipstring);\r\n        swipediv.style.clip = clipstring;\r\n      }\r\n\t}"],[0,"\r\n\r\n\r\n  });\r"]],"start1":15015,"start2":15015,"length1":24,"length2":2906}]],"length":18999,"saved":false}
{"ts":1352311774679,"patch":[[{"diffs":[[0,"function"],[-1," swipe"],[0,"(val){\r\n"]],"start1":15027,"start2":15027,"length1":22,"length2":16}]],"length":18993,"saved":false}
{"ts":1352311778234,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"swipe:"],[0,"function(val"]],"start1":15015,"start2":15015,"length1":24,"length2":30}]],"length":18999,"saved":false}
{"ts":1352311863644,"patch":[[{"diffs":[[0,"    "],[-1,"//This is called when \"Stop Swipe\" button is clicked\r\n    function stopswipe(){\r\n      map.showZoomSlider();\r\n      //console.log(\"Swipe tool disabled!\");\r\n      swipeslider = null;\r\n      //dojo.byId(\"layerlistdd\").disabled = false;\r\n      dojo.byId(\"sliderdiv\").style.display = \"none\";\r\n      if (swipeconnect)\r\n      dojo.disconnect(swipeconnect);\r\n      if (panEndConnect)\r\n      dojo.disconnect(panEndConnect);\r\n      if (panConnect)\r\n      dojo.disconnect(panConnect);\r\n      clearInterval(animtimer);\r\n      clearInterval(flashtimer);\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n        swipediv = null;\r\n      }\r\n\t}"],[0,"\r\n"]],"start1":18305,"start2":18305,"length1":694,"length2":6}]],"length":18311,"saved":false}
{"ts":1352311867303,"patch":[[{"diffs":[[0,"   }\r\n\t}"],[1,",\r\n    \r\n    "],[0,"\r\n\r\n\r\n  "]],"start1":17901,"start2":17901,"length1":16,"length2":29}]],"length":18324,"saved":false}
{"ts":1352311868088,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"//This is called when \"Stop Swipe\" button is clicked\r\n    function stopswipe(){\r\n      map.showZoomSlider();\r\n      //console.log(\"Swipe tool disabled!\");\r\n      swipeslider = null;\r\n      //dojo.byId(\"layerlistdd\").disabled = false;\r\n      dojo.byId(\"sliderdiv\").style.display = \"none\";\r\n      if (swipeconnect)\r\n      dojo.disconnect(swipeconnect);\r\n      if (panEndConnect)\r\n      dojo.disconnect(panEndConnect);\r\n      if (panConnect)\r\n      dojo.disconnect(panConnect);\r\n      clearInterval(animtimer);\r\n      clearInterval(flashtimer);\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n        swipediv = null;\r\n      }\r\n    }"],[0,"\r\n\r\n\r\n  });\r"]],"start1":17910,"start2":17910,"length1":24,"length2":715}]],"length":19015,"saved":false}
{"ts":1352311874793,"patch":[[{"diffs":[[0,"tion"],[-1," stopswipe"],[0,"(){\r"]],"start1":17984,"start2":17984,"length1":18,"length2":8}]],"length":19005,"saved":false}
{"ts":1352311876463,"patch":[[{"diffs":[[0,"licked\r\n    "],[1,"stopswipe:"],[0,"function(){\r"]],"start1":17968,"start2":17968,"length1":24,"length2":34}]],"length":19015,"saved":false}
{"ts":1352311899452,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],[0,"\t//J"]],"start1":18624,"start2":18624,"length1":38,"length2":8}]],"length":18985,"saved":false}
{"ts":1352311905179,"patch":[[{"diffs":[[0," });"],[-1,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n    \r\n"]],"start1":18943,"start2":18943,"length1":42,"length2":4}]],"length":18947,"saved":false}
{"ts":1352311907043,"patch":[[{"diffs":[[0," }\r\n    },\r\n"],[-1,"    "],[0,"\r\n    swipe:"]],"start1":15005,"start2":15005,"length1":28,"length2":24},{"diffs":[[0,"}\r\n\t},\r\n"],[-1,"    "],[0,"\r\n    //"]],"start1":17900,"start2":17900,"length1":20,"length2":16}]],"length":18939,"saved":false}
{"ts":1352312538871,"patch":[[{"diffs":[[0,"  "],[1,"//"],[0,"dojo.provide"]],"start1":0,"start2":0,"length1":14,"length2":16}]],"length":18941,"saved":false}
{"ts":1352312582633,"patch":[[{"diffs":[[-1,"  //dojo.provide(\"utilities.layout\");\r\n\r\n"],[0,"  "],[1,""],[0,"dojo"]],"start1":0,"start2":0,"length1":47,"length2":6},{"diffs":[[0,"\r\n  "],[-1,"utilities.layout = {};\r\n  dojo.mixin(utilities.layout,{\r\n\r\n      map:null,\r\n      urlObject:null,\r\n      chooseLayer:null,\r\n      swipeslider:null,\r\n      swipediv:null,\r\n      clipval:null,"],[1,"   var map, urlObject, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top, swipelayerid=\"\", swipeconnect=null, mapPoint, layers, setFeatures = true;\r\n     var mapLoaded = false;\r\n\r\n     function initMap() {\r\n       patchID();\r\n       \r\n       dojo.some([\"ar\",\"he\"], function(l){\r\n         if(dojo.locale.indexOf(l) !== -1){\r\n           configOptions.isRightToLeft = true;\r\n           return true;\r\n         }\r\n       });\r\n       var dirNode = document.getElementsByTagName(\"html\")[0];"],[0,"\r\n      "],[1," "],[-1,"offset_left:null,\r\n      offset_top:null,\r\n      swipelayerid:\"\","],[1,"if(configOptions.isRightToLeft){\r\n         dirNode.setAttribute(\"dir\",\"rtl\");\r\n         dojo.addClass( dirNode,\"esriRtl\");"],[0,"\r\n      "],[1," "],[-1,"swipeconnect:null,\r\n      mapPoint:null,\r\n      layers:null,\r\n      setFeatures:true,\r\n      mapLoaded:false,\r\n\r\n      initMap:function() {\r\n       utilities.layout.patchID();"],[1,"  //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"rtl\");\r\n       }else{\r\n         dirNode.setAttribute(\"dir\",\"ltr\");\r\n         dojo.addClass(dirNode,\"esriLtr\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"ltr\");\r\n       }"],[0,"\r\n\r\n"]],"start1":433,"start2":433,"length1":454,"length2":921},{"diffs":[[0,"y;\r\n       }\r\n\r\n"],[-1,"    "],[1,"\t"],[0,"   esri.arcgis.u"]],"start1":3118,"start2":3118,"length1":36,"length2":33},{"diffs":[[0,";}\r\n    "],[-1,"    "],[1,"\t"],[0,"\t   if(r"]],"start1":3976,"start2":3976,"length1":20,"length2":17},{"diffs":[[0,"\r\n\t\t\t   "],[-1,"utilities.layout."],[0,"createMa"]],"start1":4079,"start2":4079,"length1":33,"length2":16},{"diffs":[[0,"se{\r\n\t\t\t"],[-1,"utilities.layout."],[0,"createMa"]],"start1":4254,"start2":4254,"length1":33,"length2":16},{"diffs":[[0,"\t }\r\n\t }"],[-1,","],[0,"\r\n\r\n"],[-1,"    "],[1,"function"],[0," createM"]],"start1":4277,"start2":4277,"length1":25,"length2":28},{"diffs":[[0,"reateMap"],[-1,":function"],[0,"(){\r\n"],[-1,"    "],[1,"\t"],[0,"  var po"]],"start1":4299,"start2":4299,"length1":34,"length2":22},{"diffs":[[0,"ateEnd\","],[-1,"utilities.layout."],[0,""],[1,""],[0,"hideLoad"]],"start1":5147,"start2":5147,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"initUI(l"]],"start1":5813,"start2":5813,"length1":33,"length2":16},{"diffs":[[0,";\r\n\t\t   "],[-1,"utilities.layout."],[0,"populate"]],"start1":5835,"start2":5835,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"initUI(l"]],"start1":6073,"start2":6073,"length1":33,"length2":16},{"diffs":[[0,");\r\n\t\t\t "],[-1,"utilities.layout."],[0,"populate"]],"start1":6094,"start2":6094,"length1":33,"length2":16},{"diffs":[[0,"   }"],[-1,","],[1,"\r\n"],[0,"\r\n\r\n    "],[-1," initUI:"],[0," fun"]],"start1":6557,"start2":6557,"length1":25,"length2":18},{"diffs":[[0,"\n\r\n     function"],[1," initUI"],[0,"(layers) {\r\n    "]],"start1":6564,"start2":6564,"length1":32,"length2":39},{"diffs":[[0,"rInfo = "],[-1,"utilities.layout."],[0,""],[1,""],[0,"buildLay"]],"start1":6892,"start2":6892,"length1":33,"length2":16},{"diffs":[[0,"\r\n     }"],[-1,","],[0,"\r\n\r\n"],[-1,"     "],[0,"//build "]],"start1":7196,"start2":7196,"length1":26,"length2":20},{"diffs":[[0,"gend\r\n  "],[1,"function "],[0,"buildLay"]],"start1":7253,"start2":7253,"length1":16,"length2":25},{"diffs":[[0,"yersList"],[-1,":function"],[0,"(layers)"]],"start1":7277,"start2":7277,"length1":25,"length2":16},{"diffs":[[0,"\n  }"],[-1,","],[0,"\r\n\r\n  "],[-1,"patchID:function"],[1,"   function patchID"],[0,"() {"]],"start1":9238,"start2":9238,"length1":31,"length2":33},{"diffs":[[0,";\r\n    }"],[-1,","],[0,"\r\n\r\n"],[-1,"   "],[1,"\tfunction"],[0," hideLoa"]],"start1":10311,"start2":10311,"length1":24,"length2":29},{"diffs":[[0,"deLoader"],[-1,":function"],[0,"(){\r\n"],[-1,"    "],[1,"\t"],[0,"  if (ma"]],"start1":10335,"start2":10335,"length1":34,"length2":22},{"diffs":[[0,"\t  }\r\n\t}"],[-1,","],[0,"\r\n\r\n"],[-1,"    "],[1,"\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });\r\n\r\n\t"],[0,"//Swipe "]],"start1":10552,"start2":10552,"length1":25,"length2":344},{"diffs":[[0,"ontrol\r\n"],[-1,"   "],[1,"\tfunction"],[0," populat"]],"start1":10897,"start2":10897,"length1":19,"length2":25},{"diffs":[[0,"ayerList"],[-1,":function"],[0,"(){\r\n\t  "]],"start1":10924,"start2":10924,"length1":25,"length2":16},{"diffs":[[0,"se;\r\n\t  "],[-1,"utilities.layout."],[0,"startswi"]],"start1":11390,"start2":11390,"length1":33,"length2":16},{"diffs":[[0,"e();\r\n\t}"],[-1,","],[0,"\r\n\r\n"],[-1,"    "],[1,"\t"],[0,"function"]],"start1":11407,"start2":11407,"length1":25,"length2":21},{"diffs":[[0,"Level;\r\n"],[-1,"    "],[1,"\t"],[0,"  swipel"]],"start1":11489,"start2":11489,"length1":20,"length2":17},{"diffs":[[0,";\r\n    }"],[-1,","],[0,"\r\n\r\n    "],[1,"function "],[0,"startswi"]],"start1":12345,"start2":12345,"length1":25,"length2":33},{"diffs":[[0,"n startswipe"],[-1,":function"],[0,"(){\r\n      /"]],"start1":12368,"start2":12368,"length1":33,"length2":24},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,""],[1,""],[0,"initswip"]],"start1":12469,"start2":12469,"length1":33,"length2":16},{"diffs":[[0,"peslider);\r\n"],[-1,"    "],[1,"\t"],[0,"  }\r\n\r\n\t  //"]],"start1":12650,"start2":12650,"length1":28,"length2":25},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,""],[1,""],[0,"clearCli"]],"start1":13421,"start2":13421,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"cliplaye"]],"start1":13643,"start2":13643,"length1":33,"length2":16},{"diffs":[[0,"d);\r\n      }"],[-1,","],[0,"\r\n\r\n      cl"]],"start1":13672,"start2":13672,"length1":25,"length2":24},{"diffs":[[0," }\r\n\r\n      "],[1,"function "],[0,"cliplayer: f"]],"start1":13682,"start2":13682,"length1":24,"length2":33},{"diffs":[[0,"liplayer"],[-1,": function"],[0,"(layerid"]],"start1":13704,"start2":13704,"length1":26,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipe(do"]],"start1":13765,"start2":13765,"length1":33,"length2":16},{"diffs":[[0," 0.5);\r\n"],[-1,"    "],[1,"\t"],[0,"\t$(\"#sli"]],"start1":14092,"start2":14092,"length1":20,"length2":17},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipe(cl"]],"start1":14522,"start2":14522,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipe(cl"]],"start1":14963,"start2":14963,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout."],[0,"swip"]],"start1":15203,"start2":15203,"length1":25,"length2":8},{"diffs":[[0,"}\r\n    }"],[-1,","],[0,"\r\n\r\n    "],[1,"function "],[0,"clearCli"]],"start1":15243,"start2":15243,"length1":25,"length2":33},{"diffs":[[0,"learClip"],[-1,":function"],[0,"(){\r\n   "]],"start1":15269,"start2":15269,"length1":25,"length2":16},{"diffs":[[0,"   }"],[-1,","],[0,"\r\n\r\n    "],[-1,"swipe:"],[0,"function"],[1," swipe"],[0,"(val"]],"start1":15439,"start2":15439,"length1":31,"length2":30},{"diffs":[[0,"t_top;\r\n"],[-1,"    "],[1,"\t"],[0,"\t}\r\n    "]],"start1":16193,"start2":16193,"length1":20,"length2":17},{"diffs":[[0,"   }\r\n\t}"],[-1,","],[0,""],[1,""],[0,"\r\n\r\n    "]],"start1":18322,"start2":18322,"length1":17,"length2":16},{"diffs":[[0,"ed\r\n    "],[1,"function "],[0,"stopswip"]],"start1":18388,"start2":18388,"length1":16,"length2":25},{"diffs":[[0,"wipe"],[-1,":function"],[0,"(){\r"]],"start1":18410,"start2":18410,"length1":17,"length2":8},{"diffs":[[0," }\r\n"],[-1,"    }\r\n\r\n\r\n  });\r\n\r\n\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });"],[1,"\t}\r\n"]],"start1":19020,"start2":19020,"length1":343,"length2":8}]],"length":19028,"saved":false}
{"ts":1352312583578,"patch":[[{"diffs":[[0,"hID();\r\n"],[-1,"       "],[0,"\r\n      "]],"start1":674,"start2":674,"length1":23,"length2":16}]],"length":19021,"saved":false}
{"ts":1352315437519,"patch":[[{"diffs":[[0,"sri.map\");\r\n"],[1,"  \r\n  dojo.require(\"esri.layout\");\r\n  dojo.require(\"esri.widgets\");\r\n"],[0,"  dojo.requi"]],"start1":17,"start2":17,"length1":24,"length2":93}]],"length":19090,"saved":false}
{"ts":1352315439797,"patch":[[{"diffs":[[0,"i.map\");"],[-1,"\r\n"],[0,"  \r\n  do"]],"start1":19,"start2":19,"length1":18,"length2":16}]],"length":19088,"saved":false}
{"ts":1352315446749,"patch":[[{"diffs":[[0,");\r\n"],[-1,"  dojo.require(\"esri.dijit.Legend\");\r\n  dojo.require(\"esri.dijit.Scalebar\");\r\n"],[0,"  do"]],"start1":92,"start2":92,"length1":86,"length2":8}]],"length":19010,"saved":false}
{"ts":1352315449123,"patch":[[{"diffs":[[0,");\r\n"],[-1,"  dojo.require(\"dijit.dijit\");\r\n"],[0,"  do"]],"start1":171,"start2":171,"length1":40,"length2":8}]],"length":18978,"saved":false}
{"ts":1352315456800,"patch":[[{"diffs":[[0,");\r\n"],[-1,"  dojo.require(\"esri.IdentityManager\");\r\n  dojo.require(\"dijit.layout.BorderContainer\");\r\n  dojo.require(\"dijit.layout.ContentPane\");\r\n  dojo.require(\"dijit.layout.StackContainer\");\r\n  dojo.require(\"esri.dijit.Popup\");\r\n"],[0,"  do"]],"start1":130,"start2":130,"length1":228,"length2":8}]],"length":18758,"saved":false}
{"ts":1352315472844,"patch":[[{"diffs":[[0,");\r\n"],[-1,"  dojo.require(\"dojo.dnd.move\");\r\n"],[0,"\r\n\r\n"]],"start1":130,"start2":130,"length1":42,"length2":8}]],"length":18724,"saved":false}
{"ts":1352315517551,"patch":[[{"diffs":[[0,"ils\");\r\n"],[1,"  \r\n  al\r\n"],[0,"\r\n\r\n    "]],"start1":126,"start2":126,"length1":16,"length2":26}]],"length":18734,"saved":false}
{"ts":1352315518551,"patch":[[{"diffs":[[0,"  \r\n  al"],[1,"ert"],[0,"\r\n\r\n\r\n  "]],"start1":134,"start2":134,"length1":16,"length2":19}]],"length":18737,"saved":false}
{"ts":1352315520721,"patch":[[{"diffs":[[0,"\n  alert"],[1,"(\"test"],[0,"\r\n\r\n\r\n  "]],"start1":137,"start2":137,"length1":16,"length2":22}]],"length":18743,"saved":false}
{"ts":1352315521832,"patch":[[{"diffs":[[0,"rt(\"test"],[1,"\")"],[0,"\r\n\r\n\r\n  "]],"start1":143,"start2":143,"length1":16,"length2":18}]],"length":18745,"saved":false}
{"ts":1352315522486,"patch":[[{"diffs":[[0,"i.map\");"],[-1,"  "],[0,"\r\n  dojo"]],"start1":19,"start2":19,"length1":18,"length2":16},{"diffs":[[0,"ils\");\r\n"],[-1,"  "],[0,"\r\n  aler"]],"start1":124,"start2":124,"length1":18,"length2":16},{"diffs":[[0,"(\"test\")"],[1,";"],[0,"\r\n\r\n\r\n  "]],"start1":141,"start2":141,"length1":16,"length2":17}]],"length":18742,"saved":false}
{"ts":1352315530961,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"  alert(\"test\");\r\n\r\n"],[0,"\r\n  "]],"start1":130,"start2":130,"length1":28,"length2":8}]],"length":18722,"saved":false}
{"ts":1352315785437,"patch":[[{"diffs":[[1,"  \r\n  \r\n"],[0,"  dojo.require(\"esri.map\");\r"]],"start1":0,"start2":0,"length1":28,"length2":36}]],"length":18730,"saved":false}
{"ts":1352315786364,"patch":[[{"diffs":[[0,"  "],[1,"dojo.require(\"utilities.layout\");"],[0,"\r\n  \r\n  dojo"]],"start1":0,"start2":0,"length1":14,"length2":47}]],"length":18763,"saved":false}
{"ts":1352315789090,"patch":[[{"diffs":[[0,"  dojo."],[-1,"require"],[1,"provid"],[0,"(\"utilit"]],"start1":0,"start2":0,"length1":22,"length2":21}]],"length":18762,"saved":false}
{"ts":1352315790102,"patch":[[{"diffs":[[0,"o.provid"],[1,"e"],[0,"(\"utilit"]],"start1":5,"start2":5,"length1":16,"length2":17}]],"length":18763,"saved":false}
{"ts":1352315790773,"patch":[[{"diffs":[[0,"out\");\r\n"],[-1,"  "],[0,"\r\n  dojo"]],"start1":29,"start2":29,"length1":18,"length2":16}]],"length":18761,"saved":false}
{"ts":1352316091767,"patch":[[{"diffs":[[0,"ils\");\r\n"],[1,"  dojo.requireLocalization(\"esriTemplate\",\"template\");\r\n"],[0,"\r\n\r\n    "]],"start1":163,"start2":163,"length1":16,"length2":72}]],"length":18817,"saved":false}
{"ts":1352316329158,"patch":[[{"diffs":[[0,"ate\");\r\n"],[1,"  \r\n  utilities.layout = {};\r\n  dojo.mixin(utilities.layout,{\r\n      \r\n"],[0,"\r\n\r\n    "]],"start1":219,"start2":219,"length1":16,"length2":87}]],"length":18888,"saved":false}
{"ts":1352316329906,"patch":[[{"diffs":[[0,"ut,{\r\n  "],[-1,"    "],[1,"}"],[0,"\r\n\r\n\r\n  "]],"start1":284,"start2":284,"length1":20,"length2":17}]],"length":18885,"saved":false}
{"ts":1352316331368,"patch":[[{"diffs":[[0,"ayout,{\r\n  }"],[1,");"],[0,"\r\n\r\n\r\n     v"]],"start1":281,"start2":281,"length1":24,"length2":26}]],"length":18887,"saved":false}
{"ts":1352316338595,"patch":[[{"diffs":[[0,"yout,{\r\n"],[1,"      var map, urlObject, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top, swipelayerid=\"\", swipeconnect=null, mapPoint, layers, setFeatures = true;\r\n     var mapLoaded = false;\r\n"],[0,"  });\r\n\r"]],"start1":282,"start2":282,"length1":16,"length2":216}]],"length":19087,"saved":false}
{"ts":1352316342520,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"\r\n     var map, urlObject, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top, swipelayerid=\"\", swipeconnect=null, mapPoint, layers, setFeatures = true;\r\n     var mapLoaded = false;\r\n\r\n"],[0,"    "]],"start1":495,"start2":495,"length1":211,"length2":8}]],"length":18884,"saved":false}
{"ts":1352316348204,"patch":[[{"diffs":[[0,"\r\n      "],[-1,"var "],[0,"map, url"]],"start1":288,"start2":288,"length1":20,"length2":16}]],"length":18880,"saved":false}
{"ts":1352316354305,"patch":[[{"diffs":[[0,"     map"],[1,":null"],[0,", urlObj"]],"start1":291,"start2":291,"length1":16,"length2":21}]],"length":18885,"saved":false}
{"ts":1352316359329,"patch":[[{"diffs":[[0,"ap:null,"],[1,"\r\n     "],[0," urlObje"]],"start1":297,"start2":297,"length1":16,"length2":23}]],"length":18892,"saved":false}
{"ts":1352316361482,"patch":[[{"diffs":[[0,"rlObject"],[1,":null"],[0,", choose"]],"start1":314,"start2":314,"length1":16,"length2":21}]],"length":18897,"saved":false}
{"ts":1352316362527,"patch":[[{"diffs":[[0,"ct:null,"],[1,"\r\n     "],[0," chooseL"]],"start1":320,"start2":320,"length1":16,"length2":23}]],"length":18904,"saved":false}
{"ts":1352316364295,"patch":[[{"diffs":[[0,"oseLayer"],[1,":null"],[0,", swipes"]],"start1":339,"start2":339,"length1":16,"length2":21}]],"length":18909,"saved":false}
{"ts":1352316365146,"patch":[[{"diffs":[[0,"er:null,"],[1,"\r\n     "],[0," swipesl"]],"start1":345,"start2":345,"length1":16,"length2":23}]],"length":18916,"saved":false}
{"ts":1352316367328,"patch":[[{"diffs":[[0,"peslider"],[1,":null"],[0,", swiped"]],"start1":364,"start2":364,"length1":16,"length2":21}]],"length":18921,"saved":false}
{"ts":1352316368324,"patch":[[{"diffs":[[0,"er:null,"],[1,"\r\n     "],[0," swipedi"]],"start1":370,"start2":370,"length1":16,"length2":23}]],"length":18928,"saved":false}
{"ts":1352316370255,"patch":[[{"diffs":[[0,"swipediv"],[1,":null"],[0,", clipva"]],"start1":386,"start2":386,"length1":16,"length2":21}]],"length":18933,"saved":false}
{"ts":1352316371120,"patch":[[{"diffs":[[0,"iv:null,"],[1,"\r\n     "],[0," clipval"]],"start1":392,"start2":392,"length1":16,"length2":23}]],"length":18940,"saved":false}
{"ts":1352316372848,"patch":[[{"diffs":[[0," clipval"],[1,":null"],[0,", offset"]],"start1":407,"start2":407,"length1":16,"length2":21}]],"length":18945,"saved":false}
{"ts":1352316374929,"patch":[[{"diffs":[[0,"al:null,"],[1,"\r\n     "],[0," offset_"]],"start1":413,"start2":413,"length1":16,"length2":23}]],"length":18952,"saved":false}
{"ts":1352316377111,"patch":[[{"diffs":[[0,"set_left"],[1,":null"],[0,", offset"]],"start1":432,"start2":432,"length1":16,"length2":21}]],"length":18957,"saved":false}
{"ts":1352316378122,"patch":[[{"diffs":[[0,"ft:null,"],[1,"\r\n     "],[0," offset_"]],"start1":438,"start2":438,"length1":16,"length2":23}]],"length":18964,"saved":false}
{"ts":1352316380045,"patch":[[{"diffs":[[0,"fset_top"],[1,":null"],[0,", swipel"]],"start1":456,"start2":456,"length1":16,"length2":21}]],"length":18969,"saved":false}
{"ts":1352316381086,"patch":[[{"diffs":[[0,"op:null,"],[1,"\r\n     "],[0," swipela"]],"start1":462,"start2":462,"length1":16,"length2":23}]],"length":18976,"saved":false}
{"ts":1352316385103,"patch":[[{"diffs":[[0,"elayerid"],[-1,"="],[1,":"],[0,"\"\", swip"]],"start1":482,"start2":482,"length1":17,"length2":17}]],"length":18976,"saved":false}
{"ts":1352316386986,"patch":[[{"diffs":[[0,"erid:\"\","],[1,"\r\n     "],[0," swipeco"]],"start1":486,"start2":486,"length1":16,"length2":23}]],"length":18983,"saved":false}
{"ts":1352316389712,"patch":[[{"diffs":[[0,"econnect"],[-1,"="],[1,":"],[0,"null, ma"]],"start1":506,"start2":506,"length1":17,"length2":17}]],"length":18983,"saved":false}
{"ts":1352316392578,"patch":[[{"diffs":[[0,"ct:null,"],[-1," "],[1,"\r\n      :null"],[0,"mapPoint"]],"start1":512,"start2":512,"length1":17,"length2":29}]],"length":18995,"saved":false}
{"ts":1352316393339,"patch":[[{"diffs":[[0,"\r\n      "],[-1,":null"],[0,"mapPoint"]],"start1":520,"start2":520,"length1":21,"length2":16}]],"length":18990,"saved":false}
{"ts":1352316395705,"patch":[[{"diffs":[[0,"mapPoint"],[1,":null"],[0,", layers"]],"start1":528,"start2":528,"length1":16,"length2":21}]],"length":18995,"saved":false}
{"ts":1352316397655,"patch":[[{"diffs":[[0,"nt:null,"],[1,"\r\n     "],[0," layers,"]],"start1":534,"start2":534,"length1":16,"length2":23}]],"length":19002,"saved":false}
{"ts":1352316399538,"patch":[[{"diffs":[[0," layers,"],[1,":null"],[0," setFeat"]],"start1":549,"start2":549,"length1":16,"length2":21}]],"length":19007,"saved":false}
{"ts":1352316402827,"patch":[[{"diffs":[[0," layers,"],[-1,":null"],[0," setFeat"]],"start1":549,"start2":549,"length1":21,"length2":16}]],"length":19002,"saved":false}
{"ts":1352316405026,"patch":[[{"diffs":[[0,"  layers"],[-1,","],[1,":null,\r\n     "],[0," setFeat"]],"start1":548,"start2":548,"length1":17,"length2":29}]],"length":19014,"saved":false}
{"ts":1352316409913,"patch":[[{"diffs":[[0," setFeatures"],[-1," = "],[1,":"],[0,"true;\r\n     "]],"start1":569,"start2":569,"length1":27,"length2":25}]],"length":19012,"saved":false}
{"ts":1352316413244,"patch":[[{"diffs":[[0,"eatures:true"],[-1,";"],[1,","],[0,"\r\n     var m"]],"start1":574,"start2":574,"length1":25,"length2":25}]],"length":19012,"saved":false}
{"ts":1352316417549,"patch":[[{"diffs":[[0,",\r\n     "],[-1,"var"],[0," mapLoad"]],"start1":586,"start2":586,"length1":19,"length2":16}]],"length":19009,"saved":false}
{"ts":1352316419948,"patch":[[{"diffs":[[0,"apLoaded"],[-1," = "],[1,":"],[0,"false;\r\n"]],"start1":596,"start2":596,"length1":19,"length2":17}]],"length":19007,"saved":false}
{"ts":1352316422597,"patch":[[{"diffs":[[0,"Loaded:false"],[-1,";"],[0,"\r\n  });\r\n\r\n "]],"start1":598,"start2":598,"length1":25,"length2":24}]],"length":19006,"saved":false}
{"ts":1352316423882,"patch":[[{"diffs":[[0,"Loaded:false"],[1,","],[0,"\r\n  });\r\n\r\n "]],"start1":598,"start2":598,"length1":24,"length2":25}]],"length":19007,"saved":false}
{"ts":1352316448386,"patch":[[{"diffs":[[0,"false,\r\n"],[1,"      \r\n      \r\n"],[0,"  });\r\n\r"]],"start1":605,"start2":605,"length1":16,"length2":32}]],"length":19023,"saved":false}
{"ts":1352316449476,"patch":[[{"diffs":[[0,"      \r\n"],[1,"      \r\n"],[0,"  });\r\n\r"]],"start1":621,"start2":621,"length1":16,"length2":24}]],"length":19031,"saved":false}
{"ts":1352316452290,"patch":[[{"diffs":[[0,"yout,{\r\n"],[1,"      \r\n"],[0,"      ma"]],"start1":282,"start2":282,"length1":16,"length2":24}]],"length":19039,"saved":false}
{"ts":1352316456173,"patch":[[{"diffs":[[0,"\r\n      \r\n      "],[1,"function initMap() {\r\n       patchID();\r\n\r\n       dojo.some([\"ar\",\"he\"], function(l){\r\n         if(dojo.locale.indexOf(l) !== -1){\r\n           configOptions.isRightToLeft = true;\r\n           return true;\r\n         }\r\n       });\r\n       var dirNode = document.getElementsByTagName(\"html\")[0];\r\n       if(configOptions.isRightToLeft){\r\n         dirNode.setAttribute(\"dir\",\"rtl\");\r\n         dojo.addClass( dirNode,\"esriRtl\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"rtl\");\r\n       }else{\r\n         dirNode.setAttribute(\"dir\",\"ltr\");\r\n         dojo.addClass(dirNode,\"esriLtr\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"ltr\");\r\n       }\r\n\r\n       i18n = dojo.i18n.getLocalization(\"esriTemplate\",\"template\");\r\n       dojo.byId('loading').innerHTML = i18n.viewer.loading.message;\r\n       dojo.byId('legTogText').innerHTML = i18n.viewer.legToggle.down;\r\n\r\n       if(configOptions.geometryserviceurl && location.protocol === \"https:\"){\r\n         configOptions.geometryserviceurl = configOptions.geometryserviceurl.replace('http:','https:');\r\n       }\r\n       esri.config.defaults.geometryService = new esri.tasks.GeometryService(configOptions.geometryserviceurl);\r\n\r\n       if(!configOptions.sharingurl){\r\n         configOptions.sharingurl = location.protocol + '//' + location.host + \"/sharing/content/items\";\r\n       }\r\n       esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n       if(!configOptions.proxyurl){\r\n         configOptions.proxyurl = location.protocol + '//' + location.host + \"/sharing/proxy\";\r\n       }\r\n\r\n       esri.config.defaults.io.proxyUrl =  configOptions.proxyurl;\r\n\r\n       esri.config.defaults.io.alwaysUseProxy = false;\r\n\r\n       urlObject = esri.urlToObject(document.location.href);\r\n       urlObject.query = urlObject.query || {};\r\n\r\n       if(urlObject.query.title){\r\n         configOptions.title = urlObject.query.title;\r\n       }\r\n       if(urlObject.query.subtitle){\r\n         configOptions.subtitle = urlObject.query.subtitle;\r\n       }\r\n       if(urlObject.query.swipe){\r\n         configOptions.chooseSwipeLevel = urlObject.query.swipe;\r\n       }\r\n       if(urlObject.query.webmap){\r\n         configOptions.webmap = urlObject.query.webmap;\r\n       }\r\n       if(urlObject.query.legend){\r\n         configOptions.showLegend = urlObject.query.legend;\r\n       }\r\n       if(urlObject.query.bingMapsKey){\r\n         configOptions.bingmapskey = urlObject.query.bingMapsKey;\r\n       }\r\n\r\n       esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n\t   //is an appid specified - if so read json from there\r\n\t  if(configOptions.appid || (urlObject.query && urlObject.query.appid)){\r\n\t\tvar appid = configOptions.appid || urlObject.query.appid;\r\n\t\tvar requestHandle = esri.request({\r\n\t\t  url: configOptions.sharingurl + \"/\" + appid + \"/data\",\r\n\t\t  content: {f:\"json\"},\r\n\t\t  callbackParamName:\"callback\",\r\n\t\t  load: function(response){\r\n\t\t\t   if(response.values.title !== undefined){configOptions.title = response.values.title;}\r\n\t\t\t   if(response.values.subtitle !== undefined){configOptions.subtitle = response.values.subtitle;}\r\n\t\t\t   if(response.values.legend !== undefined){configOptions.showLegend = response.values.legend;}\r\n\t\t\t   if(response.values.swipe !== undefined){configOptions.chooseSwipeLevel = response.values.swipe;}\r\n    \t\t   if(response.values.webmap !== undefined){configOptions.webmap = response.values.webmap;}\r\n\r\n\t\t\t   createMap();\r\n\t\t  },\r\n\t\t  error: function(response){\r\n\t\t\tvar e = response.message;\r\n\t\t   alert(i18n.viewer.errors.createMap +  response.message);\r\n\t\t  }\r\n\t\t});\r\n\t\t }else{\r\n\t\t\tcreateMap();\r\n\t\t }\r\n\t }"],[0,"\r\n      \r\n  });\r"]],"start1":619,"start2":619,"length1":32,"length2":3672}]],"length":22679,"saved":false}
{"ts":1352316474518,"patch":[[{"diffs":[[0,"    function"],[-1," initMap"],[0,"() {\r\n      "]],"start1":631,"start2":631,"length1":32,"length2":24}]],"length":22671,"saved":false}
{"ts":1352316476636,"patch":[[{"diffs":[[0,"\r\n      \r\n      "],[1,"initMap"],[0,"function() {\r\n  "]],"start1":619,"start2":619,"length1":32,"length2":39}]],"length":22678,"saved":false}
{"ts":1352316477565,"patch":[[{"diffs":[[0," initMap"],[1,"."],[0,"function"]],"start1":634,"start2":634,"length1":16,"length2":17}]],"length":22679,"saved":false}
{"ts":1352316479976,"patch":[[{"diffs":[[0," initMap"],[-1,"."],[1,":"],[0,"function"]],"start1":634,"start2":634,"length1":17,"length2":17}]],"length":22679,"saved":false}
{"ts":1352316487180,"patch":[[{"diffs":[[0,"ion() {\r\n       "],[1,"this."],[0,"patchID();\r\n\r\n  "]],"start1":648,"start2":648,"length1":32,"length2":37}]],"length":22684,"saved":false}
{"ts":1352316572460,"patch":[[{"diffs":[[0,"\r\n\t\t }else{\r\n\t\t\t"],[1,"utilities.layout"],[0,"createMap();\r\n\t\t"]],"start1":4241,"start2":4241,"length1":32,"length2":48}]],"length":22700,"saved":false}
{"ts":1352316574134,"patch":[[{"diffs":[[0,"s.layout"],[1,"."],[0,"createMa"]],"start1":4265,"start2":4265,"length1":16,"length2":17}]],"length":22701,"saved":false}
{"ts":1352316591102,"patch":[[{"diffs":[[0,"se{\r\n\t\t\t"],[-1,"utilities.layout"],[1,"this"],[0,".createM"]],"start1":4249,"start2":4249,"length1":32,"length2":20}]],"length":22689,"saved":false}
{"ts":1352316594085,"patch":[[{"diffs":[[0,"bmap;}\r\n\r\n\t\t\t   "],[1,"this."],[0,"createMap();\r\n\t\t"]],"start1":4066,"start2":4066,"length1":32,"length2":37}]],"length":22694,"saved":false}
{"ts":1352316608863,"patch":[[{"diffs":[[0,"\r\n\t\t\t   "],[-1,"this"],[1,"utilities.layout"],[0,".createM"]],"start1":4074,"start2":4074,"length1":20,"length2":32}]],"length":22706,"saved":false}
{"ts":1352316614991,"patch":[[{"diffs":[[0,"se{\r\n\t\t\t"],[-1,"this"],[1,"utilities.layout"],[0,".createM"]],"start1":4266,"start2":4266,"length1":20,"length2":32}]],"length":22718,"saved":false}
{"ts":1352316624410,"patch":[[{"diffs":[[0,"    "],[-1,"function initMap() {\r\n       patchID();\r\n\r\n       dojo.some([\"ar\",\"he\"], function(l){\r\n         if(dojo.locale.indexOf(l) !== -1){\r\n           configOptions.isRightToLeft = true;\r\n           return true;\r\n         }\r\n       });\r\n       var dirNode = document.getElementsByTagName(\"html\")[0];\r\n       if(configOptions.isRightToLeft){\r\n         dirNode.setAttribute(\"dir\",\"rtl\");\r\n         dojo.addClass( dirNode,\"esriRtl\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"rtl\");\r\n       }else{\r\n         dirNode.setAttribute(\"dir\",\"ltr\");\r\n         dojo.addClass(dirNode,\"esriLtr\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"ltr\");\r\n       }\r\n\r\n       i18n = dojo.i18n.getLocalization(\"esriTemplate\",\"template\");\r\n       dojo.byId('loading').innerHTML = i18n.viewer.loading.message;\r\n       dojo.byId('legTogText').innerHTML = i18n.viewer.legToggle.down;\r\n\r\n       if(configOptions.geometryserviceurl && location.protocol === \"https:\"){\r\n         configOptions.geometryserviceurl = configOptions.geometryserviceurl.replace('http:','https:');\r\n       }\r\n       esri.config.defaults.geometryService = new esri.tasks.GeometryService(configOptions.geometryserviceurl);\r\n\r\n       if(!configOptions.sharingurl){\r\n         configOptions.sharingurl = location.protocol + '//' + location.host + \"/sharing/content/items\";\r\n       }\r\n       esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n       if(!configOptions.proxyurl){\r\n         configOptions.proxyurl = location.protocol + '//' + location.host + \"/sharing/proxy\";\r\n       }\r\n\r\n       esri.config.defaults.io.proxyUrl =  configOptions.proxyurl;\r\n\r\n       esri.config.defaults.io.alwaysUseProxy = false;\r\n\r\n       urlObject = esri.urlToObject(document.location.href);\r\n       urlObject.query = urlObject.query || {};\r\n\r\n       if(urlObject.query.title){\r\n         configOptions.title = urlObject.query.title;\r\n       }\r\n       if(urlObject.query.subtitle){\r\n         configOptions.subtitle = urlObject.query.subtitle;\r\n       }\r\n       if(urlObject.query.swipe){\r\n         configOptions.chooseSwipeLevel = urlObject.query.swipe;\r\n       }\r\n       if(urlObject.query.webmap){\r\n         configOptions.webmap = urlObject.query.webmap;\r\n       }\r\n       if(urlObject.query.legend){\r\n         configOptions.showLegend = urlObject.query.legend;\r\n       }\r\n       if(urlObject.query.bingMapsKey){\r\n         configOptions.bingmapskey = urlObject.query.bingMapsKey;\r\n       }\r\n\r\n\t   esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n\t   //is an appid specified - if so read json from there\r\n\t  if(configOptions.appid || (urlObject.query && urlObject.query.appid)){\r\n\t\tvar appid = configOptions.appid || urlObject.query.appid;\r\n\t\tvar requestHandle = esri.request({\r\n\t\t  url: configOptions.sharingurl + \"/\" + appid + \"/data\",\r\n\t\t  content: {f:\"json\"},\r\n\t\t  callbackParamName:\"callback\",\r\n\t\t  load: function(response){\r\n\t\t\t   if(response.values.title !== undefined){configOptions.title = response.values.title;}\r\n\t\t\t   if(response.values.subtitle !== undefined){configOptions.subtitle = response.values.subtitle;}\r\n\t\t\t   if(response.values.legend !== undefined){configOptions.showLegend = response.values.legend;}\r\n\t\t\t   if(response.values.swipe !== undefined){configOptions.chooseSwipeLevel = response.values.swipe;}\r\n    \t\t   if(response.values.webmap !== undefined){configOptions.webmap = response.values.webmap;}\r\n\r\n\t\t\t   createMap();\r\n\t\t  },\r\n\t\t  error: function(response){\r\n\t\t\tvar e = response.message;\r\n\t\t   alert(i18n.viewer.errors.createMap +  response.message);\r\n\t\t  }\r\n\t\t});\r\n\t\t }else{\r\n\t\t\tcreateMap();\r\n\t\t }\r\n\t }\r\n"],[0,"\r\nfu"]],"start1":4334,"start2":4334,"length1":3647,"length2":8}]],"length":19079,"saved":false}
{"ts":1352316632341,"patch":[[{"diffs":[[0,"  \r\n"],[-1,"function createMap(){\r\n\t  var popup = new esri.dijit.Popup({\r\n\t\thighlight:true\r\n      }, dojo.create(\"div\"));\r\n\r\n\t   var mapDeferred = esri.arcgis.utils.createMap(configOptions.webmap, \"map\", {\r\n         mapOptions: {\r\n           slider: true,\r\n           sliderStyle:\"small\",\r\n           nav: false,\r\n           wrapAround180:true,\r\n\t\t   infoWindow:popup\r\n         },\r\n         ignorePopups:false,\r\n         bingMapsKey: configOptions.bingmapskey\r\n       });\r\n\r\n       mapDeferred.addCallback(function (response) {\r\n\r\n\t\t document.title = configOptions.title|| response.itemInfo.item.title || \"\";\r\n         dojo.byId(\"title\").innerHTML = configOptions.title ||response.itemInfo.item.title;\r\n         dojo.byId(\"subtitle\").innerHTML = configOptions.subtitle|| response.itemInfo.item.snippet || \"\";\r\n\r\n         map = response.map;\r\n\r\n\t\t dojo.connect(map,\"onUpdateEnd\",hideLoader);\r\n\t\t dojo.connect(map,\"onClick\",function(event){\r\n\t\t\t mapPoint = event.mapPoint;\r\n\t\t });\r\n\t\t dojo.connect(popup,\"onSetFeatures\",function(){\r\n\t\t\t if (setFeatures == true){\r\n\t\t\t\t var selectedFeatures = [];\r\n\t\t\t\t dojo.forEach(popup.features,function(lyr,i){\r\n\t\t\t\t\t if(lyr.geometry.type == 'polygon'){\r\n\t\t\t\t\t\t if (lyr.geometry.contains(mapPoint) == true){\r\n\t\t\t\t\t\t\t selectedFeatures.push(lyr);\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }\r\n\t\t\t\t });\r\n\t\t\t\t setFeatures = false;\r\n\t\t\t\t popup.setFeatures(selectedFeatures);\r\n\t\t\t }\r\n\t\t\t else{\r\n\t\t\t\t setFeatures = true;\r\n\t\t\t }\r\n\t\t });\r\n\r\n         layers = response.itemInfo.itemData.operationalLayers;\r\n\r\n         if(map.loaded){\r\n           initUI(layers);\r\n\t\t   populateLayerList();\r\n\t\t   if(configOptions.showLegend === \"false\" || configOptions.showLegend === false){\r\n\t\t\t   $(\"#legendCon\").hide();\r\n\t\t   }\r\n         }\r\n         else{\r\n           dojo.connect(map,\"onLoad\",function(){\r\n             initUI(layers);\r\n\t\t\t populateLayerList();\r\n\t\t\t if(configOptions.showLegend === \"false\" || configOptions.showLegend === false){\r\n\t\t\t   $(\"#legendCon\").hide();\r\n\t\t   \t }\r\n           });\r\n         }\r\n         //resize the map when the browser resizes\r\n         dojo.connect(dijit.byId('map'), 'resize', map,map.resize);\r\n       });\r\n\r\n       mapDeferred.addErrback(function (error) {\r\n         alert(\"Unable to create map: \" + \" \" + dojo.toJson(error.message));\r\n       });\r\n\r\n     }"],[0,"\r\n\r\n"]],"start1":4336,"start2":4336,"length1":2280,"length2":8}]],"length":16807,"saved":false}
{"ts":1352316643508,"patch":[[{"diffs":[[0,"\t }\r\n\t }"],[1,",\r\n     \r\n     "],[0,"\r\n      "]],"start1":4306,"start2":4306,"length1":16,"length2":31}]],"length":16822,"saved":false}
{"ts":1352316644566,"patch":[[{"diffs":[[0,"     \r\n     "],[1,"function createMap(){\r\n      var popup = new esri.dijit.Popup({\r\n\t\thighlight:true\r\n      }, dojo.create(\"div\"));\r\n\r\n\t   var mapDeferred = esri.arcgis.utils.createMap(configOptions.webmap, \"map\", {\r\n         mapOptions: {\r\n           slider: true,\r\n           sliderStyle:\"small\",\r\n           nav: false,\r\n           wrapAround180:true,\r\n\t\t   infoWindow:popup\r\n         },\r\n         ignorePopups:false,\r\n         bingMapsKey: configOptions.bingmapskey\r\n       });\r\n\r\n       mapDeferred.addCallback(function (response) {\r\n\r\n\t\t document.title = configOptions.title|| response.itemInfo.item.title || \"\";\r\n         dojo.byId(\"title\").innerHTML = configOptions.title ||response.itemInfo.item.title;\r\n         dojo.byId(\"subtitle\").innerHTML = configOptions.subtitle|| response.itemInfo.item.snippet || \"\";\r\n\r\n         map = response.map;\r\n\r\n\t\t dojo.connect(map,\"onUpdateEnd\",hideLoader);\r\n\t\t dojo.connect(map,\"onClick\",function(event){\r\n\t\t\t mapPoint = event.mapPoint;\r\n\t\t });\r\n\t\t dojo.connect(popup,\"onSetFeatures\",function(){\r\n\t\t\t if (setFeatures == true){\r\n\t\t\t\t var selectedFeatures = [];\r\n\t\t\t\t dojo.forEach(popup.features,function(lyr,i){\r\n\t\t\t\t\t if(lyr.geometry.type == 'polygon'){\r\n\t\t\t\t\t\t if (lyr.geometry.contains(mapPoint) == true){\r\n\t\t\t\t\t\t\t selectedFeatures.push(lyr);\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }\r\n\t\t\t\t });\r\n\t\t\t\t setFeatures = false;\r\n\t\t\t\t popup.setFeatures(selectedFeatures);\r\n\t\t\t }\r\n\t\t\t else{\r\n\t\t\t\t setFeatures = true;\r\n\t\t\t }\r\n\t\t });\r\n\r\n         layers = response.itemInfo.itemData.operationalLayers;\r\n\r\n         if(map.loaded){\r\n           initUI(layers);\r\n\t\t   populateLayerList();\r\n\t\t   if(configOptions.showLegend === \"false\" || configOptions.showLegend === false){\r\n\t\t\t   $(\"#legendCon\").hide();\r\n\t\t   }\r\n         }\r\n         else{\r\n           dojo.connect(map,\"onLoad\",function(){\r\n             initUI(layers);\r\n\t\t\t populateLayerList();\r\n\t\t\t if(configOptions.showLegend === \"false\" || configOptions.showLegend === false){\r\n\t\t\t   $(\"#legendCon\").hide();\r\n\t\t   \t }\r\n           });\r\n         }\r\n         //resize the map when the browser resizes\r\n         dojo.connect(dijit.byId('map'), 'resize', map,map.resize);\r\n       });\r\n\r\n       mapDeferred.addErrback(function (error) {\r\n         alert(\"Unable to create map: \" + \" \" + dojo.toJson(error.message));\r\n       });\r\n\r\n     }"],[0,"\r\n      \r\n  "]],"start1":4317,"start2":4317,"length1":24,"length2":2299}]],"length":19097,"saved":false}
{"ts":1352316665114,"patch":[[{"diffs":[[0,"unction "],[-1,"createMap"],[0,"(){\r\n   "]],"start1":4330,"start2":4330,"length1":25,"length2":16}]],"length":19088,"saved":false}
{"ts":1352316666856,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"(){\r\n   "]],"start1":4329,"start2":4329,"length1":17,"length2":16}]],"length":19087,"saved":false}
{"ts":1352316667779,"patch":[[{"diffs":[[0,"     \r\n     "],[1,"createMap"],[0,"function(){\r"]],"start1":4317,"start2":4317,"length1":24,"length2":33}]],"length":19096,"saved":false}
{"ts":1352316668529,"patch":[[{"diffs":[[0,"reateMap"],[1,":"],[0,"function"]],"start1":4330,"start2":4330,"length1":16,"length2":17}]],"length":19097,"saved":false}
{"ts":1352316703180,"patch":[[{"diffs":[[0,"ateEnd\","],[1,"utilities.layout."],[0,"hideLoad"]],"start1":5190,"start2":5190,"length1":16,"length2":33}]],"length":19114,"saved":false}
{"ts":1352316773478,"patch":[[{"diffs":[[0,"d){\r\n           "],[1,"utilities.layout."],[0,"initUI(layers);\r"]],"start1":5865,"start2":5865,"length1":32,"length2":49}]],"length":19131,"saved":false}
{"ts":1352316774733,"patch":[[{"diffs":[[0,";\r\n\t\t   "],[1,"utilities.layout."],[0,"populate"]],"start1":5912,"start2":5912,"length1":16,"length2":33}]],"length":19148,"saved":false}
{"ts":1352316778541,"patch":[[{"diffs":[[0,"            "],[1,"utilities.layout."],[0,"initUI(layer"]],"start1":6163,"start2":6163,"length1":24,"length2":41}]],"length":19165,"saved":false}
{"ts":1352316779709,"patch":[[{"diffs":[[0,"yers);\r\n\t\t\t "],[1,"utilities.layout."],[0,"populateLaye"]],"start1":6201,"start2":6201,"length1":24,"length2":41}]],"length":19182,"saved":false}
{"ts":1352316787999,"patch":[[{"diffs":[[0,"    "],[-1,"function initUI(layers) {\r\n       //add chrome theme for popup\r\n       dojo.addClass(map.infoWindow.domNode, \"chrome\");\r\n       //add the scalebar\r\n       var scalebar = new esri.dijit.Scalebar({\r\n         map: map,\r\n         scalebarUnit:i18n.viewer.main.scaleBarUnits //metric or english\r\n       });\r\n\r\n       var layerInfo = buildLayersList(layers);\r\n\r\n       if(layerInfo.length > 0){\r\n         var legendDijit = new esri.dijit.Legend({\r\n           map:map,\r\n           layerInfos:layerInfo\r\n         },\"legendDiv\");\r\n         legendDijit.startup();\r\n       }\r\n       else{\r\n         $(\"#legendToggle\").hide();\r\n       }\r\n     }"],[0,"\r\n\r\n"]],"start1":6722,"start2":6722,"length1":640,"length2":8}]],"length":18550,"saved":false}
{"ts":1352316792227,"patch":[[{"diffs":[[0,"     });\r\n\r\n"],[1,"     },\r\n     \r\n     function initUI(layers) {\r\n       //add chrome theme for popup\r\n       dojo.addClass(map.infoWindow.domNode, \"chrome\");\r\n       //add the scalebar\r\n       var scalebar = new esri.dijit.Scalebar({\r\n         map: map,\r\n         scalebarUnit:i18n.viewer.main.scaleBarUnits //metric or english\r\n       });\r\n\r\n       var layerInfo = buildLayersList(layers);\r\n\r\n       if(layerInfo.length > 0){\r\n         var legendDijit = new esri.dijit.Legend({\r\n           map:map,\r\n           layerInfos:layerInfo\r\n         },\"legendDiv\");\r\n         legendDijit.startup();\r\n       }\r\n       else{\r\n         $(\"#legendToggle\").hide();\r\n       }\r\n"],[0,"     }\r\n    "]],"start1":6671,"start2":6671,"length1":24,"length2":671}]],"length":19197,"saved":false}
{"ts":1352316796983,"patch":[[{"diffs":[[0,"unction "],[-1,"initUI"],[0,"(layers)"]],"start1":6705,"start2":6705,"length1":22,"length2":16}]],"length":19191,"saved":false}
{"ts":1352316798641,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"(layers)"]],"start1":6704,"start2":6704,"length1":17,"length2":16}]],"length":19190,"saved":false}
{"ts":1352316802520,"patch":[[{"diffs":[[0,"     \r\n     "],[1,"initUI"],[0,"function(lay"]],"start1":6692,"start2":6692,"length1":24,"length2":30}]],"length":19196,"saved":false}
{"ts":1352316803876,"patch":[[{"diffs":[[0,"  initUI"],[1,": "],[0,"function"]],"start1":6702,"start2":6702,"length1":16,"length2":18}]],"length":19198,"saved":false}
{"ts":1352316849889,"patch":[[{"diffs":[[0,"rInfo = "],[1,"utilities.layout."],[0,"buildLay"]],"start1":7025,"start2":7025,"length1":16,"length2":33}]],"length":19215,"saved":false}
{"ts":1352316874230,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"//build a list of layers to dispaly in the legend\r\n  function buildLayersList(layers){\r\n\r\n //layers  arg is  response.itemInfo.itemData.operationalLayers;\r\n  var layerInfos = [];\r\n  dojo.forEach(layers, function (mapLayer, index) {\r\n      var layerInfo = {};\r\n      if (mapLayer.featureCollection && mapLayer.type !== \"CSV\") {\r\n        if (mapLayer.featureCollection.showLegend === true) {\r\n            dojo.forEach(mapLayer.featureCollection.layers, function (fcMapLayer) {\r\n              if (fcMapLayer.showLegend !== false) {\r\n                  layerInfo = {\r\n                      \"layer\": fcMapLayer.layerObject,\r\n                      \"title\": mapLayer.title,\r\n                      \"defaultSymbol\": false\r\n                  };\r\n                  if (mapLayer.featureCollection.layers.length > 1) {\r\n                      layerInfo.title += \" - \" + fcMapLayer.layerDefinition.name;\r\n                  }\r\n                  layerInfos.push(layerInfo);\r\n              }\r\n            });\r\n          }\r\n      } else if (mapLayer.showLegend !== false && mapLayer.layerObject) {\r\n      var showDefaultSymbol = false;\r\n      if (mapLayer.layerObject.version < 10.1 && (mapLayer.layerObject instanceof esri.layers.ArcGISDynamicMapServiceLayer || mapLayer.layerObject instanceof esri.layers.ArcGISTiledMapServiceLayer)) {\r\n        showDefaultSymbol = true;\r\n      }\r\n      layerInfo = {\r\n        \"layer\": mapLayer.layerObject,\r\n        \"title\": mapLayer.title,\r\n        \"defaultSymbol\": showDefaultSymbol\r\n      };\r\n        //does it have layers too? If so check to see if showLegend is false\r\n        if (mapLayer.layers) {\r\n            var hideLayers = dojo.map(dojo.filter(mapLayer.layers, function (lyr) {\r\n                return (lyr.showLegend === false);\r\n            }), function (lyr) {\r\n                return lyr.id;\r\n            });\r\n            if (hideLayers.length) {\r\n                layerInfo.hideLayers = hideLayers;\r\n            }\r\n        }\r\n        layerInfos.push(layerInfo);\r\n    }\r\n  });\r\n  return layerInfos;\r\n  }"],[0,"\r\n\r\n"]],"start1":7391,"start2":7391,"length1":2042,"length2":8}]],"length":17181,"saved":false}
{"ts":1352316878307,"patch":[[{"diffs":[[0,"   }\r\n     }"],[1,",\r\n     \r\n     "],[0,"\r\n      \r\n  "]],"start1":7342,"start2":7342,"length1":24,"length2":39}]],"length":17196,"saved":false}
{"ts":1352316880318,"patch":[[{"diffs":[[0,"     \r\n     "],[1,"//build a list of layers to dispaly in the legend\r\n  function buildLayersList(layers){\r\n\r\n //layers  arg is  response.itemInfo.itemData.operationalLayers;\r\n  var layerInfos = [];\r\n  dojo.forEach(layers, function (mapLayer, index) {\r\n      var layerInfo = {};\r\n      if (mapLayer.featureCollection && mapLayer.type !== \"CSV\") {\r\n        if (mapLayer.featureCollection.showLegend === true) {\r\n            dojo.forEach(mapLayer.featureCollection.layers, function (fcMapLayer) {\r\n              if (fcMapLayer.showLegend !== false) {\r\n                  layerInfo = {\r\n                      \"layer\": fcMapLayer.layerObject,\r\n                      \"title\": mapLayer.title,\r\n                      \"defaultSymbol\": false\r\n                  };\r\n                  if (mapLayer.featureCollection.layers.length > 1) {\r\n                      layerInfo.title += \" - \" + fcMapLayer.layerDefinition.name;\r\n                  }\r\n                  layerInfos.push(layerInfo);\r\n              }\r\n            });\r\n          }\r\n      } else if (mapLayer.showLegend !== false && mapLayer.layerObject) {\r\n      var showDefaultSymbol = false;\r\n      if (mapLayer.layerObject.version < 10.1 && (mapLayer.layerObject instanceof esri.layers.ArcGISDynamicMapServiceLayer || mapLayer.layerObject instanceof esri.layers.ArcGISTiledMapServiceLayer)) {\r\n        showDefaultSymbol = true;\r\n      }\r\n      layerInfo = {\r\n        \"layer\": mapLayer.layerObject,\r\n        \"title\": mapLayer.title,\r\n        \"defaultSymbol\": showDefaultSymbol\r\n      };\r\n        //does it have layers too? If so check to see if showLegend is false\r\n        if (mapLayer.layers) {\r\n            var hideLayers = dojo.map(dojo.filter(mapLayer.layers, function (lyr) {\r\n                return (lyr.showLegend === false);\r\n            }), function (lyr) {\r\n                return lyr.id;\r\n            });\r\n            if (hideLayers.length) {\r\n                layerInfo.hideLayers = hideLayers;\r\n            }\r\n        }\r\n        layerInfos.push(layerInfo);\r\n    }\r\n  });\r\n  return layerInfos;\r\n  }"],[0,"\r\n      \r\n  "]],"start1":7357,"start2":7357,"length1":24,"length2":2058}]],"length":19230,"saved":false}
{"ts":1352316884958,"patch":[[{"diffs":[[0,"unction "],[-1,"buildLayersList"],[0,"(layers)"]],"start1":7423,"start2":7423,"length1":31,"length2":16}]],"length":19215,"saved":false}
{"ts":1352316887290,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"(layers)"]],"start1":7422,"start2":7422,"length1":17,"length2":16}]],"length":19214,"saved":false}
{"ts":1352316888943,"patch":[[{"diffs":[[0,"gend\r\n  "],[1,"buildLayersList:"],[0,"function"]],"start1":7414,"start2":7414,"length1":16,"length2":32}]],"length":19230,"saved":false}
{"ts":1352316904779,"patch":[[{"diffs":[[0,"    "],[-1,"function patchID() {  //patch id manager for use in apps.arcgis.com\r\n       esri.id._isIdProvider = function(server, resource) {\r\n       // server and resource are assumed one of portal domains\r\n\r\n       var i = -1, j = -1;\r\n\r\n       dojo.forEach(this._gwDomains, function(domain, idx) {\r\n         if (i === -1 && domain.regex.test(server)) {\r\n           i = idx;\r\n         }\r\n         if (j === -1 && domain.regex.test(resource)) {\r\n           j = idx;\r\n         }\r\n       });\r\n\r\n       var retVal = false;\r\n\r\n       if (i > -1 && j > -1) {\r\n         if (i === 0 || i === 4) {\r\n           if (j === 0 || j === 4) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 1) {\r\n           if (j === 1 || j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 2) {\r\n           if (j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 3) {\r\n           if (j === 3) {\r\n             retVal = true;\r\n           }\r\n         }\r\n       }\r\n\r\n       return retVal;\r\n     };\r\n    }"],[0,"\r\n\r\n"]],"start1":9449,"start2":9449,"length1":1076,"length2":8}]],"length":18162,"saved":false}
{"ts":1352316908726,"patch":[[{"diffs":[[0,"os;\r\n  }"],[1,","],[0,"\r\n      "]],"start1":9395,"start2":9395,"length1":16,"length2":17}]],"length":18163,"saved":false}
{"ts":1352316909842,"patch":[[{"diffs":[[0,"fos;\r\n  },\r\n"],[1,"  \r\n"],[0,"      \r\n  })"]],"start1":9394,"start2":9394,"length1":24,"length2":28}]],"length":18167,"saved":false}
{"ts":1352316910671,"patch":[[{"diffs":[[0,"\r\n  },\r\n  \r\n"],[1,"  \r\n"],[0,"      \r\n  })"]],"start1":9398,"start2":9398,"length1":24,"length2":28}]],"length":18171,"saved":false}
{"ts":1352316912158,"patch":[[{"diffs":[[0,"  },\r\n  \r\n  "],[1,"function patchID() {  //patch id manager for use in apps.arcgis.com\r\n       esri.id._isIdProvider = function(server, resource) {\r\n       // server and resource are assumed one of portal domains\r\n\r\n       var i = -1, j = -1;\r\n\r\n       dojo.forEach(this._gwDomains, function(domain, idx) {\r\n         if (i === -1 && domain.regex.test(server)) {\r\n           i = idx;\r\n         }\r\n         if (j === -1 && domain.regex.test(resource)) {\r\n           j = idx;\r\n         }\r\n       });\r\n\r\n       var retVal = false;\r\n\r\n       if (i > -1 && j > -1) {\r\n         if (i === 0 || i === 4) {\r\n           if (j === 0 || j === 4) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 1) {\r\n           if (j === 1 || j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 2) {\r\n           if (j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 3) {\r\n           if (j === 3) {\r\n             retVal = true;\r\n           }\r\n         }\r\n       }\r\n\r\n       return retVal;\r\n     };\r\n    }"],[0,"\r\n      \r\n  "]],"start1":9400,"start2":9400,"length1":24,"length2":1092}]],"length":19239,"saved":false}
{"ts":1352316915105,"patch":[[{"diffs":[[0,"unction "],[-1,"patchID"],[0,"() {  //"]],"start1":9413,"start2":9413,"length1":23,"length2":16}]],"length":19232,"saved":false}
{"ts":1352316916365,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"() {  //"]],"start1":9412,"start2":9412,"length1":17,"length2":16}]],"length":19231,"saved":false}
{"ts":1352316917750,"patch":[[{"diffs":[[0,"\r\n  \r\n  "],[1,"patchID"],[0,"function"]],"start1":9404,"start2":9404,"length1":16,"length2":23}]],"length":19238,"saved":false}
{"ts":1352316918791,"patch":[[{"diffs":[[0," patchID"],[1,":"],[0,"function"]],"start1":9411,"start2":9411,"length1":16,"length2":17}]],"length":19239,"saved":false}
{"ts":1352316925408,"patch":[[{"diffs":[[0,"   };\r\n    }"],[1,",\r\n    \r\n    "],[0,"\r\n      \r\n  "]],"start1":10468,"start2":10468,"length1":24,"length2":37}]],"length":19252,"saved":false}
{"ts":1352316928952,"patch":[[{"diffs":[[0,"\n\r\n\t"],[-1,"function hideLoader(){\r\n\t  if (mapLoaded == false){\r\n\t\tmapLoaded = true;\r\n\t\t$(\"#loadingCon\").hide();\r\n\t\t$(\"#swipeImg\").css('left',((map.width/2)-80));\r\n\t\t$(\"#swipeImg\").css('top',((map.height/2)-50));\r\n\t\t$(\"#swipeImg\").show();\r\n\t  }\r\n\t}"],[0,"\r\n\r\n"]],"start1":10544,"start2":10544,"length1":244,"length2":8}]],"length":19016,"saved":false}
{"ts":1352316932331,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"function hideLoader(){\r\n      if (mapLoaded == false){\r\n\t\tmapLoaded = true;\r\n\t\t$(\"#loadingCon\").hide();\r\n\t\t$(\"#swipeImg\").css('left',((map.width/2)-80));\r\n\t\t$(\"#swipeImg\").css('top',((map.height/2)-50));\r\n\t\t$(\"#swipeImg\").show();\r\n\t  }\r\n\t}"],[0,"\r\n      \r\n  "]],"start1":10481,"start2":10481,"length1":24,"length2":263}]],"length":19255,"saved":false}
{"ts":1352316934381,"patch":[[{"diffs":[[0,"tion"],[-1," hideLoader"],[0,"(){\r"]],"start1":10497,"start2":10497,"length1":19,"length2":8}]],"length":19244,"saved":false}
{"ts":1352316935936,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"hideLoader"],[0,"function(){\r"]],"start1":10481,"start2":10481,"length1":24,"length2":34}]],"length":19254,"saved":false}
{"ts":1352316936833,"patch":[[{"diffs":[[0,"deLoader"],[1,":"],[0,"function"]],"start1":10495,"start2":10495,"length1":16,"length2":17}]],"length":19255,"saved":false}
{"ts":1352316980288,"patch":[[{"diffs":[[0,"\n\r\n\t"],[-1,"//Swipe Control\r\n\tfunction populateLayerList(){\r\n\t  var select = dojo.byId(\"layerlistdd\");\r\n\t  if (map.graphics.graphics.length > 0) {\r\n\t\tselect.options[select.options.length] = new Option(\"Graphics Layer\", map.graphics.id,\"selected\");\r\n\t  }\r\n\t  //reverse to get the correct order of layers added to map\r\n\t  var layerids = dojo.clone(map.layerIds).reverse();\r\n\t  dojo.forEach(layerids, function(id, index){\r\n\t\tselect.options[select.options.length] = new Option(id, id);\r\n\t  });\r\n\t  select.disabled= false;\r\n\t  startswipe();\r\n\t}"],[0,"\r\n\r\n"]],"start1":11111,"start2":11111,"length1":535,"length2":8}]],"length":18728,"saved":false}
{"ts":1352316984050,"patch":[[{"diffs":[[0,"\t  }\r\n\t}"],[1,","],[0,"\r\n      "]],"start1":10724,"start2":10724,"length1":16,"length2":17}]],"length":18729,"saved":false}
{"ts":1352316985129,"patch":[[{"diffs":[[0,"\n\t  }\r\n\t},\r\n"],[1,"    \r\n    //Swipe Control\r\n    function populateLayerList(){\r\n\t  var select = dojo.byId(\"layerlistdd\");\r\n\t  if (map.graphics.graphics.length > 0) {\r\n\t\tselect.options[select.options.length] = new Option(\"Graphics Layer\", map.graphics.id,\"selected\");\r\n\t  }\r\n\t  //reverse to get the correct order of layers added to map\r\n\t  var layerids = dojo.clone(map.layerIds).reverse();\r\n\t  dojo.forEach(layerids, function(id, index){\r\n\t\tselect.options[select.options.length] = new Option(id, id);\r\n\t  });\r\n\t  select.disabled= false;\r\n\t  startswipe();\r\n\t}\r\n"],[0,"      \r\n  })"]],"start1":10723,"start2":10723,"length1":24,"length2":566}]],"length":19271,"saved":false}
{"ts":1352316988579,"patch":[[{"diffs":[[0,"unction "],[-1,"populateLayerList"],[0,"(){\r\n\t  "]],"start1":10767,"start2":10767,"length1":33,"length2":16}]],"length":19254,"saved":false}
{"ts":1352316989492,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"(){\r\n\t  "]],"start1":10766,"start2":10766,"length1":17,"length2":16}]],"length":19253,"saved":false}
{"ts":1352316991114,"patch":[[{"diffs":[[0,"ontrol\r\n    "],[1,"populateLayerList"],[0,"function(){\r"]],"start1":10754,"start2":10754,"length1":24,"length2":41}]],"length":19270,"saved":false}
{"ts":1352316992630,"patch":[[{"diffs":[[0,"ayerList"],[1,": "],[0,"function"]],"start1":10775,"start2":10775,"length1":16,"length2":18}]],"length":19272,"saved":false}
{"ts":1352317023930,"patch":[[{"diffs":[[0,"se;\r\n\t  "],[1,"utilities.layout."],[0,"startswi"]],"start1":11251,"start2":11251,"length1":16,"length2":33}]],"length":19289,"saved":false}
{"ts":1352317060333,"patch":[[{"diffs":[[0,"\n\r\n\t"],[-1,"function initswipe() {\r\n      chooseLayer = configOptions.chooseSwipeLevel;\r\n\t  swipelayerid = dojo.byId(\"layerlistdd\")[chooseLayer].value;\r\n      clipval = map.width;\r\n      swipediv = null;\r\n      if (swipelayerid == map.graphics.id) {\r\n        //console.log(\"Graphics layer\");\r\n        //map.graphics._div.parent.rawNode.id\r\n        swipediv = dojo.byId(map.container.id + \"_gc\");\r\n      }\r\n      else {\r\n        var layer = map.getLayer(swipelayerid);\r\n        //console.log(layer);\r\n        if (layer == null || layer == undefined) {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n        swipediv = layer._div;\r\n\t  }\r\n      if (swipediv === undefined) {\r\n        alert(i18n.viewer.errors.undfnd);\r\n        return;\r\n      }\r\n\t  if (swipediv.style === undefined) {\r\n\t\talert(i18n.viewer.errors.noStyle);\r\n\t\treturn;\r\n\t  }\r\n      //console.log(\"Swipe ready to use on layer: \" + swipelayerid);\r\n    }"],[0,"\r\n\r\n"]],"start1":11677,"start2":11677,"length1":941,"length2":8}]],"length":18356,"saved":false}
{"ts":1352317064017,"patch":[[{"diffs":[[0,"e();\r\n\t}"],[1,",\r\n    \r\n    "],[0,"\r\n      "]],"start1":11285,"start2":11285,"length1":16,"length2":29}]],"length":18369,"saved":false}
{"ts":1352317065038,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"function initswipe() {\r\n      chooseLayer = configOptions.chooseSwipeLevel;\r\n      swipelayerid = dojo.byId(\"layerlistdd\")[chooseLayer].value;\r\n      clipval = map.width;\r\n      swipediv = null;\r\n      if (swipelayerid == map.graphics.id) {\r\n        //console.log(\"Graphics layer\");\r\n        //map.graphics._div.parent.rawNode.id\r\n        swipediv = dojo.byId(map.container.id + \"_gc\");\r\n      }\r\n      else {\r\n        var layer = map.getLayer(swipelayerid);\r\n        //console.log(layer);\r\n        if (layer == null || layer == undefined) {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n        swipediv = layer._div;\r\n\t  }\r\n      if (swipediv === undefined) {\r\n        alert(i18n.viewer.errors.undfnd);\r\n        return;\r\n      }\r\n\t  if (swipediv.style === undefined) {\r\n\t\talert(i18n.viewer.errors.noStyle);\r\n\t\treturn;\r\n\t  }\r\n      //console.log(\"Swipe ready to use on layer: \" + swipelayerid);\r\n    }"],[0,"\r\n      \r\n  "]],"start1":11294,"start2":11294,"length1":24,"length2":960}]],"length":19305,"saved":false}
{"ts":1352317093722,"patch":[[{"diffs":[[0,"    "],[-1,"function startswipe(){\r\n      //map.hideZoomSlider();\r\n      //console.log(\"Swipe tool initializing ...\");\r\n\r\n      initswipe();\r\n\r\n      if (swipeslider != undefined || swipeslider != null) {\r\n        //console.log(\"swipe slider is visible? should not happen\");\r\n        //console.log(swipeslider);\r\n\t  }\r\n\r\n\t  //swipelayerid = dojo.byId(\"layerlistdd\").value;\r\n\t  //dojo.byId(\"layerlistdd\").disabled = true;\r\n\r\n\t  if (swipelayerid === undefined || swipelayerid == \"\") {\r\n        alert(i18n.viewer.errors.notDefined);\r\n        return;\r\n      }\r\n      swipeslider = new dnd.move.parentConstrainedMoveable(\"sliderdiv\", {\r\n        area: \"content\",\r\n        within: true\r\n      });\r\n\r\n      swipeslider.node.style.height = map.height + \"px\";\r\n      swipeslider.node.style.top = \"0px\";\r\n      swipeslider.node.style.left = ((map.width/2)-4) + \"px\";\r\n\t  if (iPad == true){\r\n\t\tswipeslider.node.style.left = ((map.width/2)-7) + \"px\";\r\n\t  }\r\n      clipval = ((map.width/2)-4);\r\n\r\n      //Just a check, should not call this function here\r\n        if (swipediv != null)\r\n        clearClip();\r\n\r\n        //console.log(\"Swipe layer: \" + swipelayerid);\r\n\r\n        if (swipelayerid == null || swipelayerid == \"\") {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n\r\n        cliplayer(swipelayerid);\r\n      }"],[0,"\r\n\r\n"]],"start1":12634,"start2":12634,"length1":1331,"length2":8}]],"length":17982,"saved":false}
{"ts":1352317098692,"patch":[[{"diffs":[[0,"elayerid);\r\n"],[1,"    },\r\n    \r\n    function startswipe(){\r\n      //map.hideZoomSlider();\r\n      //console.log(\"Swipe tool initializing ...\");\r\n\r\n      initswipe();\r\n\r\n      if (swipeslider != undefined || swipeslider != null) {\r\n        //console.log(\"swipe slider is visible? should not happen\");\r\n        //console.log(swipeslider);\r\n      }\r\n\r\n\t  //swipelayerid = dojo.byId(\"layerlistdd\").value;\r\n\t  //dojo.byId(\"layerlistdd\").disabled = true;\r\n\r\n\t  if (swipelayerid === undefined || swipelayerid == \"\") {\r\n        alert(i18n.viewer.errors.notDefined);\r\n        return;\r\n      }\r\n      swipeslider = new dnd.move.parentConstrainedMoveable(\"sliderdiv\", {\r\n        area: \"content\",\r\n        within: true\r\n      });\r\n\r\n      swipeslider.node.style.height = map.height + \"px\";\r\n      swipeslider.node.style.top = \"0px\";\r\n      swipeslider.node.style.left = ((map.width/2)-4) + \"px\";\r\n\t  if (iPad == true){\r\n\t\tswipeslider.node.style.left = ((map.width/2)-7) + \"px\";\r\n\t  }\r\n      clipval = ((map.width/2)-4);\r\n\r\n      //Just a check, should not call this function here\r\n        if (swipediv != null)\r\n        clearClip();\r\n\r\n        //console.log(\"Swipe layer: \" + swipelayerid);\r\n\r\n        if (swipelayerid == null || swipelayerid == \"\") {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n\r\n        cliplayer(swipelayerid);\r\n  "],[0,"    }\r\n     "]],"start1":12225,"start2":12225,"length1":24,"length2":1363}]],"length":19321,"saved":false}
{"ts":1352317101898,"patch":[[{"diffs":[[0,"tion"],[-1," startswipe"],[0,"(){\r"]],"start1":12259,"start2":12259,"length1":19,"length2":8}]],"length":19310,"saved":false}
{"ts":1352317104239,"patch":[[{"diffs":[[0,"  },\r\n    \r\n    "],[1,"startswipe,"],[0,"function(){\r\n   "]],"start1":12239,"start2":12239,"length1":32,"length2":43}]],"length":19321,"saved":false}
{"ts":1352317105464,"patch":[[{"diffs":[[0,"artswipe"],[-1,","],[1,":"],[0,"function"]],"start1":12257,"start2":12257,"length1":17,"length2":17}]],"length":19321,"saved":false}
{"ts":1352317117308,"patch":[[{"diffs":[[0,");\r\n\r\n      "],[1,"utilities.layout."],[0,"initswipe();"]],"start1":12359,"start2":12359,"length1":24,"length2":41}]],"length":19338,"saved":false}
{"ts":1352317124536,"patch":[[{"diffs":[[0,"l)\r\n        "],[1,"utilities.layout."],[0,"clearClip();"]],"start1":13331,"start2":13331,"length1":24,"length2":41}]],"length":19355,"saved":false}
{"ts":1352317126614,"patch":[[{"diffs":[[0,"\r\n\r\n        "],[1,"utilities.layout."],[0,"cliplayer(sw"]],"start1":13570,"start2":13570,"length1":24,"length2":41}]],"length":19372,"saved":false}
{"ts":1352317138211,"patch":[[{"diffs":[[0,"    "],[-1,"function cliplayer(layerid){\r\n        //Initial swipe slider location\r\n        swipe(dojo.byId(\"sliderdiv\").style.left);\r\n\r\n        //Make the slider visible\r\n        dojo.byId(\"sliderdiv\").style.display = \"\";\r\n\r\n        dojo.connect(swipeslider, \"onMoveStart\", function(args){\r\n        //console.log(\"move start\");\r\n        //this.node.style.opacity = \"0.5\";\r\n        //dojo._setOpacity(this.node, 0.5);\r\n\t\t$(\"#sliderdiv\").fadeTo(\"fast\",\"0.5\");\r\n\t\t$(\"#swipeImg\").fadeOut();\r\n\r\n      });\r\n      swipeconnect = dojo.connect(swipeslider, 'onMove', function(args){\r\n        this.node.style.top = \"0px\"; //needed to avoid offset\r\n        var left = parseInt(this.node.style.left);\r\n        //console.log(left + \", \" + (map.width));\r\n        if (left <=0 || left >= (map.width)) return;\r\n          clipval = this.node.style.left;\r\n          swipe(clipval);\r\n        });\r\n        dojo.connect(swipeslider, \"onMoveStop\", function(args){\r\n          //console.log(\"move stop event\");\r\n          //this.node.style.opacity = \"1.0\";\r\n          //dojo._setOpacity(this.node, 1.0);\r\n\t\t  $(\"#sliderdiv\").fadeTo(\"fast\",\"1.5\");\r\n        });\r\n        panEndConnect = dojo.connect(map, 'onPanEnd', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          panConnect = dojo.connect(map, 'onPan', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n      }\r\n    }"],[0,"\r\n\r\n"]],"start1":14034,"start2":14034,"length1":1565,"length2":8}]],"length":17815,"saved":false}
{"ts":1352317143221,"patch":[[{"diffs":[[0,"ayerid);\r\n  "],[1,"    },\r\n      \r\n      function cliplayer(layerid){\r\n        //Initial swipe slider location\r\n        swipe(dojo.byId(\"sliderdiv\").style.left);\r\n\r\n        //Make the slider visible\r\n        dojo.byId(\"sliderdiv\").style.display = \"\";\r\n\r\n        dojo.connect(swipeslider, \"onMoveStart\", function(args){\r\n        //console.log(\"move start\");\r\n        //this.node.style.opacity = \"0.5\";\r\n        //dojo._setOpacity(this.node, 0.5);\r\n    \t$(\"#sliderdiv\").fadeTo(\"fast\",\"0.5\");\r\n\t\t$(\"#swipeImg\").fadeOut();\r\n\r\n      });\r\n      swipeconnect = dojo.connect(swipeslider, 'onMove', function(args){\r\n        this.node.style.top = \"0px\"; //needed to avoid offset\r\n        var left = parseInt(this.node.style.left);\r\n        //console.log(left + \", \" + (map.width));\r\n        if (left <=0 || left >= (map.width)) return;\r\n          clipval = this.node.style.left;\r\n          swipe(clipval);\r\n        });\r\n        dojo.connect(swipeslider, \"onMoveStop\", function(args){\r\n          //console.log(\"move stop event\");\r\n          //this.node.style.opacity = \"1.0\";\r\n          //dojo._setOpacity(this.node, 1.0);\r\n\t\t  $(\"#sliderdiv\").fadeTo(\"fast\",\"1.5\");\r\n        });\r\n        panEndConnect = dojo.connect(map, 'onPanEnd', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          panConnect = dojo.connect(map, 'onPan', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n      }\r\n"],[0,"    }\r\n     "]],"start1":13615,"start2":13615,"length1":24,"length2":1601}]],"length":19392,"saved":false}
{"ts":1352317144145,"patch":[[{"diffs":[[0,"ate\");\r\n"],[-1,"  "],[0,""],[1,""],[0,"\r\n  util"]],"start1":219,"start2":219,"length1":18,"length2":16},{"diffs":[[0,"yout,{\r\n"],[-1,"      "],[0,""],[1,""],[0,"\r\n      "]],"start1":280,"start2":280,"length1":22,"length2":16},{"diffs":[[0,"false,\r\n"],[-1,"      "],[0,""],[1,""],[0,"\r\n      "]],"start1":605,"start2":605,"length1":22,"length2":16},{"diffs":[[0,"\t\t }\r\n\t },\r\n"],[-1,"     "],[0,""],[1,""],[0,"\r\n     creat"]],"start1":4291,"start2":4291,"length1":29,"length2":24},{"diffs":[[0,"\n\r\n     },\r\n"],[-1,"     "],[0,""],[1,""],[0,"\r\n     initU"]],"start1":6661,"start2":6661,"length1":29,"length2":24},{"diffs":[[0,"    },\r\n"],[-1,"     "],[0,""],[1,""],[0,"\r\n     /"]],"start1":7325,"start2":7325,"length1":21,"length2":16},{"diffs":[[0,"\r\n  },\r\n"],[-1,"  "],[0,""],[1,""],[0,"\r\n  patc"]],"start1":9369,"start2":9369,"length1":18,"length2":16},{"diffs":[[0,"};\r\n    },\r\n"],[-1,"    "],[0,""],[1,""],[0,"\r\n    hideLo"]],"start1":10440,"start2":10440,"length1":28,"length2":24},{"diffs":[[0,"\n\t  }\r\n\t},\r\n"],[-1,"    "],[0,""],[1,""],[0,"\r\n    //Swip"]],"start1":10688,"start2":10688,"length1":28,"length2":24},{"diffs":[[0,"pe();\r\n\t},\r\n"],[-1,"    "],[0,""],[1,""],[0,"\r\n    functi"]],"start1":11245,"start2":11245,"length1":28,"length2":24},{"diffs":[[0,"    },\r\n"],[-1,"    "],[0,""],[1,""],[0,"\r\n    st"]],"start1":12194,"start2":12194,"length1":20,"length2":16},{"diffs":[[0,"    },\r\n"],[-1,"      "],[0,""],[1,""],[0,"\r\n      "]],"start1":13580,"start2":13580,"length1":22,"length2":16},{"diffs":[[0,"\n    }\r\n"],[-1,"      "],[0,""],[1,""],[0,"\r\n  });\r"]],"start1":15150,"start2":15150,"length1":22,"length2":16},{"diffs":[[0,"\r\n\r\n"],[-1,"     "],[0,"\r\n\r\n\r\n\r\n"],[-1,"     "],[0,"\r\n\r\n\r\n\r\n"],[-1,"     "],[0,"\r\n\r\n"],[-1,"\t"],[0,"\r\n\r\n"]],"start1":15165,"start2":15165,"length1":44,"length2":28},{"diffs":[[0,"\r\n\r\n"],[-1,"\t"],[0,"\r\n\r\n"],[-1,"\t"],[0,"\r\n\r\n"],[-1,"    \r\n\r\n      "],[1,"\r\n\r\n"],[0,"\r\n\r\n"]],"start1":15512,"start2":15512,"length1":32,"length2":20}]],"length":19305,"saved":false}
{"ts":1352317173697,"patch":[[{"diffs":[[0,"eft;\r\n          "],[1,"utilities.layout."],[0,"swipe(clipval);\r"]],"start1":14419,"start2":14419,"length1":32,"length2":49}]],"length":19322,"saved":false}
{"ts":1352317178206,"patch":[[{"diffs":[[0,"n\");\r\n          "],[1,"utilities.layout."],[0,"swipe(clipval);\r"]],"start1":14877,"start2":14877,"length1":32,"length2":49}]],"length":19339,"saved":false}
{"ts":1352317181242,"patch":[[{"diffs":[[0,"\r\n          "],[1,"utilities.layout."],[0,"swipe(clipva"]],"start1":15134,"start2":15134,"length1":24,"length2":41}]],"length":19356,"saved":false}
{"ts":1352317186584,"patch":[[{"diffs":[[0,"    "],[-1,"function clearClip(){\r\n      //console.log(\"Clearing clip\");\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n      }\r\n    }"],[0,"\r\n\r\n"]],"start1":15583,"start2":15583,"length1":192,"length2":8}]],"length":19172,"saved":false}
{"ts":1352317189713,"patch":[[{"diffs":[[0,"    }\r\n    }"],[1,",\r\n    "],[0,"\r\n\r\n  });\r\n\r"]],"start1":15195,"start2":15195,"length1":24,"length2":31}]],"length":19179,"saved":false}
{"ts":1352317190687,"patch":[[{"diffs":[[0,"   },\r\n    \r"],[1,"\n    function clearClip(){\r\n      //console.log(\"Clearing clip\");\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n      }\r\n    }\r"],[0,"\n\r\n  });\r\n\r\n"]],"start1":15203,"start2":15203,"length1":24,"length2":214}]],"length":19369,"saved":false}
{"ts":1352317193503,"patch":[[{"diffs":[[0,"tion"],[-1," clearClip"],[0,"(){\r"]],"start1":15224,"start2":15224,"length1":18,"length2":8}]],"length":19359,"saved":false}
{"ts":1352317194792,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"clearClip"],[0,"function(){\r"]],"start1":15208,"start2":15208,"length1":24,"length2":33}]],"length":19368,"saved":false}
{"ts":1352317196106,"patch":[[{"diffs":[[0,"learClip"],[1,":"],[0,"function"]],"start1":15221,"start2":15221,"length1":16,"length2":17}]],"length":19369,"saved":false}
{"ts":1352317208663,"patch":[[{"diffs":[[0,"    "],[-1,"function swipe(val){\r\n      if (swipediv != null) {\r\n        offset_left = parseFloat(swipediv.style.left);\r\n        offset_top = parseFloat(swipediv.style.top);\r\n\r\n        //console.log(\"Val: \" + val);\r\n\r\n        var rightval, leftval, topval, bottomval;\r\n\r\n        if (offset_left > 0) {\r\n          rightval = parseFloat(val) - Math.abs(offset_left);\r\n          leftval = -(offset_left);\r\n        }\r\n        else\r\n        if (offset_left < 0) {\r\n          leftval = 0;\r\n          rightval = parseFloat(val) + Math.abs(offset_left);\r\n        }\r\n        else {\r\n          leftval = 0;\r\n          rightval = parseFloat(val);\r\n        }\r\n        if (offset_top > 0) {\r\n          topval = -(offset_top);\r\n          bottomval = map.height - offset_top;\r\n\t\t}\r\n        else\r\n        if (offset_top < 0) {\r\n          topval = 0;\r\n          bottomval = map.height + Math.abs(offset_top);\r\n        }\r\n        else {\r\n          topval = 0;\r\n          bottomval = map.height;\r\n        }\r\n\r\n        // If CSS Transformation is applied to the layer (i.e. swipediv),\r\n        // record the amount of translation and adjust clip rect\r\n        // accordingly\r\n        var tx = 0, ty = 0;\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          var prefix = \"\";\r\n          if (dojo.isWebKit) {\r\n            prefix = \"-webkit-\";\r\n          }\r\n          if (dojo.isFF) {\r\n            prefix = \"-moz-\";\r\n          }\r\n          if (dojo.isIE) {\r\n            prefix = \"-ms-\";\r\n          }\r\n          if (dojo.isOpera) {\r\n            prefix = \"-o-\";\r\n          }\r\n\r\n          var transformValue = swipediv.style.getPropertyValue(prefix + \"transform\");\r\n\r\n          if(transformValue) {\r\n\t\t\tif(transformValue.toLowerCase().indexOf(\"translate3d\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate3d(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\t\t\telse if(transformValue.toLowerCase().indexOf(\"translate\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(transformValue);\r\n\r\n\t\t\ttry {\r\n\t\t\t  tx = parseFloat(transformValue[0]);\r\n\t\t\t  ty = parseFloat(transformValue[1]);\r\n\t\t\t} catch(e) {\r\n\t\t\t  alert(\"Error cannot continue\");\r\n\t\t\t  console.error(e);\r\n\t\t\t}\r\n\r\n            //console.log(\"transform = \", tx, ty);\r\n            leftval -= tx;\r\n            rightval -= tx;\r\n            topval -= ty;\r\n            bottomval -= ty;\r\n          }\r\n        }\r\n\r\n        //Syntax for clip \"rect(top,right,bottom,left)\"\r\n        //var clipstring = \"rect(0px \" + val + \"px \" + map.height + \"px \" + \" 0px)\";\r\n        var clipstring = \"rect(\" + topval + \"px \" + rightval + \"px \" + bottomval + \"px \" + leftval + \"px)\";\r\n        //console.log(\"New Clip string(T,R,B,L): \" + clipstring);\r\n        swipediv.style.clip = clipstring;\r\n      }\r\n\t}"],[0,"\r\n\r\n"]],"start1":15788,"start2":15788,"length1":2887,"length2":8}]],"length":16490,"saved":false}
{"ts":1352317213543,"patch":[[{"diffs":[[0,"    }\r\n    }"],[1,","],[0,"\r\n\r\n  });\r\n\r"]],"start1":15392,"start2":15392,"length1":24,"length2":25}]],"length":16491,"saved":false}
{"ts":1352317214772,"patch":[[{"diffs":[[0,"  }\r\n    },\r"],[1,"\n    \r\n    \r"],[0,"\n\r\n  });\r\n\r\n"]],"start1":15394,"start2":15394,"length1":24,"length2":36}]],"length":16503,"saved":false}
{"ts":1352317216043,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"function swipe(val){\r\n      if (swipediv != null) {\r\n        offset_left = parseFloat(swipediv.style.left);\r\n        offset_top = parseFloat(swipediv.style.top);\r\n\r\n        //console.log(\"Val: \" + val);\r\n\r\n        var rightval, leftval, topval, bottomval;\r\n\r\n        if (offset_left > 0) {\r\n          rightval = parseFloat(val) - Math.abs(offset_left);\r\n          leftval = -(offset_left);\r\n        }\r\n        else\r\n        if (offset_left < 0) {\r\n          leftval = 0;\r\n          rightval = parseFloat(val) + Math.abs(offset_left);\r\n        }\r\n        else {\r\n          leftval = 0;\r\n          rightval = parseFloat(val);\r\n        }\r\n        if (offset_top > 0) {\r\n          topval = -(offset_top);\r\n          bottomval = map.height - offset_top;\r\n    \t}\r\n        else\r\n        if (offset_top < 0) {\r\n          topval = 0;\r\n          bottomval = map.height + Math.abs(offset_top);\r\n        }\r\n        else {\r\n          topval = 0;\r\n          bottomval = map.height;\r\n        }\r\n\r\n        // If CSS Transformation is applied to the layer (i.e. swipediv),\r\n        // record the amount of translation and adjust clip rect\r\n        // accordingly\r\n        var tx = 0, ty = 0;\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          var prefix = \"\";\r\n          if (dojo.isWebKit) {\r\n            prefix = \"-webkit-\";\r\n          }\r\n          if (dojo.isFF) {\r\n            prefix = \"-moz-\";\r\n          }\r\n          if (dojo.isIE) {\r\n            prefix = \"-ms-\";\r\n          }\r\n          if (dojo.isOpera) {\r\n            prefix = \"-o-\";\r\n          }\r\n\r\n          var transformValue = swipediv.style.getPropertyValue(prefix + \"transform\");\r\n\r\n          if(transformValue) {\r\n\t\t\tif(transformValue.toLowerCase().indexOf(\"translate3d\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate3d(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\t\t\telse if(transformValue.toLowerCase().indexOf(\"translate\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(transformValue);\r\n\r\n\t\t\ttry {\r\n\t\t\t  tx = parseFloat(transformValue[0]);\r\n\t\t\t  ty = parseFloat(transformValue[1]);\r\n\t\t\t} catch(e) {\r\n\t\t\t  alert(\"Error cannot continue\");\r\n\t\t\t  console.error(e);\r\n\t\t\t}\r\n\r\n            //console.log(\"transform = \", tx, ty);\r\n            leftval -= tx;\r\n            rightval -= tx;\r\n            topval -= ty;\r\n            bottomval -= ty;\r\n          }\r\n        }\r\n\r\n        //Syntax for clip \"rect(top,right,bottom,left)\"\r\n        //var clipstring = \"rect(0px \" + val + \"px \" + map.height + \"px \" + \" 0px)\";\r\n        var clipstring = \"rect(\" + topval + \"px \" + rightval + \"px \" + bottomval + \"px \" + leftval + \"px)\";\r\n        //console.log(\"New Clip string(T,R,B,L): \" + clipstring);\r\n        swipediv.style.clip = clipstring;\r\n      }\r\n\t}"],[0,"\r\n\r\n  });\r\n\r"]],"start1":15405,"start2":15405,"length1":24,"length2":2906}]],"length":19385,"saved":false}
{"ts":1352317221214,"patch":[[{"diffs":[[0,"function"],[-1," swipe"],[0,"(val){\r\n"]],"start1":15417,"start2":15417,"length1":22,"length2":16}]],"length":19379,"saved":false}
{"ts":1352317223678,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"swipe"],[0,"function(val"]],"start1":15405,"start2":15405,"length1":24,"length2":29}]],"length":19384,"saved":false}
{"ts":1352317224649,"patch":[[{"diffs":[[0,"   swipe"],[1,":"],[0,"function"]],"start1":15414,"start2":15414,"length1":16,"length2":17}]],"length":19385,"saved":false}
{"ts":1352317283401,"patch":[[{"diffs":[[0,"    "],[-1,"//This is called when \"Stop Swipe\" button is clicked\r\n    function stopswipe(){\r\n      map.showZoomSlider();\r\n      //console.log(\"Swipe tool disabled!\");\r\n      swipeslider = null;\r\n      //dojo.byId(\"layerlistdd\").disabled = false;\r\n      dojo.byId(\"sliderdiv\").style.display = \"none\";\r\n      if (swipeconnect)\r\n      dojo.disconnect(swipeconnect);\r\n      if (panEndConnect)\r\n      dojo.disconnect(panEndConnect);\r\n      if (panConnect)\r\n      dojo.disconnect(panConnect);\r\n      clearInterval(animtimer);\r\n      clearInterval(flashtimer);\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n        swipediv = null;\r\n      }\r\n\t}"],[0,"\r\n"]],"start1":18691,"start2":18691,"length1":694,"length2":6}]],"length":18697,"saved":false}
{"ts":1352317286154,"patch":[[{"diffs":[[0,"   }\r\n\t}"],[1,",\r\n    \r\n    //This is called when \"Stop Swipe\" button is clicked\r\n    function stopswipe(){\r\n      map.showZoomSlider();\r\n      //console.log(\"Swipe tool disabled!\");\r\n      swipeslider = null;\r\n      //dojo.byId(\"layerlistdd\").disabled = false;\r\n      dojo.byId(\"sliderdiv\").style.display = \"none\";\r\n      if (swipeconnect)\r\n      dojo.disconnect(swipeconnect);\r\n      if (panEndConnect)\r\n      dojo.disconnect(panEndConnect);\r\n      if (panConnect)\r\n      dojo.disconnect(panConnect);\r\n      clearInterval(animtimer);\r\n      clearInterval(flashtimer);\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n        swipediv = null;\r\n      }\r\n    }"],[0,"\r\n\r\n  })"]],"start1":18291,"start2":18291,"length1":16,"length2":720}]],"length":19401,"saved":false}
{"ts":1352317309277,"patch":[[{"diffs":[[0,"onnect);\r\n      "],[1,"utilities.layout."],[0,"clearInterval(an"]],"start1":18778,"start2":18778,"length1":32,"length2":49}]],"length":19418,"saved":false}
{"ts":1352317311237,"patch":[[{"diffs":[[0,"er);\r\n      "],[1,"utilities.layout."],[0,"clearInterva"]],"start1":18832,"start2":18832,"length1":24,"length2":41}]],"length":19435,"saved":false}
{"ts":1352317313437,"patch":[[{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"clearInt"]],"start1":18786,"start2":18786,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"clearInt"]],"start1":18819,"start2":18819,"length1":33,"length2":16}]],"length":19401,"saved":false}
{"ts":1352317325124,"patch":[[{"diffs":[[0," }\r\n    },\r\n"],[-1,"    "],[0,"\r\n    clearC"]],"start1":15198,"start2":15198,"length1":28,"length2":24},{"diffs":[[0," }\r\n    },\r\n"],[-1,"    "],[0,"\r\n    swipe:"]],"start1":15391,"start2":15391,"length1":28,"length2":24},{"diffs":[[0,"}\r\n\t},\r\n"],[-1,"    "],[0,"\r\n    //"]],"start1":18286,"start2":18286,"length1":20,"length2":16},{"diffs":[[0,"\r\n\r\n"],[-1,"    \r\n\r\n    \r\n\r\n    "],[1,"\r\n\r\n\r\n\r\n"],[0,"\r\n"]],"start1":19363,"start2":19363,"length1":26,"length2":14}]],"length":19377,"saved":false}
{"ts":1352317330371,"patch":[[{"diffs":[[0,");\r\n"],[-1,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],[0,"\t//J"]],"start1":18998,"start2":18998,"length1":34,"length2":8}]],"length":19351,"saved":false}
{"ts":1352317331542,"patch":[[{"diffs":[[0,"\n  });\r\n"],[1,"  \r\n"],[0,"\t//Jquer"]],"start1":18994,"start2":18994,"length1":16,"length2":20}]],"length":19355,"saved":false}
{"ts":1352317336829,"patch":[[{"diffs":[[0," });"],[-1,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]],"start1":19321,"start2":19321,"length1":34,"length2":4}]],"length":19325,"saved":false}
{"ts":1352317338910,"patch":[[{"diffs":[[0,"\n  });\r\n"],[-1,"  "],[0,"\r\n\t//Jqu"]],"start1":18994,"start2":18994,"length1":18,"length2":16}]],"length":19323,"saved":false}
{"ts":1352317618906,"patch":[[{"diffs":[[0,"yout,{\r\n"],[1,"/"],[0,"\r\n      "]],"start1":280,"start2":280,"length1":16,"length2":17}]],"length":19324,"saved":false}
{"ts":1352317621875,"patch":[[{"diffs":[[0,"out,{\r\n/"],[1,"*"],[0,"\r\n      "]],"start1":281,"start2":281,"length1":16,"length2":17}]],"length":19325,"saved":false}
{"ts":1352317630899,"patch":[[{"diffs":[[0,"   }\r\n    }\r"],[1,"\n    *\r"],[0,"\n\r\n  });\r\n\r\n"]],"start1":18982,"start2":18982,"length1":24,"length2":31}]],"length":19332,"saved":false}
{"ts":1352317632673,"patch":[[{"diffs":[[0,"}\r\n    *"],[1,"/"],[0,"\r\n\r\n  })"]],"start1":18992,"start2":18992,"length1":16,"length2":17}]],"length":19333,"saved":false}
{"ts":1352317662947,"patch":[[{"diffs":[[0,",{\r\n"],[-1,"/*"],[0,"\r\n  "]],"start1":284,"start2":284,"length1":10,"length2":8}]],"length":19331,"saved":false}
{"ts":1352317672431,"patch":[[{"diffs":[[0,"\t\t }\r\n\t },\r\n"],[1,"/*"],[0,"\r\n     creat"]],"start1":4291,"start2":4291,"length1":24,"length2":26}]],"length":19333,"saved":false}
{"ts":1352317700225,"patch":[[{"diffs":[[0,"fos;\r\n  },\r\n"],[1,"/*"],[0,"\r\n  patchID:"]],"start1":9367,"start2":9367,"length1":24,"length2":26}]],"length":19335,"saved":false}
{"ts":1352317701423,"patch":[[{"diffs":[[0,"fos;\r\n  },\r\n"],[-1,"/*"],[0,"\r\n  patchID:"]],"start1":9367,"start2":9367,"length1":26,"length2":24}]],"length":19333,"saved":false}
{"ts":1352317702400,"patch":[[{"diffs":[[0,"fos;\r\n  },\r\n"],[1,"*/"],[0,"\r\n  patchID:"]],"start1":9367,"start2":9367,"length1":24,"length2":26}]],"length":19335,"saved":false}
{"ts":1352317706280,"patch":[[{"diffs":[[0,"};\r\n    },\r\n"],[1,"*/"],[0,"\r\n    hideLo"]],"start1":10444,"start2":10444,"length1":24,"length2":26}]],"length":19337,"saved":false}
{"ts":1352317709916,"patch":[[{"diffs":[[0,";\r\n    },\r\n*"],[-1,"/"],[0,"\r\n    hideLo"]],"start1":10445,"start2":10445,"length1":25,"length2":24}]],"length":19336,"saved":false}
{"ts":1352317710914,"patch":[[{"diffs":[[0,"   },\r\n*"],[1,"/"],[0,"\r\n    hi"]],"start1":10449,"start2":10449,"length1":16,"length2":17}]],"length":19337,"saved":false}
{"ts":1352317711877,"patch":[[{"diffs":[[0,"};\r\n    },\r\n"],[-1,"*/"],[0,"\r\n    hideLo"]],"start1":10444,"start2":10444,"length1":26,"length2":24}]],"length":19335,"saved":false}
{"ts":1352317713456,"patch":[[{"diffs":[[0,"};\r\n    },\r\n"],[1,"/*"],[0,"\r\n    hideLo"]],"start1":10444,"start2":10444,"length1":24,"length2":26}]],"length":19337,"saved":false}
{"ts":1352317736736,"patch":[[{"diffs":[[0,"\t\t }\r\n\t },\r\n"],[-1,"/*"],[0,"\r\n     creat"]],"start1":4291,"start2":4291,"length1":26,"length2":24}]],"length":19335,"saved":false}
{"ts":1352317744663,"patch":[[{"diffs":[[0,"\n\r\n     },\r\n"],[1,"/*"],[0,"\r\n     initU"]],"start1":6661,"start2":6661,"length1":24,"length2":26}]],"length":19337,"saved":false}
{"ts":1352317768753,"patch":[[{"diffs":[[0,"\n\r\n     },\r\n"],[-1,"/*"],[0,"\r\n     initU"]],"start1":6661,"start2":6661,"length1":26,"length2":24}]],"length":19335,"saved":false}
{"ts":1352317775105,"patch":[[{"diffs":[[0,"\r\n  },\r\n"],[-1,"*/"],[0,"\r\n  patc"]],"start1":9369,"start2":9369,"length1":18,"length2":16}]],"length":19333,"saved":false}
{"ts":1352317799278,"patch":[[{"diffs":[[0,"   },\r\n/"],[-1,"*"],[0,"\r\n    hi"]],"start1":10445,"start2":10445,"length1":17,"length2":16}]],"length":19332,"saved":false}
{"ts":1352317800502,"patch":[[{"diffs":[[0,"    },\r\n"],[-1,"/"],[0,"\r\n    hi"]],"start1":10444,"start2":10444,"length1":17,"length2":16}]],"length":19331,"saved":false}
{"ts":1352317806129,"patch":[[{"diffs":[[0,"pe();\r\n\t},\r\n"],[1,"*/"],[0,"\r\n    functi"]],"start1":11245,"start2":11245,"length1":24,"length2":26}]],"length":19333,"saved":false}
{"ts":1352317808366,"patch":[[{"diffs":[[0,";\r\n\t},\r\n"],[-1,"*"],[0,"/\r\n    f"]],"start1":11249,"start2":11249,"length1":17,"length2":16}]],"length":19332,"saved":false}
{"ts":1352317809376,"patch":[[{"diffs":[[0,"\r\n\t},\r\n/"],[1,"*"],[0,"\r\n    fu"]],"start1":11250,"start2":11250,"length1":16,"length2":17}]],"length":19333,"saved":false}
{"ts":1352318039344,"patch":[[{"diffs":[[0,"\r\n      if ("],[1,"utilities.layout"],[0,"mapLoaded =="]],"start1":10480,"start2":10480,"length1":24,"length2":40}]],"length":19349,"saved":false}
{"ts":1352318040902,"patch":[[{"diffs":[[0,"s.layout"],[1,"."],[0,"mapLoade"]],"start1":10500,"start2":10500,"length1":16,"length2":17}]],"length":19350,"saved":false}
{"ts":1352318047738,"patch":[[{"diffs":[[0,"se){\r\n\t\t"],[1,"utilities.layout."],[0,"mapLoade"]],"start1":10525,"start2":10525,"length1":16,"length2":33}]],"length":19367,"saved":false}
{"ts":1352318076782,"patch":[[{"diffs":[[0,");\r\n    },\r\n"],[1,"/"],[0,"\r\n    starts"]],"start1":12226,"start2":12226,"length1":24,"length2":25}]],"length":19368,"saved":false}
{"ts":1352318078633,"patch":[[{"diffs":[[0,"    },\r\n"],[1,"*"],[0,"/\r\n    s"]],"start1":12230,"start2":12230,"length1":16,"length2":17}]],"length":19369,"saved":false}
{"ts":1352318087016,"patch":[[{"diffs":[[0,"\r\n      },\r\n"],[1,"/*"],[0,"\r\n      func"]],"start1":13614,"start2":13614,"length1":24,"length2":26}]],"length":19371,"saved":false}
{"ts":1352318101476,"patch":[[{"diffs":[[0,"    },\r\n"],[-1,"*/"],[0,"\r\n    st"]],"start1":12230,"start2":12230,"length1":18,"length2":16}]],"length":19369,"saved":false}
{"ts":1352318104521,"patch":[[{"diffs":[[0,"pe();\r\n\t},\r\n"],[-1,"/*"],[0,"\r\n    functi"]],"start1":11279,"start2":11279,"length1":26,"length2":24}]],"length":19367,"saved":false}
{"ts":1352318148490,"patch":[[{"diffs":[[0,"wipe() {\r\n      "],[1,"utilities.layout."],[0,"chooseLayer = co"]],"start1":11311,"start2":11311,"length1":32,"length2":49}]],"length":19384,"saved":false}
{"ts":1352318158806,"patch":[[{"diffs":[[0,"istdd\")["],[1,"utilities.layout."],[0,"chooseLa"]],"start1":11429,"start2":11429,"length1":16,"length2":33}]],"length":19401,"saved":false}
{"ts":1352318183981,"patch":[[{"diffs":[[0,"    if ("],[-1,"swipeslider"],[1,"utilities.layout."],[0," != unde"]],"start1":12427,"start2":12427,"length1":27,"length2":33}]],"length":19407,"saved":false}
{"ts":1352318185050,"patch":[[{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[1,"swipeslider"],[0," != unde"]],"start1":12427,"start2":12427,"length1":33,"length2":27}]],"length":19401,"saved":false}
{"ts":1352318187049,"patch":[[{"diffs":[[0,"\r\n      if ("],[1,"utilities.layout."],[0,"swipeslider "]],"start1":12423,"start2":12423,"length1":24,"length2":41}]],"length":19418,"saved":false}
{"ts":1352318189590,"patch":[[{"diffs":[[0,"ndefined || "],[1,"utilities.layout."],[0,"swipeslider "]],"start1":12468,"start2":12468,"length1":24,"length2":41}]],"length":19435,"saved":false}
{"ts":1352318202549,"patch":[[{"diffs":[[0,"\n      }\r\n      "],[1,"utilities.layout."],[0,"swipeslider = ne"]],"start1":12865,"start2":12865,"length1":32,"length2":49}]],"length":19452,"saved":false}
{"ts":1352318210647,"patch":[[{"diffs":[[0,"   });\r\n\r\n      "],[1,"utilities.layout."],[0,"swipeslider.node"]],"start1":13018,"start2":13018,"length1":32,"length2":49}]],"length":19469,"saved":false}
{"ts":1352318213513,"patch":[[{"diffs":[[0," + \"px\";\r\n      "],[1,"utilities.layout."],[0,"swipeslider.node"]],"start1":13093,"start2":13093,"length1":32,"length2":49}]],"length":19486,"saved":false}
{"ts":1352318214897,"patch":[[{"diffs":[[0,"= \"0px\";\r\n      "],[1,"utilities.layout."],[0,"swipeslider.node"]],"start1":13153,"start2":13153,"length1":32,"length2":49}]],"length":19503,"saved":false}
{"ts":1352318219144,"patch":[[{"diffs":[[0,"ue){\r\n\t\t"],[1,"utilities.layout."],[0,"swipesli"]],"start1":13260,"start2":13260,"length1":16,"length2":33}]],"length":19520,"saved":false}
{"ts":1352318252360,"patch":[[{"diffs":[[0,"s.layout"],[1,"."],[0,",{\r\n\r\n  "]],"start1":276,"start2":276,"length1":16,"length2":17}]],"length":19521,"saved":false}
{"ts":1352318257557,"patch":[[{"diffs":[[0,"s.layout"],[-1,"."],[0,",{\r\n\r\n  "]],"start1":276,"start2":276,"length1":17,"length2":16}]],"length":19520,"saved":false}
{"ts":1352318269759,"patch":[[{"diffs":[[0,"p.width;\r\n      "],[1,"utilities.layout."],[0,"swipediv = null;"]],"start1":11493,"start2":11493,"length1":32,"length2":49}]],"length":19537,"saved":false}
{"ts":1352318273577,"patch":[[{"diffs":[[0,"ode.id\r\n        "],[1,"utilities.layout."],[0,"swipediv = dojo."]],"start1":11671,"start2":11671,"length1":32,"length2":49}]],"length":19554,"saved":false}
{"ts":1352318285438,"patch":[[{"diffs":[[0,"     }\r\n        "],[1,"utilities.layout."],[0,"swipediv = layer"]],"start1":11979,"start2":11979,"length1":32,"length2":49}]],"length":19571,"saved":false}
{"ts":1352318288574,"patch":[[{"diffs":[[0,"\t  }\r\n      if ("],[1,"utilities.layout."],[0,"swipediv === und"]],"start1":12036,"start2":12036,"length1":32,"length2":49}]],"length":19588,"saved":false}
{"ts":1352318290273,"patch":[[{"diffs":[[0,"  }\r\n\t  if ("],[1,"utilities.layout."],[0,"swipediv.sty"]],"start1":12160,"start2":12160,"length1":24,"length2":41}]],"length":19605,"saved":false}
{"ts":1352318302717,"patch":[[{"diffs":[[0,"re\r\n        if ("],[1,"utilities.layout."],[0,"swipediv != null"]],"start1":13525,"start2":13525,"length1":32,"length2":49}]],"length":19622,"saved":false}
{"ts":1352318326830,"patch":[[{"diffs":[[0,"},\r\n"],[-1,"/*"],[0,"\r\n  "]],"start1":13873,"start2":13873,"length1":10,"length2":8}]],"length":19620,"saved":false}
{"ts":1352318336516,"patch":[[{"diffs":[[0,"  }\r"],[-1,"\n    */\r"],[0,"\n\r\n "]],"start1":19277,"start2":19277,"length1":16,"length2":8}]],"length":19612,"saved":false}
{"ts":1352318352934,"patch":[[{"diffs":[[0,"p\");\r\n      if ("],[1,"utilities.layout."],[0,"swipediv != null"]],"start1":15561,"start2":15561,"length1":32,"length2":49}]],"length":19629,"saved":false}
{"ts":1352318354113,"patch":[[{"diffs":[[0,"ull) {\r\n        "],[1,"utilities.layout."],[0,"swipediv.style.c"]],"start1":15607,"start2":15607,"length1":32,"length2":49}]],"length":19646,"saved":false}
{"ts":1352318358229,"patch":[[{"diffs":[[0,"al){\r\n      if ("],[1,"utilities.layout."],[0,"swipediv != null"]],"start1":15748,"start2":15748,"length1":32,"length2":49}]],"length":19663,"saved":false}
{"ts":1352318363564,"patch":[[{"diffs":[[0,"ft = parseFloat("],[1,"utilities.layout."],[0,"swipediv.style.l"]],"start1":15819,"start2":15819,"length1":32,"length2":49}]],"length":19680,"saved":false}
{"ts":1352318365268,"patch":[[{"diffs":[[0,"seFloat("],[1,"utilities.layout."],[0,"swipediv"]],"start1":15899,"start2":15899,"length1":16,"length2":33}]],"length":19697,"saved":false}
{"ts":1352318377226,"patch":[[{"diffs":[[0,"Value = "],[1,"utilities.layout."],[0,"swipediv"]],"start1":17363,"start2":17363,"length1":16,"length2":33}]],"length":19714,"saved":false}
{"ts":1352318385467,"patch":[[{"diffs":[[0,"ring);\r\n        "],[1,"utilities.layout."],[0,"swipediv.style.c"]],"start1":18620,"start2":18620,"length1":32,"length2":49}]],"length":19731,"saved":false}
{"ts":1352318406278,"patch":[[{"diffs":[[0,"\r\n      if ("],[1,"utilities.layout."],[0,"swipediv != "]],"start1":19249,"start2":19249,"length1":24,"length2":41}]],"length":19748,"saved":false}
{"ts":1352318409308,"patch":[[{"diffs":[[0,"ull) {\r\n        "],[1,"utilities.layout."],[0,"swipediv.style.c"]],"start1":19291,"start2":19291,"length1":32,"length2":49}]],"length":19765,"saved":false}
{"ts":1352318412435,"patch":[[{"diffs":[[0,"\";\r\n        "],[1,"utilities.layout."],[0,"swipediv = n"]],"start1":19389,"start2":19389,"length1":24,"length2":41}]],"length":19782,"saved":false}
{"ts":1352318554387,"patch":[[{"diffs":[[0,"   dojo.connect("],[1,"utilities.layout"],[0,"swipeslider, \"on"]],"start1":14103,"start2":14103,"length1":32,"length2":48}]],"length":19798,"saved":false}
{"ts":1352318556674,"patch":[[{"diffs":[[0,"s.layout"],[1,"."],[0,"swipesli"]],"start1":14127,"start2":14127,"length1":16,"length2":17}]],"length":19799,"saved":false}
{"ts":1352318562399,"patch":[[{"diffs":[[0," = dojo.connect("],[1,"utilities.layout."],[0,"swipeslider, 'on"]],"start1":14412,"start2":14412,"length1":32,"length2":49}]],"length":19816,"saved":false}
{"ts":1352318572787,"patch":[[{"diffs":[[0,"ojo.connect("],[1,"utilities.layout."],[0,"swipeslider,"]],"start1":14814,"start2":14814,"length1":24,"length2":41}]],"length":19833,"saved":false}
{"ts":1352318585560,"patch":[[{"diffs":[[0,"bled!\");\r\n      "],[1,"utilities.layout."],[0,"swipeslider = nu"]],"start1":18905,"start2":18905,"length1":32,"length2":49}]],"length":19850,"saved":false}
{"ts":1352318644990,"patch":[[{"diffs":[[0," clipval"],[1,"clipval"],[0," = map.w"]],"start1":11480,"start2":11480,"length1":16,"length2":23}]],"length":19857,"saved":false}
{"ts":1352318646053,"patch":[[{"diffs":[[0," clipval"],[-1,"clipval"],[0," = map.w"]],"start1":11480,"start2":11480,"length1":23,"length2":16}]],"length":19850,"saved":false}
{"ts":1352318654889,"patch":[[{"diffs":[[0,"].value;\r\n      "],[1,"utilities.layout."],[0,"clipval = map.wi"]],"start1":11465,"start2":11465,"length1":32,"length2":49}]],"length":19867,"saved":false}
{"ts":1352318657218,"patch":[[{"diffs":[[0,"e;\r\n"],[-1,"      utilities.layout.clipval = map.width;\r\n"],[0,"    "]],"start1":11471,"start2":11471,"length1":53,"length2":8}]],"length":19822,"saved":false}
{"ts":1352318664770,"patch":[[{"diffs":[[0,"\t  }\r\n      "],[1,"utilities.layout."],[0,"clipval = (("]],"start1":13399,"start2":13399,"length1":24,"length2":41}]],"length":19839,"saved":false}
{"ts":1352318672886,"patch":[[{"diffs":[[0,"\r\n          "],[1,"utilities.layout."],[0,"clipval = th"]],"start1":14692,"start2":14692,"length1":24,"length2":41}]],"length":19856,"saved":false}
{"ts":1352318675555,"patch":[[{"diffs":[[0,"tilities.layout."],[1,"\r\n          "],[0,"clipval = this.n"]],"start1":14705,"start2":14705,"length1":32,"length2":44}]],"length":19868,"saved":false}
{"ts":1352318678043,"patch":[[{"diffs":[[0,".layout."],[-1,"\r\n          "],[0,"clipval "]],"start1":14713,"start2":14713,"length1":28,"length2":16}]],"length":19856,"saved":false}
{"ts":1352318679047,"patch":[[{"diffs":[[0,"tilities.layout."],[1,"\r\n          "],[0,"clipval = this.n"]],"start1":14705,"start2":14705,"length1":32,"length2":44}]],"length":19868,"saved":false}
{"ts":1352318680140,"patch":[[{"diffs":[[0,".layout."],[-1,"\r\n          "],[0,"clipval "]],"start1":14713,"start2":14713,"length1":28,"length2":16}]],"length":19856,"saved":false}
{"ts":1352318686953,"patch":[[{"diffs":[[0,"es.layout.swipe("],[1,"utilities.layout."],[0,"clipval);\r\n     "]],"start1":14771,"start2":14771,"length1":32,"length2":49}]],"length":19873,"saved":false}
{"ts":1352318694079,"patch":[[{"diffs":[[0,"es.layout.swipe("],[1,"utilities.layout."],[0,"clipval);\r\n     "]],"start1":15263,"start2":15263,"length1":32,"length2":49}]],"length":19890,"saved":false}
{"ts":1352318697544,"patch":[[{"diffs":[[0,"t.swipe("],[1,"utilities.layout."],[0,"clipval)"]],"start1":15541,"start2":15541,"length1":16,"length2":33}]],"length":19907,"saved":false}
{"ts":1352318741119,"patch":[[{"diffs":[[0," {\r\n        "],[1,"utilities.layout."],[0,"offset_left "]],"start1":15906,"start2":15906,"length1":24,"length2":41}]],"length":19924,"saved":false}
{"ts":1352318752702,"patch":[[{"diffs":[[0,"\r\n\r\n        if ("],[1,"utilities.layout."],[0,"offset_left > 0)"]],"start1":16163,"start2":16163,"length1":32,"length2":49}]],"length":19941,"saved":false}
{"ts":1352318754991,"patch":[[{"diffs":[[0,"val) - Math.abs("],[1,"utilities.layout."],[0,"offset_left);\r\n "]],"start1":16248,"start2":16248,"length1":32,"length2":49}]],"length":19958,"saved":false}
{"ts":1352318756904,"patch":[[{"diffs":[[0,"leftval = -("],[1,"utilities.layout."],[0,"offset_left)"]],"start1":16306,"start2":16306,"length1":24,"length2":41}]],"length":19975,"saved":false}
{"ts":1352318758399,"patch":[[{"diffs":[[0," + Math.abs("],[1,"utilities.layout."],[0,"offset_left)"]],"start1":16467,"start2":16467,"length1":24,"length2":41}]],"length":19992,"saved":false}
{"ts":1352318760466,"patch":[[{"diffs":[[0,"        if ("],[1,"utilities.layout."],[0,"offset_left "]],"start1":16375,"start2":16375,"length1":24,"length2":41}]],"length":20009,"saved":false}
{"ts":1352318787321,"patch":[[{"diffs":[[0,");\r\n        "],[1,"utilities.layout."],[0,"offset_top ="]],"start1":15996,"start2":15996,"length1":24,"length2":41}]],"length":20026,"saved":false}
{"ts":1352318801231,"patch":[[{"diffs":[[0," }\r\n        if ("],[1,"utilities.layout."],[0,"offset_top > 0) "]],"start1":16642,"start2":16642,"length1":32,"length2":49}]],"length":20043,"saved":false}
{"ts":1352318802807,"patch":[[{"diffs":[[0,"    if ("],[1,"utilities.layout."],[0,"offset_t"]],"start1":16803,"start2":16803,"length1":16,"length2":33}]],"length":20060,"saved":false}
{"ts":1352318805411,"patch":[[{"diffs":[[0,"val = -("],[1,"utilities.layout."],[0,"offset_t"]],"start1":16707,"start2":16707,"length1":16,"length2":33}]],"length":20077,"saved":false}
{"ts":1352318807151,"patch":[[{"diffs":[[0,"eight - "],[1,"utilities.layout."],[0,"offset_t"]],"start1":16773,"start2":16773,"length1":16,"length2":33}]],"length":20094,"saved":false}
{"ts":1352318810124,"patch":[[{"diffs":[[0,"ath.abs("],[1,"utilities.layout."],[0,"offset_t"]],"start1":16940,"start2":16940,"length1":16,"length2":33}]],"length":20111,"saved":false}
{"ts":1352318873665,"patch":[[{"diffs":[[0,"peLevel;\r\n      "],[1,"utilities.layout."],[0,"swipelayerid = d"]],"start1":11381,"start2":11381,"length1":32,"length2":49}]],"length":20128,"saved":false}
{"ts":1352318882568,"patch":[[{"diffs":[[0,"ull;\r\n      if ("],[1,"utilities.layout."],[0,"swipelayerid == "]],"start1":11527,"start2":11527,"length1":32,"length2":49}]],"length":20145,"saved":false}
{"ts":1352318885481,"patch":[[{"diffs":[[0,"ap.getLayer("],[1,"utilities.layout."],[0,"swipelayerid"]],"start1":11803,"start2":11803,"length1":24,"length2":41}]],"length":20162,"saved":false}
{"ts":1352318895884,"patch":[[{"diffs":[[0,";\r\n\r\n\t  if ("],[1,"utilities.layout."],[0,"swipelayerid"]],"start1":12845,"start2":12845,"length1":24,"length2":41}]],"length":20179,"saved":false}
{"ts":1352318898164,"patch":[[{"diffs":[[0,"ndefined || "],[1,"utilities.layout."],[0,"swipelayerid"]],"start1":12892,"start2":12892,"length1":24,"length2":41}]],"length":20196,"saved":false}
{"ts":1352318907736,"patch":[[{"diffs":[[0,"        if ("],[1,"utilities.layout."],[0,"swipelayerid"]],"start1":13750,"start2":13750,"length1":24,"length2":41}]],"length":20213,"saved":false}
{"ts":1352318910718,"patch":[[{"diffs":[[0,"null || "],[1,"utilities.layout."],[0,"swipelay"]],"start1":13795,"start2":13795,"length1":16,"length2":33}]],"length":20230,"saved":false}
{"ts":1352318921721,"patch":[[{"diffs":[[0,"iplayer("],[1,"utilities.layout."],[0,"swipelay"]],"start1":13951,"start2":13951,"length1":16,"length2":33}]],"length":20247,"saved":false}
{"ts":1352318948682,"patch":[[{"diffs":[[0,"     });\r\n      "],[1,"utilities.layout."],[0,"swipeconnect = d"]],"start1":14509,"start2":14509,"length1":32,"length2":49}]],"length":20264,"saved":false}
{"ts":1352318957350,"patch":[[{"diffs":[[0,"    if ("],[1,"utilities.layout."],[0,"swipecon"]],"start1":19481,"start2":19481,"length1":16,"length2":33}]],"length":20281,"saved":false}
{"ts":1352318959010,"patch":[[{"diffs":[[0,"connect("],[1,"utilities.layout."],[0,"swipecon"]],"start1":19535,"start2":19535,"length1":16,"length2":33}]],"length":20298,"saved":false}
{"ts":1352318977426,"patch":[[{"diffs":[[0,"){\r\n\t\t\t "],[1,"utilities.layout."],[0,"mapPoint"]],"start1":5254,"start2":5254,"length1":16,"length2":33}]],"length":20315,"saved":false}
{"ts":1352318985435,"patch":[[{"diffs":[[0,"ontains("],[1,"utilities.layout."],[0,"mapPoint"]],"start1":5549,"start2":5549,"length1":16,"length2":33}]],"length":20332,"saved":false}
{"ts":1352319006573,"patch":[[{"diffs":[[0,"\n\r\n         "],[1,"utilities.layout."],[0,"layers = res"]],"start1":5789,"start2":5789,"length1":24,"length2":41}]],"length":20349,"saved":false}
{"ts":1352319017023,"patch":[[{"diffs":[[0,"s.layout.initUI("],[1,"utilities.layout."],[0,"layers);\r\n\t\t   u"]],"start1":5921,"start2":5921,"length1":32,"length2":49}]],"length":20366,"saved":false}
{"ts":1352319024563,"patch":[[{"diffs":[[0,".initUI("],[1,"utilities.layout."],[0,"layers);"]],"start1":6240,"start2":6240,"length1":16,"length2":33}]],"length":20383,"saved":false}
{"ts":1352319066364,"patch":[[{"diffs":[[0,"\t\t\t if ("],[1,"utilities.layout."],[0,"setFeatu"]],"start1":5366,"start2":5366,"length1":16,"length2":33}]],"length":20400,"saved":false}
{"ts":1352319070703,"patch":[[{"diffs":[[0,"\t });\r\n\t\t\t\t "],[1,"utilities.layout."],[0,"setFeatures "]],"start1":5671,"start2":5671,"length1":24,"length2":41}]],"length":20417,"saved":false}
{"ts":1352319072180,"patch":[[{"diffs":[[0,"{\r\n\t\t\t\t "],[1,"utilities.layout."],[0,"setFeatu"]],"start1":5780,"start2":5780,"length1":16,"length2":33}]],"length":20434,"saved":false}
{"ts":1352319131655,"patch":[[{"diffs":[[0,"\r\n      },\r\n"],[1,"/"],[0,"\r\n      func"]],"start1":14126,"start2":14126,"length1":24,"length2":25}]],"length":20435,"saved":false}
{"ts":1352319132904,"patch":[[{"diffs":[[0,"   },\r\n/"],[1,"*"],[0,"\r\n      "]],"start1":14131,"start2":14131,"length1":16,"length2":17}]],"length":20436,"saved":false}
{"ts":1352319144610,"patch":[[{"diffs":[[0,"   }\r\n    }\r"],[1,"\n    \r"],[0,"\n\r\n  });\r\n\r\n"]],"start1":20093,"start2":20093,"length1":24,"length2":30}]],"length":20442,"saved":false}
{"ts":1352319146203,"patch":[[{"diffs":[[0," }\r\n    "],[1,"*/"],[0,"\r\n\r\n  })"]],"start1":20102,"start2":20102,"length1":16,"length2":18}]],"length":20444,"saved":false}
{"ts":1352319161464,"patch":[[{"diffs":[[0,"},\r\n"],[-1,"/*"],[0,"\r\n  "]],"start1":14134,"start2":14134,"length1":10,"length2":8}]],"length":20442,"saved":false}
{"ts":1352319165239,"patch":[[{"diffs":[[0,");\r\n    },\r\n"],[1,"/*"],[0,"\r\n    starts"]],"start1":12502,"start2":12502,"length1":24,"length2":26}]],"length":20444,"saved":false}
{"ts":1352319180087,"patch":[[{"diffs":[[0,"},\r\n"],[-1,"/*"],[0,"\r\n  "]],"start1":12510,"start2":12510,"length1":10,"length2":8}]],"length":20442,"saved":false}
{"ts":1352319184516,"patch":[[{"diffs":[[0,"pe();\r\n\t},\r\n"],[1,"/*"],[0,"\r\n    functi"]],"start1":11415,"start2":11415,"length1":24,"length2":26}]],"length":20444,"saved":false}
{"ts":1352319233388,"patch":[[{"diffs":[[0,"},\r\n"],[-1,"/*"],[0,"\r\n  "]],"start1":11423,"start2":11423,"length1":10,"length2":8}]],"length":20442,"saved":false}
{"ts":1352319241693,"patch":[[{"diffs":[[0,"\r\n      },\r\n"],[1,"*/"],[0,"\r\n      func"]],"start1":14126,"start2":14126,"length1":24,"length2":26}]],"length":20444,"saved":false}
{"ts":1352319243991,"patch":[[{"diffs":[[0,"    },\r\n"],[-1,"*"],[0,"/"],[1,"*"],[0,"\r\n      "]],"start1":14130,"start2":14130,"length1":18,"length2":18}]],"length":20444,"saved":false}
{"ts":1352319261489,"patch":[[{"diffs":[[0,"pe:function(){\r\n"],[1,"        \r\n"],[0,"      //map.hide"]],"start1":12528,"start2":12528,"length1":32,"length2":42}]],"length":20454,"saved":false}
{"ts":1352319262788,"patch":[[{"diffs":[[0,"        "],[1,"alert"],[0,"\r\n      "]],"start1":12544,"start2":12544,"length1":16,"length2":21}]],"length":20459,"saved":false}
{"ts":1352319263844,"patch":[[{"diffs":[[0,"   alert"],[1,"('"],[0,"\r\n      "]],"start1":12549,"start2":12549,"length1":16,"length2":18}]],"length":20461,"saved":false}
{"ts":1352319266149,"patch":[[{"diffs":[[0," alert('"],[1,"test');"],[0,"\r\n      "]],"start1":12551,"start2":12551,"length1":16,"length2":23}]],"length":20468,"saved":false}
{"ts":1352319281455,"patch":[[{"diffs":[[0,"){\r\n"],[-1,"        alert('test');\r\n"],[0,"    "]],"start1":12540,"start2":12540,"length1":32,"length2":8}]],"length":20444,"saved":false}
{"ts":1352319286273,"patch":[[{"diffs":[[0,");\r\n    },\r\n"],[1,"*/"],[0,"\r\n    starts"]],"start1":12502,"start2":12502,"length1":24,"length2":26}]],"length":20446,"saved":false}
{"ts":1352319291128,"patch":[[{"diffs":[[0,"pe();\r\n\t},\r\n"],[1,"/"],[0,"\r\n    functi"]],"start1":11415,"start2":11415,"length1":24,"length2":25}]],"length":20447,"saved":false}
{"ts":1352319292225,"patch":[[{"diffs":[[0,"\r\n\t},\r\n/"],[1,"*"],[0,"\r\n    fu"]],"start1":11420,"start2":11420,"length1":16,"length2":17}]],"length":20448,"saved":false}
{"ts":1352319313023,"patch":[[{"diffs":[[0,"pe();\r\n\t},\r\n"],[-1,"/*"],[0,"\r\n    functi"]],"start1":11415,"start2":11415,"length1":26,"length2":24}]],"length":20446,"saved":false}
{"ts":1352319314133,"patch":[[{"diffs":[[0,"pe();\r\n\t},\r\n"],[1,"    "],[0,"\r\n    functi"]],"start1":11415,"start2":11415,"length1":24,"length2":28}]],"length":20450,"saved":false}
{"ts":1352319317293,"patch":[[{"diffs":[[0,"    },\r\n"],[-1,"*/\r\n"],[0,"    star"]],"start1":12510,"start2":12510,"length1":20,"length2":16}]],"length":20446,"saved":false}
{"ts":1352319318384,"patch":[[{"diffs":[[0,");\r\n    },\r\n"],[1,"    \r\n"],[0,"    startswi"]],"start1":12506,"start2":12506,"length1":24,"length2":30}]],"length":20452,"saved":false}
{"ts":1352319321356,"patch":[[{"diffs":[[0,"unction "],[-1,"initswipe"],[0,"() {\r\n  "]],"start1":11438,"start2":11438,"length1":25,"length2":16}]],"length":20443,"saved":false}
{"ts":1352319322501,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"() {\r\n  "]],"start1":11437,"start2":11437,"length1":17,"length2":16}]],"length":20442,"saved":false}
{"ts":1352319323795,"patch":[[{"diffs":[[0,"\r\n    \r\n    "],[1,"initswipe:"],[0,"function() {"]],"start1":11425,"start2":11425,"length1":24,"length2":34}]],"length":20452,"saved":false}
{"ts":1352319325248,"patch":[[{"diffs":[[0,"pe();\r\n\t},\r\n"],[-1,"    "],[0,"\r\n    initsw"]],"start1":11415,"start2":11415,"length1":28,"length2":24},{"diffs":[[0,"    },\r\n"],[-1,"    "],[0,"\r\n    st"]],"start1":12506,"start2":12506,"length1":20,"length2":16}]],"length":20444,"saved":false}
{"ts":1352319339248,"patch":[[{"diffs":[[0,"},\r\n"],[-1,"/*"],[0,"\r\n  "]],"start1":14134,"start2":14134,"length1":10,"length2":8}]],"length":20442,"saved":false}
{"ts":1352319344276,"patch":[[{"diffs":[[0," }\r\n"],[-1,"    */"],[0,"\r\n\r\n"]],"start1":20100,"start2":20100,"length1":14,"length2":8}]],"length":20436,"saved":false}
{"ts":1352319359408,"patch":[[{"diffs":[[0,"tion"],[-1," stopswipe"],[0,"(){\r"]],"start1":19371,"start2":19371,"length1":18,"length2":8}]],"length":20426,"saved":false}
{"ts":1352319362403,"patch":[[{"diffs":[[0,"licked\r\n    "],[1,"stopswipe"],[0,"function(){\r"]],"start1":19355,"start2":19355,"length1":24,"length2":33}]],"length":20435,"saved":false}
{"ts":1352319363534,"patch":[[{"diffs":[[0,"topswipe"],[1,":"],[0,"function"]],"start1":19368,"start2":19368,"length1":16,"length2":17}]],"length":20436,"saved":false}
{"ts":1352319382183,"patch":[[{"diffs":[[0,"tion"],[-1," cliplayer"],[0,"(lay"]],"start1":14150,"start2":14150,"length1":18,"length2":8}]],"length":20426,"saved":false}
{"ts":1352319383403,"patch":[[{"diffs":[[0,"\r\n      "],[1,"cliplayer"],[0,"function"]],"start1":14138,"start2":14138,"length1":16,"length2":25}]],"length":20435,"saved":false}
{"ts":1352319384485,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"      cliplayerfunction(layerid){\r\n"],[0,"    "]],"start1":14136,"start2":14136,"length1":43,"length2":8}]],"length":20400,"saved":false}
{"ts":1352319385542,"patch":[[{"diffs":[[0,"      },\r\n\r\n"],[1,"      cliplayer:function(layerid){\r\n"],[0,"        //In"]],"start1":14128,"start2":14128,"length1":24,"length2":60}]],"length":20436,"saved":false}
{"ts":1352319386704,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"      cliplayer:function(layerid){\r\n"],[0,"    "]],"start1":14136,"start2":14136,"length1":44,"length2":8}]],"length":20400,"saved":false}
{"ts":1352319387812,"patch":[[{"diffs":[[0,"      },\r\n\r\n"],[1,"      cliplayer:function(layerid){\r\n"],[0,"        //In"]],"start1":14128,"start2":14128,"length1":24,"length2":60}]],"length":20436,"saved":false}
{"ts":1352319616677,"patch":[[{"diffs":[[0,"elayerid);\r\n"],[1,"        a\r\n"],[0,"        //co"]],"start1":11972,"start2":11972,"length1":24,"length2":35}]],"length":20447,"saved":false}
{"ts":1352319618186,"patch":[[{"diffs":[[0,"       a"],[1,"lert"],[0,"\r\n      "]],"start1":11985,"start2":11985,"length1":16,"length2":20}]],"length":20451,"saved":false}
{"ts":1352319619244,"patch":[[{"diffs":[[0,"   alert"],[1,"("],[0,"\r\n      "]],"start1":11989,"start2":11989,"length1":16,"length2":17}]],"length":20452,"saved":false}
{"ts":1352319620330,"patch":[[{"diffs":[[0,"  alert("],[1,"\""],[0,"\r\n      "]],"start1":11990,"start2":11990,"length1":16,"length2":17}]],"length":20453,"saved":false}
{"ts":1352319621332,"patch":[[{"diffs":[[0," alert(\""],[1,"later"],[0,"\r\n      "]],"start1":11991,"start2":11991,"length1":16,"length2":21}]],"length":20458,"saved":false}
{"ts":1352319623188,"patch":[[{"diffs":[[0,"ert("],[-1,"\""],[0,"la"],[-1,"ter"],[0,"\r\n  "]],"start1":11994,"start2":11994,"length1":14,"length2":10}]],"length":20454,"saved":false}
{"ts":1352319624332,"patch":[[{"diffs":[[0,"alert(la"],[1,"yer"],[0,"\r\n      "]],"start1":11992,"start2":11992,"length1":16,"length2":19}]],"length":20457,"saved":false}
{"ts":1352319625377,"patch":[[{"diffs":[[0,"rt(layer"],[1,");"],[0,"\r\n      "]],"start1":11995,"start2":11995,"length1":16,"length2":18}]],"length":20459,"saved":false}
{"ts":1352319644073,"patch":[[{"diffs":[[0,");\r\n"],[-1,"        alert(layer);"],[0,"\r\n  "]],"start1":11980,"start2":11980,"length1":29,"length2":8}]],"length":20438,"saved":false}
{"ts":1352319645134,"patch":[[{"diffs":[[0,"swipelayerid);\r\n"],[-1,"\r\n"],[0,"        //consol"]],"start1":11968,"start2":11968,"length1":34,"length2":32}]],"length":20436,"saved":false}
{"ts":1352319665819,"patch":[[{"diffs":[[0,"d) {\r\n          "],[1,"//"],[0,"alert(i18n.viewe"]],"start1":12061,"start2":12061,"length1":32,"length2":34}]],"length":20438,"saved":false}
{"ts":1352319674550,"patch":[[{"diffs":[[0,"        "],[-1,"//"],[0,"alert(i1"]],"start1":12069,"start2":12069,"length1":18,"length2":16}]],"length":20436,"saved":false}
{"ts":1352319688403,"patch":[[{"diffs":[[0," \"\") {\r\n        "],[1,"//"],[0,"alert(i18n.viewe"]],"start1":13072,"start2":13072,"length1":32,"length2":34}]],"length":20438,"saved":false}
{"ts":1352319697815,"patch":[[{"diffs":[[0,"        "],[-1,"//"],[0,"alert(i1"]],"start1":13080,"start2":13080,"length1":18,"length2":16}]],"length":20436,"saved":false}
{"ts":1352319707214,"patch":[[{"diffs":[[0,"\") {\r\n          "],[1,"//"],[0,"alert(i18n.viewe"]],"start1":13973,"start2":13973,"length1":32,"length2":34}]],"length":20438,"saved":false}
{"ts":1352319830935,"patch":[[{"diffs":[[0,"        "],[-1,"//"],[0,"alert(i1"]],"start1":13981,"start2":13981,"length1":18,"length2":16}]],"length":20436,"saved":false}
{"ts":1352319921271,"patch":[[{"diffs":[[0,";\r\n\t\t   "],[1,"//"],[0,"alert(i1"]],"start1":4166,"start2":4166,"length1":16,"length2":18}]],"length":20438,"saved":false}
{"ts":1352319933934,"patch":[[{"diffs":[[0,";\r\n\t\t   "],[-1,"//"],[0,"alert(i1"]],"start1":4166,"start2":4166,"length1":18,"length2":16}]],"length":20436,"saved":false}
{"ts":1352319994255,"patch":[[{"diffs":[[0,"\r\n      },\r\n"],[1,"/*"],[0,"\r\n      clip"]],"start1":14126,"start2":14126,"length1":24,"length2":26}]],"length":20438,"saved":false}
{"ts":1352320000413,"patch":[[{"diffs":[[0,"\n    }\r\n"],[1,"*/"],[0,"\r\n\r\n  })"]],"start1":20098,"start2":20098,"length1":16,"length2":18}]],"length":20440,"saved":false}
{"ts":1352320015776,"patch":[[{"diffs":[[0,"},\r\n"],[-1,"/*"],[0,"\r\n  "]],"start1":14134,"start2":14134,"length1":10,"length2":8}]],"length":20438,"saved":false}
{"ts":1352320024633,"patch":[[{"diffs":[[0," }\r\n    },\r\n"],[1,"/*"],[0,"\r\n    swipe:"]],"start1":16111,"start2":16111,"length1":24,"length2":26}]],"length":20440,"saved":false}
{"ts":1352320046322,"patch":[[{"diffs":[[0,"\r\n      },\r\n"],[1,"/*"],[0,"\r\n      clip"]],"start1":14126,"start2":14126,"length1":24,"length2":26}]],"length":20442,"saved":false}
{"ts":1352320049780,"patch":[[{"diffs":[[0," }\r\n    },\r\n"],[1,"/*"],[0,"\r\n    clearC"]],"start1":15886,"start2":15886,"length1":24,"length2":26}]],"length":20444,"saved":false}
{"ts":1352320052227,"patch":[[{"diffs":[[0," }\r\n    },\r\n"],[-1,"/"],[0,"*\r\n    clear"]],"start1":15886,"start2":15886,"length1":25,"length2":24}]],"length":20443,"saved":false}
{"ts":1352320053380,"patch":[[{"diffs":[[0,"   },\r\n*"],[1,"/"],[0,"\r\n    cl"]],"start1":15891,"start2":15891,"length1":16,"length2":17}]],"length":20444,"saved":false}
{"ts":1352320068817,"patch":[[{"diffs":[[0,"    },\r\n"],[-1,"*/"],[0,"\r\n    cl"]],"start1":15890,"start2":15890,"length1":18,"length2":16}]],"length":20442,"saved":false}
{"ts":1352320072379,"patch":[[{"diffs":[[0,"\r\n      },\r\n"],[-1,"/*"],[0,"\r\n      clip"]],"start1":14126,"start2":14126,"length1":26,"length2":24}]],"length":20440,"saved":false}
{"ts":1352320084444,"patch":[[{"diffs":[[0,"(layerid){\r\n"],[1,"          a\r\n"],[0,"        //In"]],"start1":14164,"start2":14164,"length1":24,"length2":37}]],"length":20453,"saved":false}
{"ts":1352320085694,"patch":[[{"diffs":[[0,"       a"],[1,"lert("],[0,"\r\n      "]],"start1":14179,"start2":14179,"length1":16,"length2":21}]],"length":20458,"saved":false}
{"ts":1352320087612,"patch":[[{"diffs":[[0,"  alert("],[1,"'test'"],[0,"\r\n      "]],"start1":14184,"start2":14184,"length1":16,"length2":22}]],"length":20464,"saved":false}
{"ts":1352320089896,"patch":[[{"diffs":[[0,"t('test'"],[1,");"],[0,"\r\n      "]],"start1":14190,"start2":14190,"length1":16,"length2":18}]],"length":20466,"saved":false}
{"ts":1352320102013,"patch":[[{"diffs":[[0,"rt('"],[-1,"test'"],[0,");\r\n"]],"start1":14189,"start2":14189,"length1":13,"length2":8}]],"length":20461,"saved":false}
{"ts":1352320103155,"patch":[[{"diffs":[[0,"  alert("],[-1,"'"],[1,"la"],[0,");\r\n    "]],"start1":14184,"start2":14184,"length1":17,"length2":18}]],"length":20462,"saved":false}
{"ts":1352320104334,"patch":[[{"diffs":[[0,"alert(la"],[1,"yer"],[0,");\r\n    "]],"start1":14186,"start2":14186,"length1":16,"length2":19}]],"length":20465,"saved":false}
{"ts":1352320105703,"patch":[[{"diffs":[[0," alert(layer"],[1,"id"],[0,");\r\n        "]],"start1":14185,"start2":14185,"length1":24,"length2":26}]],"length":20467,"saved":false}
{"ts":1352320123132,"patch":[[{"diffs":[[0,"){\r\n"],[-1,"          alert(layerid);\r\n"],[0,"    "]],"start1":14172,"start2":14172,"length1":35,"length2":8}]],"length":20440,"saved":false}
{"ts":1352320137959,"patch":[[{"diffs":[[0,"\n      });\r\n"],[1,"      \r\n      \r\n"],[0,"      utilit"]],"start1":14643,"start2":14643,"length1":24,"length2":40}]],"length":20456,"saved":false}
{"ts":1352320139700,"patch":[[{"diffs":[[0,");\r\n      \r\n"],[1,"      alert(layerid);\r\n"],[0,"      \r\n    "]],"start1":14651,"start2":14651,"length1":24,"length2":47}]],"length":20479,"saved":false}
{"ts":1352320140884,"patch":[[{"diffs":[[0,"\n      });\r\n"],[-1,"      "],[0,"\r\n      aler"]],"start1":14643,"start2":14643,"length1":30,"length2":24},{"diffs":[[0,"erid);\r\n"],[-1,"      "],[0,"\r\n      "]],"start1":14672,"start2":14672,"length1":22,"length2":16}]],"length":20467,"saved":false}
{"ts":1352320150051,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"      alert(layerid);"],[0,"\r\n\r\n"]],"start1":14653,"start2":14653,"length1":29,"length2":8}]],"length":20446,"saved":false}
{"ts":1352320152422,"patch":[[{"diffs":[[0,"   });\r\n"],[-1,"\r\n\r\n"],[1,"      \r\n      \r\n      "],[0,"\r\n      "]],"start1":14647,"start2":14647,"length1":20,"length2":38}]],"length":20464,"saved":false}
{"ts":1352320153924,"patch":[[{"diffs":[[0,");\r\n"],[-1,"      \r\n      \r\n      \r\n"],[0,"    "]],"start1":14651,"start2":14651,"length1":32,"length2":8}]],"length":20440,"saved":false}
{"ts":1352320157988,"patch":[[{"diffs":[[0,"yle.left);\r\n"],[1,"      alert(layerid);"],[0,"\r\n        //"]],"start1":14256,"start2":14256,"length1":24,"length2":45}]],"length":20461,"saved":false}
{"ts":1352320193607,"patch":[[{"diffs":[[0,"on\r\n        "],[1,"utilities.layout."],[0,"swipe(dojo.b"]],"start1":14213,"start2":14213,"length1":24,"length2":41}]],"length":20478,"saved":false}
{"ts":1352320197613,"patch":[[{"diffs":[[0,");\r\n"],[-1,"      alert(layerid);\r\n"],[0,"    "]],"start1":14281,"start2":14281,"length1":31,"length2":8}]],"length":20455,"saved":false}
{"ts":1352320201395,"patch":[[{"diffs":[[0,"},\r\n"],[-1,"/*"],[0,"\r\n  "]],"start1":16134,"start2":16134,"length1":10,"length2":8}]],"length":20453,"saved":false}
{"ts":1352320206439,"patch":[[{"diffs":[[0,"  }\r"],[-1,"\n*/\r"],[0,"\n\r\n "]],"start1":20114,"start2":20114,"length1":12,"length2":8}]],"length":20449,"saved":false}
{"contributors":[],"silentsave":true,"ts":1352391106363,"patch":[[{"diffs":[[0,"ert("],[-1,"\"Unable to create map: \""],[0," + \""]],"start1":6719,"start2":6719,"length1":32,"length2":8}]],"length":20425,"saved":false}
{"ts":1352391140352,"patch":[[{"diffs":[[0,"  alert("],[1,"i18n.viewer.loading.message"],[0," + \" \" +"]],"start1":6715,"start2":6715,"length1":16,"length2":43}]],"length":20452,"saved":false}
{"ts":1352391148901,"patch":[[{"diffs":[[0,"ert(i18n.viewer."],[-1,"loading"],[1,"errors"],[0,".message + \" \" +"]],"start1":6719,"start2":6719,"length1":39,"length2":38}]],"length":20451,"saved":false}
{"ts":1352391155723,"patch":[[{"diffs":[[0,".errors."],[-1,"message"],[1,"createMap"],[0," + \" \" +"]],"start1":6734,"start2":6734,"length1":23,"length2":25}]],"length":20453,"saved":false}
{"ts":1352391273757,"patch":[[{"diffs":[[0,"  alert("],[1,"i18n.viewer.errors.createMap"],[0,"\"Error c"]],"start1":18670,"start2":18670,"length1":16,"length2":44}]],"length":20481,"saved":false}
{"ts":1352391278612,"patch":[[{"diffs":[[0,"eMap"],[-1,"\"Error cannot continue\""],[0,");\r\n"]],"start1":18702,"start2":18702,"length1":31,"length2":8}]],"length":20458,"saved":false}
{"ts":1352391285717,"patch":[[{"diffs":[[0,".errors."],[-1,"createMap"],[1,"noContinue"],[0,");\r\n\t\t\t "]],"start1":18689,"start2":18689,"length1":25,"length2":26}]],"length":20459,"saved":false}
{"contributors":[],"silentsave":true,"ts":1353955480617,"patch":[[{"diffs":[[0,"ojo."],[-1,"provide(\"utilities.layout"],[1,"require(\"esri.map"],[0,"\");\r\n"],[-1,"\r\n"],[0,"  do"]],"start1":3,"start2":3,"length1":40,"length2":30},{"diffs":[[0,"o.require(\"esri."],[-1,"map"],[1,"dijit.Legend"],[0,"\");\r\n  dojo.requ"]],"start1":34,"start2":34,"length1":35,"length2":44},{"diffs":[[0,"e(\"esri."],[-1,"layout"],[1,"dijit.Scalebar"],[0,"\");\r\n  d"]],"start1":80,"start2":80,"length1":22,"length2":30},{"diffs":[[0,"sri."],[-1,"widget"],[1,"arcgis.util"],[0,"s\");"]],"start1":124,"start2":124,"length1":14,"length2":19},{"diffs":[[0,"sri."],[-1,"arcgis.utils\");\r\n  dojo.requireLocalization(\"esriTemplate\",\"template\");\r\n\r\n  utilities.layout = {};\r\n  dojo.mixin(utilities.layout,{"],[1,"IdentityManager\");\r\n  dojo.require(\"dijit.dijit\");\r\n  dojo.require(\"dijit.layout.BorderContainer\");\r\n  dojo.require(\"dijit.layout.ContentPane\");\r\n  dojo.require(\"dijit.layout.StackContainer\");\r\n  dojo.require(\"esri.dijit.Popup\");\r\n  dojo.require(\"dojo.dnd.move\");\r\n"],[0,"\r\n\r\n"]],"start1":162,"start2":162,"length1":140,"length2":273},{"diffs":[[0,"    "],[1,"var"],[0," map"],[-1,":null,\r\n      urlObject:null,\r\n      chooseLayer:null,\r\n      swipeslider:null,\r\n      swipediv:null,\r\n      clipval:null,\r\n      offset_left:null,\r\n      offset_top:null,\r\n     "],[1,", urlObject, i18n, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top,"],[0," swi"]],"start1":436,"start2":436,"length1":190,"length2":103},{"diffs":[[0,"erid"],[-1,":"],[1,"="],[0,"\"\","],[-1,"\r\n     "],[0," swi"]],"start1":544,"start2":544,"length1":19,"length2":12},{"diffs":[[0,"econnect"],[-1,":"],[1,"="],[0,"null,"],[-1,"\r\n     "],[0," mapPoin"]],"start1":557,"start2":557,"length1":29,"length2":22},{"diffs":[[0,"oint"],[-1,":null,\r\n      layers:null,\r\n     "],[1,", layers,"],[0," set"]],"start1":576,"start2":576,"length1":41,"length2":17},{"diffs":[[0,"ures"],[-1,":"],[1," = "],[0,"true"],[-1,","],[1,";"],[0,"\r\n     "],[1,"var"],[0," map"]],"start1":597,"start2":597,"length1":21,"length2":26},{"diffs":[[0,"apLoaded"],[-1,":"],[1," = "],[0,"false"],[-1,","],[1,";"],[0,"\r\n\r\n    "]],"start1":621,"start2":621,"length1":23,"length2":25},{"diffs":[[0,"    "],[-1," initMap:"],[0,"function"],[1," initMap"],[0,"() {"]],"start1":643,"start2":643,"length1":25,"length2":24},{"diffs":[[0,"\n       "],[-1,"this."],[0,"patchID("]],"start1":668,"start2":668,"length1":21,"length2":16},{"diffs":[[0,"y;\r\n       }\r\n\r\n"],[-1,"    "],[1,"\t"],[0,"   esri.arcgis.u"]],"start1":3117,"start2":3117,"length1":36,"length2":33},{"diffs":[[0,"\n\t  "],[-1," //is an appid specified - if so read json from there\r\n\t  if(configOptions.appid || (urlObject.query && urlObject.query.appid)){\r\n\t\tvar appid = configOptions.appid || urlObject.query.appid;\r\n\t\tvar requestHandle = esri.request({\r\n\t\t  url: configOptions.sharingurl + \"/\" + appid + \"/data\",\r\n\t\t  content: {f:\"json\"},\r\n\t\t  callbackParamName:\"callback\",\r\n\t\t  load: function(response){\r\n\t\t\t   if(response.values.title !== undefined){configOptions.title = response.values.title;}\r\n\t\t\t   if(response.values.subtitle !== undefined){configOptions.subtitle = response.values.subtitle;}\r\n\t\t\t   if(response.values.legend !== undefined){configOptions.showLegend = response.values.legend;}\r\n\t\t\t   if(response.values.swipe !== undefined){configOptions.chooseSwipeLevel = response.values.swipe;}\r\n    \t\t   if(response.values.webmap !== undefined){configOptions.webmap = response.values.webmap;}\r\n\r\n\t\t\t   utilities.layout.createMap();\r\n\t\t  },\r\n\t\t  error: function(response){\r\n\t\t\tvar e = response.message;\r\n\t\t   alert(i18n.viewer.errors.createMap +  response.message);\r\n\t\t  }\r\n\t\t});\r\n\t\t }else{\r\n\t\t\tutilities.layout.createMap();\r\n\t\t }\r\n\t },\r\n\r\n     createMap:function(){\r\n      "],[0,"var "]],"start1":3195,"start2":3195,"length1":1166,"length2":8},{"diffs":[[0,"ateEnd\","],[-1,"utilities.layout."],[0,"hideLoad"]],"start1":4031,"start2":4031,"length1":33,"length2":16},{"diffs":[[0,"){\r\n\t\t\t "],[-1,"utilities.layout."],[0,"mapPoint"]],"start1":4097,"start2":4097,"length1":33,"length2":16},{"diffs":[[0,"\t\t\t if ("],[-1,"utilities.layout."],[0,""],[1,""],[0,"setFeatu"]],"start1":4192,"start2":4192,"length1":33,"length2":16},{"diffs":[[0,"ontains("],[-1,"utilities.layout."],[0,""],[1,""],[0,"mapPoint"]],"start1":4375,"start2":4375,"length1":33,"length2":16},{"diffs":[[0,";\r\n\t\t\t\t "],[-1,"utilities.layout."],[0,""],[1,""],[0,"setFeatu"]],"start1":4467,"start2":4467,"length1":33,"length2":16},{"diffs":[[0,"{\r\n\t\t\t\t "],[-1,"utilities.layout."],[0,"setFeatu"]],"start1":4555,"start2":4555,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"layers ="]],"start1":4602,"start2":4602,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout.initUI(utilities.layout.layers);\r\n\t\t   utilities.layout."],[1,"initUI(layers);\r\n\t\t   "],[0,"popu"]],"start1":4701,"start2":4701,"length1":81,"length2":30},{"diffs":[[0,"    "],[-1,"utilities.layout.initUI(utilities.layout.layers);\r\n\t\t\t utilities.layout."],[1,"initUI(layers);\r\n\t\t\t "],[0,"popu"]],"start1":4961,"start2":4961,"length1":80,"length2":29},{"diffs":[[0,"   }"],[-1,","],[1,"\r\n"],[0,"\r\n\r\n    "],[-1," initUI:"],[0," fun"]],"start1":5445,"start2":5445,"length1":25,"length2":18},{"diffs":[[0,"\n\r\n     function"],[1," initUI"],[0,"(layers) {\r\n    "]],"start1":5452,"start2":5452,"length1":32,"length2":39},{"diffs":[[0,"rInfo = "],[-1,"utilities.layout."],[0,""],[1,""],[0,"buildLay"]],"start1":5780,"start2":5780,"length1":33,"length2":16},{"diffs":[[0,"\r\n     }"],[-1,","],[0,"\r\n\r\n"],[-1,"     "],[0,"//build "]],"start1":6084,"start2":6084,"length1":26,"length2":20},{"diffs":[[0,"gend\r\n  "],[1,"function "],[0,"buildLay"]],"start1":6141,"start2":6141,"length1":16,"length2":25},{"diffs":[[0,"yersList"],[-1,":function"],[0,"(layers)"]],"start1":6165,"start2":6165,"length1":25,"length2":16},{"diffs":[[0,"\n  }"],[-1,","],[0,"\r\n\r\n  "],[-1,"patchID:function"],[1,"   function patchID"],[0,"() {"]],"start1":8126,"start2":8126,"length1":31,"length2":33},{"diffs":[[0,";\r\n    }"],[-1,","],[0,"\r\n\r\n"],[-1,"   "],[1,"\tfunction"],[0," hideLoa"]],"start1":9199,"start2":9199,"length1":24,"length2":29},{"diffs":[[0,"ader"],[-1,":function"],[0,"(){\r\n"],[-1,"    "],[1,"\t"],[0,"  if ("],[-1,"utilities.layout."],[0,"mapL"]],"start1":9227,"start2":9227,"length1":49,"length2":20},{"diffs":[[0,"se){\r\n\t\t"],[-1,"utilities.layout."],[0,"mapLoade"]],"start1":9259,"start2":9259,"length1":33,"length2":16},{"diffs":[[0,"\t  }\r\n\t}"],[-1,",\r\n\r\n    "],[1,"\r\n\r\n\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });\r\n\r\n\t"],[0,"//Swipe "]],"start1":9440,"start2":9440,"length1":25,"length2":344},{"diffs":[[0,"ontrol\r\n"],[-1,"   "],[1,"\tfunction"],[0," populat"]],"start1":9785,"start2":9785,"length1":19,"length2":25},{"diffs":[[0,"List"],[-1,": function"],[0,"(){\r"]],"start1":9816,"start2":9816,"length1":18,"length2":8},{"diffs":[[0,"se;\r\n\t  "],[-1,"utilities.layout."],[0,"startswi"]],"start1":10278,"start2":10278,"length1":33,"length2":16},{"diffs":[[0,"e();\r\n\t}"],[-1,","],[0,"\r\n\r\n"],[-1,"   "],[1,"\tfunction"],[0," initswi"]],"start1":10295,"start2":10295,"length1":24,"length2":29},{"diffs":[[0,"nitswipe"],[-1,":function"],[0,"() {\r\n  "]],"start1":10318,"start2":10318,"length1":25,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"chooseLa"]],"start1":10330,"start2":10330,"length1":33,"length2":16},{"diffs":[[0,"Level;\r\n"],[1,"\t"],[0,"  "],[-1,"    utilities.layout."],[0,"swipelay"]],"start1":10377,"start2":10377,"length1":39,"length2":19},{"diffs":[[0,"istdd\")["],[-1,"utilities.layout."],[0,"chooseLa"]],"start1":10420,"start2":10420,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[1,"clipval = map.width;\r\n      "],[0,"swipediv"]],"start1":10447,"start2":10447,"length1":33,"length2":44},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipelay"]],"start1":10503,"start2":10503,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipediv"]],"start1":10636,"start2":10636,"length1":33,"length2":16},{"diffs":[[0,"etLayer("],[-1,"utilities.layout."],[0,"swipelay"]],"start1":10741,"start2":10741,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipediv"]],"start1":10927,"start2":10927,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":10967,"start2":10967,"length1":33,"length2":16},{"diffs":[[0,"\n\t  if ("],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipediv"]],"start1":11070,"start2":11070,"length1":33,"length2":16},{"diffs":[[0,";\r\n    }"],[-1,","],[0,"\r\n\r\n    "],[1,"function "],[0,"startswi"]],"start1":11233,"start2":11233,"length1":25,"length2":33},{"diffs":[[0,"n startswipe"],[-1,":function"],[0,"(){\r\n      /"]],"start1":11256,"start2":11256,"length1":33,"length2":24},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"initswip"]],"start1":11357,"start2":11357,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11383,"start2":11383,"length1":33,"length2":16},{"diffs":[[0,"ined || "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11411,"start2":11411,"length1":33,"length2":16},{"diffs":[[0,"peslider);\r\n"],[-1,"    "],[1,"\t"],[0,"  }\r\n\r\n\t  //"]],"start1":11538,"start2":11538,"length1":28,"length2":25},{"diffs":[[0,"\n\t  if ("],[-1,"utilities.layout."],[0,"swipelay"]],"start1":11660,"start2":11660,"length1":33,"length2":16},{"diffs":[[0,"ined || "],[-1,"utilities.layout."],[0,"swipelay"]],"start1":11690,"start2":11690,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11792,"start2":11792,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11928,"start2":11928,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11986,"start2":11986,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":12029,"start2":12029,"length1":33,"length2":16},{"diffs":[[0,"ue){\r\n\t\t"],[-1,"utilities.layout."],[0,"swipesli"]],"start1":12111,"start2":12111,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"clipval "]],"start1":12180,"start2":12180,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":12282,"start2":12282,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"clearCli"]],"start1":12309,"start2":12309,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipelay"]],"start1":12395,"start2":12395,"length1":33,"length2":16},{"diffs":[[0,"null || "],[-1,"utilities.layout."],[0,"swipelay"]],"start1":12419,"start2":12419,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout.cliplayer(utilities.layout."],[1,"cliplayer("],[0,"swip"]],"start1":12535,"start2":12535,"length1":52,"length2":18},{"diffs":[[0,"d);\r\n      }"],[-1,","],[0,"\r\n\r\n      cl"]],"start1":12560,"start2":12560,"length1":25,"length2":24},{"diffs":[[0," }\r\n\r\n      "],[1,"function "],[0,"cliplayer:fu"]],"start1":12570,"start2":12570,"length1":24,"length2":33},{"diffs":[[0,"liplayer"],[-1,":function"],[0,"(layerid"]],"start1":12592,"start2":12592,"length1":25,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipe(do"]],"start1":12653,"start2":12653,"length1":33,"length2":16},{"diffs":[[0,").style.left);\r\n"],[1,"\r\n"],[0,"        //Make t"]],"start1":12688,"start2":12688,"length1":32,"length2":34},{"diffs":[[0,"connect("],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipesli"]],"start1":12808,"start2":12808,"length1":33,"length2":16},{"diffs":[[0," 0.5);\r\n"],[-1,"    "],[1,"\t"],[0,"\t$(\"#sli"]],"start1":12980,"start2":12980,"length1":20,"length2":17},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipecon"]],"start1":13069,"start2":13069,"length1":33,"length2":16},{"diffs":[[0,"connect("],[-1,"utilities.layout."],[0,"swipesli"]],"start1":13097,"start2":13097,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"clipval "]],"start1":13367,"start2":13367,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout.swipe(utilities.layout."],[1,"swipe("],[0,"clip"]],"start1":13414,"start2":13414,"length1":48,"length2":14},{"diffs":[[0,"connect("],[-1,"utilities.layout."],[0,"swipesli"]],"start1":13461,"start2":13461,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout.swipe(utilities.layout."],[1,"swipe("],[0,"clip"]],"start1":13855,"start2":13855,"length1":48,"length2":14},{"diffs":[[0,"    "],[-1,"utilities.layout.swipe(utilities.layout."],[1,"swipe("],[0,"clip"]],"start1":14091,"start2":14091,"length1":48,"length2":14},{"diffs":[[0,"}\r\n    }"],[-1,","],[0,"\r\n\r\n    "],[1,"function "],[0,"clearCli"]],"start1":14131,"start2":14131,"length1":25,"length2":33},{"diffs":[[0,"learClip"],[-1,":function"],[0,"(){\r\n   "]],"start1":14157,"start2":14157,"length1":25,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":14211,"start2":14211,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipediv"]],"start1":14240,"start2":14240,"length1":33,"length2":16},{"diffs":[[0,"   }"],[-1,","],[0,"\r\n\r\n    "],[-1,"swipe:"],[0,"function"],[1," swipe"],[0,"(val"]],"start1":14327,"start2":14327,"length1":31,"length2":30},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":14363,"start2":14363,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14392,"start2":14392,"length1":33,"length2":16},{"diffs":[[0,"seFloat("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":14417,"start2":14417,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"offset_t"]],"start1":14448,"start2":14448,"length1":33,"length2":16},{"diffs":[[0,"seFloat("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":14472,"start2":14472,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14602,"start2":14602,"length1":33,"length2":16},{"diffs":[[0,"ath.abs("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14670,"start2":14670,"length1":33,"length2":16},{"diffs":[[0,"val = -("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14707,"start2":14707,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14759,"start2":14759,"length1":33,"length2":16},{"diffs":[[0,"ath.abs("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14851,"start2":14851,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"offset_t"]],"start1":14979,"start2":14979,"length1":33,"length2":16},{"diffs":[[0,"val = -("],[-1,"utilities.layout."],[0,"offset_t"]],"start1":15019,"start2":15019,"length1":33,"length2":16},{"diffs":[[0,"eight - "],[-1,"utilities.layout."],[0,"offset_t"]],"start1":15068,"start2":15068,"length1":33,"length2":16},{"diffs":[[0,"t_top;\r\n"],[-1,"    "],[1,"\t"],[0,"\t}\r\n    "]],"start1":15081,"start2":15081,"length1":20,"length2":17},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"offset_t"]],"start1":15112,"start2":15112,"length1":33,"length2":16},{"diffs":[[0,"ath.abs("],[-1,"utilities.layout."],[0,"offset_t"]],"start1":15198,"start2":15198,"length1":33,"length2":16},{"diffs":[[0,"Value = "],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipediv"]],"start1":15916,"start2":15916,"length1":33,"length2":16},{"diffs":[[0,"ert("],[-1,"i18n.viewer.errors.noC"],[1,"\"Error cannot c"],[0,"ontinue"],[1,"\""],[0,");\r\n"]],"start1":16590,"start2":16590,"length1":37,"length2":31},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipediv"]],"start1":17164,"start2":17164,"length1":33,"length2":16},{"diffs":[[0,"   }\r\n\t}"],[-1,","],[0,""],[1,""],[0,"\r\n\r\n    "]],"start1":17210,"start2":17210,"length1":17,"length2":16},{"diffs":[[0,"ed\r\n    "],[1,"function "],[0,"stopswip"]],"start1":17276,"start2":17276,"length1":16,"length2":25},{"diffs":[[0,"wipe"],[-1,":function"],[0,"(){\r"]],"start1":17298,"start2":17298,"length1":17,"length2":8},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipesli"]],"start1":17380,"start2":17380,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipecon"]],"start1":17517,"start2":17517,"length1":33,"length2":16},{"diffs":[[0,"connect("],[-1,"utilities.layout."],[0,"swipecon"]],"start1":17554,"start2":17554,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":17771,"start2":17771,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipediv"]],"start1":17800,"start2":17800,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout."],[0,"swip"]],"start1":17881,"start2":17881,"length1":25,"length2":8},{"diffs":[[0," }\r\n"],[-1,"    }\r\n\r\n  });\r\n\r\n\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });"],[1,"\t}"]],"start1":17908,"start2":17908,"length1":341,"length2":6}]],"length":17914,"saved":false}
{"ts":1353955836092,"patch":[[{"diffs":[[0,"sri.map\");\r\n"],[1,"  dojo.require(\"esri.layout\");\r\n  dojo.require(\"esri.widgets\");\r\n"],[0,"  dojo.requi"]],"start1":17,"start2":17,"length1":24,"length2":89}]],"length":17979,"saved":false}
{"ts":1353955842806,"patch":[[{"diffs":[[0,");\r\n"],[-1,"  dojo.require(\"esri.dijit.Legend\");\r\n  dojo.require(\"esri.dijit.Scalebar\");\r\n"],[0,"  do"]],"start1":90,"start2":90,"length1":86,"length2":8}]],"length":17901,"saved":false}
{"ts":1353955854113,"patch":[[{"diffs":[[0,");\r\n"],[-1,"  dojo.require(\"dijit.dijit\");\r\n  dojo.require(\"dijit.layout.BorderContainer\");\r\n  dojo.require(\"dijit.layout.ContentPane\");\r\n  dojo.require(\"dijit.layout.StackContainer\");\r\n  dojo.require(\"esri.dijit.Popup\");\r\n"],[0,"  do"]],"start1":169,"start2":169,"length1":219,"length2":8}]],"length":17690,"saved":false}
{"ts":1353955866160,"patch":[[{"diffs":[[0,");\r\n"],[-1,"  dojo.require(\"dojo.dnd.move\");\r\n"],[0,"\r\n\r\n"]],"start1":169,"start2":169,"length1":42,"length2":8}]],"length":17656,"saved":false}
{"ts":1353956228943,"patch":[[{"diffs":[[0,"ert("],[-1,"\"Error cannot c"],[1,"i18n.viewer.errors.noC"],[0,"ontinue"],[-1,"\""],[0,");\r\n"]],"start1":16332,"start2":16332,"length1":31,"length2":37}]],"length":17662,"saved":false}
