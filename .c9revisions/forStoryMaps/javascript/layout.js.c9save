{"ts":1352134689950,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"  dojo.require(\"esri.map\");\r\n  dojo.require(\"esri.dijit.Legend\");\r\n  dojo.require(\"esri.dijit.Scalebar\");\r\n  dojo.require(\"esri.arcgis.utils\");\r\n  dojo.require(\"esri.IdentityManager\");\r\n  dojo.require(\"dijit.dijit\");\r\n  dojo.require(\"dijit.layout.BorderContainer\");\r\n  dojo.require(\"dijit.layout.ContentPane\");\r\n  dojo.require(\"dijit.layout.StackContainer\");\r\n  dojo.require(\"esri.dijit.Popup\");\r\n  dojo.require(\"dojo.dnd.move\");\r\n\r\n\r\n     var map, urlObject, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top, swipelayerid=\"\", swipeconnect=null, mapPoint, layers, setFeatures = true;\r\n     var mapLoaded = false;\r\n\r\n\t function initMap() {\r\n       patchID();\r\n\r\n       i18n = dojo.i18n.getLocalization(\"esriTemplate\",\"template\");\r\n       dojo.byId('loading').innerHTML = i18n.viewer.loading.message;\r\n       dojo.byId('legTogText').innerHTML = i18n.viewer.legToggle.down;\r\n\r\n       if(configOptions.geometryserviceurl && location.protocol === \"https:\"){\r\n         configOptions.geometryserviceurl = configOptions.geometryserviceurl.replace('http:','https:');\r\n       }\r\n       esri.config.defaults.geometryService = new esri.tasks.GeometryService(configOptions.geometryserviceurl);\r\n\r\n       if(!configOptions.sharingurl){\r\n         configOptions.sharingurl = location.protocol + '//' + location.host + \"/sharing/content/items\";\r\n       }\r\n       esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n       if(!configOptions.proxyurl){\r\n         configOptions.proxyurl = location.protocol + '//' + location.host + \"/sharing/proxy\";\r\n       }\r\n\r\n       esri.config.defaults.io.proxyUrl =  configOptions.proxyurl;\r\n\r\n       esri.config.defaults.io.alwaysUseProxy = false;\r\n\r\n       urlObject = esri.urlToObject(document.location.href);\r\n       urlObject.query = urlObject.query || {};\r\n\r\n       if(urlObject.query.title){\r\n         configOptions.title = urlObject.query.title;\r\n       }\r\n       if(urlObject.query.subtitle){\r\n         configOptions.title = urlObject.query.subtitle;\r\n       }\r\n       if(urlObject.query.webmap){\r\n         configOptions.webmap = urlObject.query.webmap;\r\n       }\r\n       if(urlObject.query.bingMapsKey){\r\n         configOptions.bingmapskey = urlObject.query.bingMapsKey;\r\n       }\r\n\r\n\t   esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;\r\n\r\n\t   //is an appid specified - if so read json from there\r\n\t  if(configOptions.appid || (urlObject.query && urlObject.query.appid)){\r\n\t\tvar appid = configOptions.appid || urlObject.query.appid;\r\n\t\tvar requestHandle = esri.request({\r\n\t\t  url: configOptions.sharingurl + \"/\" + appid + \"/data\",\r\n\t\t  content: {f:\"json\"},\r\n\t\t  callbackParamName:\"callback\",\r\n\t\t  load: function(response){\r\n\t\t\t   if(response.values.title !== undefined){configOptions.title = response.values.title;}\r\n\t\t\t   if(response.values.subtitle !== undefined){configOptions.subtitle = response.values.subtitle;}\r\n\t\t\t   if(response.values.legend !== undefined){configOptions.showLegend = response.values.legend;}\r\n\t\t\t   if(response.values.swipe !== undefined){configOptions.chooseSwipeLevel = response.values.swipe;}\r\n\r\n\t\t\t   createMap();\r\n\t\t  },\r\n\t\t  error: function(response){\r\n\t\t\tvar e = response.message;\r\n\t\t   alert(i18n.viewer.errors.createMap +  response.message);\r\n\t\t  }\r\n\t\t});\r\n\t\t }else{\r\n\t\t\tcreateMap();\r\n\t\t }\r\n\t }\r\n\r\nfunction createMap(){\r\n\t  var popup = new esri.dijit.Popup({\r\n\t\thighlight:true\r\n      }, dojo.create(\"div\"));\r\n\r\n\t   var mapDeferred = esri.arcgis.utils.createMap(configOptions.webmap, \"map\", {\r\n         mapOptions: {\r\n           slider: true,\r\n           nav: false,\r\n           wrapAround180:true,\r\n\t\t   infoWindow:popup\r\n         },\r\n         ignorePopups:false,\r\n         bingMapsKey: configOptions.bingmapskey\r\n       });\r\n\r\n       mapDeferred.addCallback(function (response) {\r\n\r\n\t\t document.title = configOptions.title|| response.itemInfo.item.title || \"\";\r\n         dojo.byId(\"title\").innerHTML = configOptions.title ||response.itemInfo.item.title;\r\n         dojo.byId(\"subtitle\").innerHTML = configOptions.subtitle|| response.itemInfo.item.snippet || \"\";\r\n\r\n         map = response.map;\r\n\r\n\t\t dojo.connect(map,\"onUpdateEnd\",hideLoader);\r\n\t\t dojo.connect(map,\"onClick\",function(event){\r\n\t\t\t mapPoint = event.mapPoint;\r\n\t\t });\r\n\t\t dojo.connect(popup,\"onSetFeatures\",function(){\r\n\t\t\t if (setFeatures == true){\r\n\t\t\t\t var selectedFeatures = [];\r\n\t\t\t\t dojo.forEach(popup.features,function(lyr,i){\r\n\t\t\t\t\t if(lyr.geometry.type == 'polygon'){\r\n\t\t\t\t\t\t if (lyr.geometry.contains(mapPoint) == true){\r\n\t\t\t\t\t\t\t selectedFeatures.push(lyr);\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }\r\n\t\t\t\t });\r\n\t\t\t\t setFeatures = false;\r\n\t\t\t\t popup.setFeatures(selectedFeatures);\r\n\t\t\t }\r\n\t\t\t else{\r\n\t\t\t\t setFeatures = true;\r\n\t\t\t }\r\n\t\t });\r\n\r\n         layers = response.itemInfo.itemData.operationalLayers;\r\n\r\n         if(map.loaded){\r\n           initUI(layers);\r\n\t\t   populateLayerList();\r\n\t\t   if(configOptions.showLegend == false){\r\n\t\t\t   $(\"#legendToggle\").hide();\r\n\t\t   }\r\n         }\r\n         else{\r\n           dojo.connect(map,\"onLoad\",function(){\r\n             initUI(layers);\r\n\t\t\t populateLayerList();\r\n\t\t\t if(configOptions.showLegend == false){\r\n\t\t\t   $(\"#legendToggle\").hide();\r\n\t\t   \t }\r\n           });\r\n         }\r\n         //resize the map when the browser resizes\r\n         dojo.connect(dijit.byId('map'), 'resize', map,map.resize);\r\n       });\r\n\r\n       mapDeferred.addErrback(function (error) {\r\n         alert(\"Unable to create map: \" + \" \" + dojo.toJson(error.message));\r\n       });\r\n\r\n     }\r\n\r\n\r\n     function initUI(layers) {\r\n       //add chrome theme for popup\r\n       dojo.addClass(map.infoWindow.domNode, \"chrome\");\r\n       //add the scalebar\r\n       var scalebar = new esri.dijit.Scalebar({\r\n         map: map,\r\n         scalebarUnit:i18n.viewer.main.scaleBarUnits //metric or english\r\n       });\r\n\r\n       var layerInfo = buildLayersList(layers);\r\n\r\n       if(layerInfo.length > 0){\r\n         var legendDijit = new esri.dijit.Legend({\r\n           map:map,\r\n           layerInfos:layerInfo\r\n         },\"legendDiv\");\r\n         legendDijit.startup();\r\n       }\r\n       else{\r\n         $(\"#legendToggle\").hide();\r\n       }\r\n     }\r\n\r\n//build a list of layers to dispaly in the legend\r\n  function buildLayersList(layers){\r\n\r\n //layers  arg is  response.itemInfo.itemData.operationalLayers;\r\n  var layerInfos = [];\r\n  dojo.forEach(layers, function (mapLayer, index) {\r\n      var layerInfo = {};\r\n      if (mapLayer.featureCollection && mapLayer.type !== \"CSV\") {\r\n        if (mapLayer.featureCollection.showLegend === true) {\r\n            dojo.forEach(mapLayer.featureCollection.layers, function (fcMapLayer) {\r\n              if (fcMapLayer.showLegend !== false) {\r\n                  layerInfo = {\r\n                      \"layer\": fcMapLayer.layerObject,\r\n                      \"title\": mapLayer.title,\r\n                      \"defaultSymbol\": false\r\n                  };\r\n                  if (mapLayer.featureCollection.layers.length > 1) {\r\n                      layerInfo.title += \" - \" + fcMapLayer.layerDefinition.name;\r\n                  }\r\n                  layerInfos.push(layerInfo);\r\n              }\r\n            });\r\n          }\r\n      } else if (mapLayer.showLegend !== false && mapLayer.layerObject) {\r\n      var showDefaultSymbol = false;\r\n      if (mapLayer.layerObject.version < 10.1 && (mapLayer.layerObject instanceof esri.layers.ArcGISDynamicMapServiceLayer || mapLayer.layerObject instanceof esri.layers.ArcGISTiledMapServiceLayer)) {\r\n        showDefaultSymbol = true;\r\n      }\r\n      layerInfo = {\r\n        \"layer\": mapLayer.layerObject,\r\n        \"title\": mapLayer.title,\r\n        \"defaultSymbol\": showDefaultSymbol\r\n      };\r\n        //does it have layers too? If so check to see if showLegend is false\r\n        if (mapLayer.layers) {\r\n            var hideLayers = dojo.map(dojo.filter(mapLayer.layers, function (lyr) {\r\n                return (lyr.showLegend === false);\r\n            }), function (lyr) {\r\n                return lyr.id;\r\n            });\r\n            if (hideLayers.length) {\r\n                layerInfo.hideLayers = hideLayers;\r\n            }\r\n        }\r\n        layerInfos.push(layerInfo);\r\n    }\r\n  });\r\n  return layerInfos;\r\n  }\r\n\r\n     function patchID() {  //patch id manager for use in apps.arcgis.com\r\n       esri.id._isIdProvider = function(server, resource) {\r\n       // server and resource are assumed one of portal domains\r\n\r\n       var i = -1, j = -1;\r\n\r\n       dojo.forEach(this._gwDomains, function(domain, idx) {\r\n         if (i === -1 && domain.regex.test(server)) {\r\n           i = idx;\r\n         }\r\n         if (j === -1 && domain.regex.test(resource)) {\r\n           j = idx;\r\n         }\r\n       });\r\n\r\n       var retVal = false;\r\n\r\n       if (i > -1 && j > -1) {\r\n         if (i === 0 || i === 4) {\r\n           if (j === 0 || j === 4) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 1) {\r\n           if (j === 1 || j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 2) {\r\n           if (j === 2) {\r\n             retVal = true;\r\n           }\r\n         }\r\n         else if (i === 3) {\r\n           if (j === 3) {\r\n             retVal = true;\r\n           }\r\n         }\r\n       }\r\n\r\n       return retVal;\r\n     };\r\n    }\r\n\r\n\tfunction hideLoader(){\r\n\t  if (mapLoaded == false){\r\n\t\tmapLoaded = true;\r\n\t\t$(\"#loadingCon\").hide();\r\n\t\t$(\"#swipeImg\").css('left',((map.width/2)-80));\r\n\t\t$(\"#swipeImg\").css('top',((map.height/2)-50));\r\n\t\t$(\"#swipeImg\").show();\r\n\t  }\r\n\t}\r\n\r\n\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });\r\n\r\n\t//Swipe Control\r\n\tfunction populateLayerList(){\r\n\t  var select = dojo.byId(\"layerlistdd\");\r\n\t  if (map.graphics.graphics.length > 0) {\r\n\t\tselect.options[select.options.length] = new Option(\"Graphics Layer\", map.graphics.id,\"selected\");\r\n\t  }\r\n\t  //reverse to get the correct order of layers added to map\r\n\t  var layerids = dojo.clone(map.layerIds).reverse();\r\n\t  dojo.forEach(layerids, function(id, index){\r\n\t\tselect.options[select.options.length] = new Option(id, id);\r\n\t  });\r\n\t  select.disabled= false;\r\n\t  startswipe();\r\n\t}\r\n\r\n\tfunction initswipe() {\r\n      chooseLayer = configOptions.chooseSwipeLevel;\r\n\t  swipelayerid = dojo.byId(\"layerlistdd\")[chooseLayer].value;\r\n      clipval = map.width;\r\n      swipediv = null;\r\n      if (swipelayerid == map.graphics.id) {\r\n        //console.log(\"Graphics layer\");\r\n        //map.graphics._div.parent.rawNode.id\r\n        swipediv = dojo.byId(map.container.id + \"_gc\");\r\n      }\r\n      else {\r\n        var layer = map.getLayer(swipelayerid);\r\n        //console.log(layer);\r\n        if (layer == null || layer == undefined) {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n        swipediv = layer._div;\r\n\t  }\r\n      if (swipediv === undefined) {\r\n        alert(i18n.viewer.errors.undfnd);\r\n        return;\r\n      }\r\n\t  if (swipediv.style === undefined) {\r\n\t\talert(i18n.viewer.errors.noStyle);\r\n\t\treturn;\r\n\t  }\r\n      //console.log(\"Swipe ready to use on layer: \" + swipelayerid);\r\n    }\r\n\r\n    function startswipe(){\r\n      //map.hideZoomSlider();\r\n      //console.log(\"Swipe tool initializing ...\");\r\n\r\n      initswipe();\r\n\r\n      if (swipeslider != undefined || swipeslider != null) {\r\n        //console.log(\"swipe slider is visible? should not happen\");\r\n        //console.log(swipeslider);\r\n\t  }\r\n\r\n\t  //swipelayerid = dojo.byId(\"layerlistdd\").value;\r\n\t  //dojo.byId(\"layerlistdd\").disabled = true;\r\n\r\n\t  if (swipelayerid === undefined || swipelayerid == \"\") {\r\n        alert(i18n.viewer.errors.notDefined);\r\n        return;\r\n      }\r\n      swipeslider = new dnd.move.parentConstrainedMoveable(\"sliderdiv\", {\r\n        area: \"content\",\r\n        within: true\r\n      });\r\n\r\n      swipeslider.node.style.height = map.height + \"px\";\r\n      swipeslider.node.style.top = \"0px\";\r\n      swipeslider.node.style.left = ((map.width/2)-4) + \"px\";\r\n\t  if (iPad == true){\r\n\t\tswipeslider.node.style.left = ((map.width/2)-7) + \"px\";\r\n\t  }\r\n      clipval = ((map.width/2)-4);\r\n\r\n      //Just a check, should not call this function here\r\n        if (swipediv != null)\r\n        clearClip();\r\n\r\n        //console.log(\"Swipe layer: \" + swipelayerid);\r\n\r\n        if (swipelayerid == null || swipelayerid == \"\") {\r\n          alert(i18n.viewer.errors.notDefined);\r\n          return;\r\n        }\r\n\r\n        cliplayer(swipelayerid);\r\n      }\r\n\r\n      function cliplayer(layerid){\r\n        //Initial swipe slider location\r\n        swipe(dojo.byId(\"sliderdiv\").style.left);\r\n\r\n        //Make the slider visible\r\n        dojo.byId(\"sliderdiv\").style.display = \"\";\r\n\r\n        dojo.connect(swipeslider, \"onMoveStart\", function(args){\r\n        //console.log(\"move start\");\r\n        //this.node.style.opacity = \"0.5\";\r\n        //dojo._setOpacity(this.node, 0.5);\r\n\t\t$(\"#sliderdiv\").fadeTo(\"fast\",\"0.5\");\r\n\t\t$(\"#swipeImg\").fadeOut();\r\n\r\n      });\r\n      swipeconnect = dojo.connect(swipeslider, 'onMove', function(args){\r\n        this.node.style.top = \"0px\"; //needed to avoid offset\r\n        var left = parseInt(this.node.style.left);\r\n        //console.log(left + \", \" + (map.width));\r\n        if (left <=0 || left >= (map.width)) return;\r\n          clipval = this.node.style.left;\r\n          swipe(clipval);\r\n        });\r\n        dojo.connect(swipeslider, \"onMoveStop\", function(args){\r\n          //console.log(\"move stop event\");\r\n          //this.node.style.opacity = \"1.0\";\r\n          //dojo._setOpacity(this.node, 1.0);\r\n\t\t  $(\"#sliderdiv\").fadeTo(\"fast\",\"1.5\");\r\n        });\r\n        panEndConnect = dojo.connect(map, 'onPanEnd', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          panConnect = dojo.connect(map, 'onPan', function(args){\r\n          //console.log(\"pan end event - refreshing swipe position\");\r\n          swipe(clipval);\r\n        });\r\n      }\r\n    }\r\n\r\n    function clearClip(){\r\n      //console.log(\"Clearing clip\");\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n      }\r\n    }\r\n\r\n    function swipe(val){\r\n      if (swipediv != null) {\r\n        offset_left = parseFloat(swipediv.style.left);\r\n        offset_top = parseFloat(swipediv.style.top);\r\n\r\n        //console.log(\"Val: \" + val);\r\n\r\n        var rightval, leftval, topval, bottomval;\r\n\r\n        if (offset_left > 0) {\r\n          rightval = parseFloat(val) - Math.abs(offset_left);\r\n          leftval = -(offset_left);\r\n        }\r\n        else\r\n        if (offset_left < 0) {\r\n          leftval = 0;\r\n          rightval = parseFloat(val) + Math.abs(offset_left);\r\n        }\r\n        else {\r\n          leftval = 0;\r\n          rightval = parseFloat(val);\r\n        }\r\n        if (offset_top > 0) {\r\n          topval = -(offset_top);\r\n          bottomval = map.height - offset_top;\r\n\t\t}\r\n        else\r\n        if (offset_top < 0) {\r\n          topval = 0;\r\n          bottomval = map.height + Math.abs(offset_top);\r\n        }\r\n        else {\r\n          topval = 0;\r\n          bottomval = map.height;\r\n        }\r\n\r\n        // If CSS Transformation is applied to the layer (i.e. swipediv),\r\n        // record the amount of translation and adjust clip rect\r\n        // accordingly\r\n        var tx = 0, ty = 0;\r\n        if (map.navigationMode === \"css-transforms\") {\r\n          var prefix = \"\";\r\n          if (dojo.isWebKit) {\r\n            prefix = \"-webkit-\";\r\n          }\r\n          if (dojo.isFF) {\r\n            prefix = \"-moz-\";\r\n          }\r\n          if (dojo.isIE) {\r\n            prefix = \"-ms-\";\r\n          }\r\n          if (dojo.isOpera) {\r\n            prefix = \"-o-\";\r\n          }\r\n\r\n          var transformValue = swipediv.style.getPropertyValue(prefix + \"transform\");\r\n\r\n          if(transformValue) {\r\n\t\t\tif(transformValue.toLowerCase().indexOf(\"translate3d\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate3d(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\t\t\telse if(transformValue.toLowerCase().indexOf(\"translate\") !== -1) {\r\n\t\t\t  transformValue = transformValue.replace(\"translate(\", \"\").replace(\")\", \"\").replace(/px/ig, \"\").replace(/\\s/i, \"\").split(\",\");\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(transformValue);\r\n\r\n\t\t\ttry {\r\n\t\t\t  tx = parseFloat(transformValue[0]);\r\n\t\t\t  ty = parseFloat(transformValue[1]);\r\n\t\t\t} catch(e) {\r\n\t\t\t  alert(\"Error cannot continue\");\r\n\t\t\t  console.error(e);\r\n\t\t\t}\r\n\r\n            //console.log(\"transform = \", tx, ty);\r\n            leftval -= tx;\r\n            rightval -= tx;\r\n            topval -= ty;\r\n            bottomval -= ty;\r\n          }\r\n        }\r\n\r\n        //Syntax for clip \"rect(top,right,bottom,left)\"\r\n        //var clipstring = \"rect(0px \" + val + \"px \" + map.height + \"px \" + \" 0px)\";\r\n        var clipstring = \"rect(\" + topval + \"px \" + rightval + \"px \" + bottomval + \"px \" + leftval + \"px)\";\r\n        //console.log(\"New Clip string(T,R,B,L): \" + clipstring);\r\n        swipediv.style.clip = clipstring;\r\n      }\r\n\t}\r\n\r\n    //This is called when \"Stop Swipe\" button is clicked\r\n    function stopswipe(){\r\n      map.showZoomSlider();\r\n      //console.log(\"Swipe tool disabled!\");\r\n      swipeslider = null;\r\n      //dojo.byId(\"layerlistdd\").disabled = false;\r\n      dojo.byId(\"sliderdiv\").style.display = \"none\";\r\n      if (swipeconnect)\r\n      dojo.disconnect(swipeconnect);\r\n      if (panEndConnect)\r\n      dojo.disconnect(panEndConnect);\r\n      if (panConnect)\r\n      dojo.disconnect(panConnect);\r\n      clearInterval(animtimer);\r\n      clearInterval(flashtimer);\r\n      if (swipediv != null) {\r\n        swipediv.style.clip = dojo.isIE ? \"rect(auto auto auto auto)\" : \"\";\r\n        swipediv = null;\r\n      }\r\n\t}\r\n"]],"start1":0,"start2":0,"length1":0,"length2":17926}]],"length":17926}
{"contributors":[],"silentsave":true,"ts":1352134826442,"patch":[[{"diffs":[[0,"\t\t\t   $(\"#legend"],[-1,"Toggle"],[1,"Con"],[0,"\").hide();\r\n\t\t  "]],"start1":4884,"start2":4884,"length1":38,"length2":35}]],"length":17923,"saved":false}
{"ts":1352134827981,"patch":[[{"diffs":[[0,"\t\t\t   $(\"#legend"],[-1,"Toggle"],[1,"Con"],[0,"\").hide();\r\n\t\t  "]],"start1":5101,"start2":5101,"length1":38,"length2":35}]],"length":17920,"saved":false}
{"ts":1352134863899,"patch":[[{"diffs":[[0,"nfigOptions."],[-1,"showL"],[1,"legend === \"false\" || configOptions.l"],[0,"egend =="],[1,"="],[0," false){\r\n\t\t"]],"start1":4849,"start2":4849,"length1":37,"length2":70}]],"length":17953,"saved":false}
{"ts":1352134866350,"patch":[[{"diffs":[[0,"Options."],[-1,"showL"],[1,"legend === \"false\" || configOptions.l"],[0,"egend =="],[1,"="],[0," false){"]],"start1":5103,"start2":5103,"length1":29,"length2":62}]],"length":17986,"saved":false}
{"ts":1352136376457,"patch":[[{"diffs":[[0,"  configOptions."],[1,"sub"],[0,"title = urlObjec"]],"start1":1956,"start2":1956,"length1":32,"length2":35}]],"length":17989,"saved":false}
{"ts":1352136448722,"patch":[[{"diffs":[[0,"uery.subtitle;\r\n"],[1,"       }       \r\n       if(urlObject.query.swipe){\r\n         configOptions.chooseSwipeLevel = urlObject.query.swipe;\r\n"],[0,"       }\r\n      "]],"start1":1994,"start2":1994,"length1":32,"length2":150}]],"length":18107,"saved":false}
{"ts":1352136724830,"patch":[[{"diffs":[[0,"map;\r\n       }\r\n"],[1,"       if(urlObject.query.legend){\r\n         configOptions.showLegend = urlObject.query.legend;\r\n       }\r\n"],[0,"       if(urlObj"]],"start1":2225,"start2":2225,"length1":32,"length2":139}]],"length":18214,"saved":false}
{"ts":1352136790147,"patch":[[{"diffs":[[0,"wipe;}\r\n"],[1,"        \t   if(response.values.webmap !== undefined){configOptions.webmap = response.values.webmap;}\r\n\r\n"],[0,"\r\n\t\t\t   "]],"start1":3306,"start2":3306,"length1":16,"length2":120}]],"length":18318,"saved":false}
{"ts":1352136791221,"patch":[[{"diffs":[[0,"ap;}\r\n\r\n"],[-1,"\r\n"],[0,"\t\t\t   cr"]],"start1":3410,"start2":3410,"length1":18,"length2":16}]],"length":18316,"saved":false}
{"ts":1352136791716,"patch":[[{"diffs":[[0,"       }"],[-1,"       "],[0,"\r\n      "]],"start1":2010,"start2":2010,"length1":23,"length2":16}]],"length":18309,"saved":false}
{"ts":1352137132895,"patch":[[{"diffs":[[0,"f(configOptions."],[-1,"l"],[1,"showL"],[0,"egend === \"false"]],"start1":5168,"start2":5168,"length1":33,"length2":37}]],"length":18313,"saved":false}
{"ts":1352137134124,"patch":[[{"diffs":[[0,"| configOptions."],[-1,"l"],[1,"showL"],[0,"egend === false)"]],"start1":5208,"start2":5208,"length1":33,"length2":37}]],"length":18317,"saved":false}
{"ts":1352137135216,"patch":[[{"diffs":[[0,"f(configOptions."],[-1,"l"],[1,"showL"],[0,"egend === \"false"]],"start1":5426,"start2":5426,"length1":33,"length2":37}]],"length":18321,"saved":false}
{"ts":1352137137991,"patch":[[{"diffs":[[0,"Options."],[-1,"l"],[1,"showL"],[0,"egend =="]],"start1":5474,"start2":5474,"length1":17,"length2":21}]],"length":18325,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352308609462,"patch":[[{"diffs":[[0,"der: true,\r\n"],[1,"           sliderStyle:\"small\",\r\n"],[0,"           n"]],"start1":3852,"start2":3852,"length1":24,"length2":57}]],"length":18358,"saved":false}
{"ts":1352320420936,"patch":[[{"diffs":[[0,"ojo."],[-1,"require(\"esri.map"],[1,"provide(\"utilities.layout"],[0,"\");\r\n"],[1,"\r\n"],[0,"  do"]],"start1":3,"start2":3,"length1":30,"length2":40},{"diffs":[[0,"e(\"esri."],[-1,"dijit.Legend"],[1,"map"],[0,"\");\r\n  d"]],"start1":52,"start2":52,"length1":28,"length2":19},{"diffs":[[0,"e(\"esri."],[-1,"dijit.Scalebar"],[1,"layout"],[0,"\");\r\n  d"]],"start1":81,"start2":81,"length1":30,"length2":22},{"diffs":[[0,"e(\"esri."],[-1,"arcgis.util"],[1,"widget"],[0,"s\");\r\n  "]],"start1":113,"start2":113,"length1":27,"length2":22},{"diffs":[[0,"sri."],[-1,"IdentityManager\");\r\n  dojo.require(\"dijit.dijit\");\r\n  dojo.require(\"dijit.layout.BorderContainer\");\r\n  dojo.require(\"dijit.layout.ContentPane\");\r\n  dojo.require(\"dijit.layout.StackContainer\");\r\n  dojo.require(\"esri.dijit.Popup\");\r\n  dojo.require(\"dojo.dnd.move\");\r\n"],[1,"arcgis.utils\");\r\n  dojo.requireLocalization(\"esriTemplate\",\"template\");\r\n\r\n  utilities.layout = {};\r\n  dojo.mixin(utilities.layout,{"],[0,"\r\n\r\n"]],"start1":150,"start2":150,"length1":273,"length2":140},{"diffs":[[0,"    "],[-1,"var"],[0," map"],[-1,", urlObject, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top,"],[1,":null,\r\n      urlObject:null,\r\n      chooseLayer:null,\r\n      swipeslider:null,\r\n      swipediv:null,\r\n      clipval:null,\r\n      offset_left:null,\r\n      offset_top:null,\r\n     "],[0," swi"]],"start1":291,"start2":291,"length1":97,"length2":190},{"diffs":[[0,"erid"],[-1,"="],[1,":"],[0,"\"\","],[1,"\r\n     "],[0," swi"]],"start1":486,"start2":486,"length1":12,"length2":19},{"diffs":[[0,"nect"],[-1,"="],[1,":"],[0,"null,"],[1,"\r\n     "],[0," map"]],"start1":510,"start2":510,"length1":14,"length2":21},{"diffs":[[0,"oint"],[-1,", layers,"],[1,":null,\r\n      layers:null,\r\n     "],[0," set"]],"start1":532,"start2":532,"length1":17,"length2":41},{"diffs":[[0,"ures"],[-1," = "],[1,":"],[0,"true"],[-1,";"],[1,","],[0,"\r\n     "],[-1,"var"],[0," map"]],"start1":577,"start2":577,"length1":26,"length2":21},{"diffs":[[0,"aded"],[-1," = false;\r\n\r\n\t function initMap() {\r\n       patchID();"],[1,":false,\r\n\r\n      initMap:function() {\r\n       this.patchID();\r\n\r\n       dojo.some([\"ar\",\"he\"], function(l){\r\n         if(dojo.locale.indexOf(l) !== -1){\r\n           configOptions.isRightToLeft = true;\r\n           return true;\r\n         }\r\n       });\r\n       var dirNode = document.getElementsByTagName(\"html\")[0];\r\n       if(configOptions.isRightToLeft){\r\n         dirNode.setAttribute(\"dir\",\"rtl\");\r\n         dojo.addClass( dirNode,\"esriRtl\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"rtl\");\r\n       }else{\r\n         dirNode.setAttribute(\"dir\",\"ltr\");\r\n         dojo.addClass(dirNode,\"esriLtr\");\r\n         //Page Specific\r\n         dojo.attr(dojo.byId(\"legendCon\"),\"dir\",\"ltr\");\r\n       }"],[0,"\r\n\r\n"]],"start1":600,"start2":600,"length1":62,"length2":732},{"diffs":[[0,"   }\r\n\r\n"],[-1,"\t"],[1,"    "],[0,"   esri."]],"start1":3104,"start2":3104,"length1":17,"length2":20},{"diffs":[[0,"url;\r\n\r\n"],[-1,"\t"],[1,"    "],[0,"   //is "]],"start1":3170,"start2":3170,"length1":17,"length2":20},{"diffs":[[0,";}\r\n    "],[-1,"    "],[1,"\t"],[0,"\t   if(r"]],"start1":3960,"start2":3960,"length1":20,"length2":17},{"diffs":[[0,"\r\n\t\t\t   "],[1,"utilities.layout."],[0,"createMa"]],"start1":4063,"start2":4063,"length1":16,"length2":33},{"diffs":[[0,"se{\r\n\t\t\t"],[1,"utilities.layout."],[0,"createMa"]],"start1":4255,"start2":4255,"length1":16,"length2":33},{"diffs":[[0,"\n\t }"],[1,","],[0,"\r\n\r\n"],[-1,"function"],[1,"    "],[0," cre"]],"start1":4299,"start2":4299,"length1":20,"length2":17},{"diffs":[[0,"reateMap"],[1,":function"],[0,"(){\r\n"],[-1,"\t"],[1,"    "],[0,"  var po"]],"start1":4314,"start2":4314,"length1":22,"length2":34},{"diffs":[[0,"ateEnd\","],[1,"utilities.layout."],[0,"hideLoad"]],"start1":5174,"start2":5174,"length1":16,"length2":33},{"diffs":[[0,"){\r\n\t\t\t "],[1,"utilities.layout."],[0,"mapPoint"]],"start1":5257,"start2":5257,"length1":16,"length2":33},{"diffs":[[0,"\t\t\t if ("],[-1,""],[0,""],[1,"utilities.layout."],[0,"setFeatu"]],"start1":5369,"start2":5369,"length1":16,"length2":33},{"diffs":[[0,"ontains("],[-1,""],[0,""],[1,"utilities.layout."],[0,"mapPoint"]],"start1":5569,"start2":5569,"length1":16,"length2":33},{"diffs":[[0,"\t });\r\n\t\t\t\t "],[-1,""],[0,""],[1,"utilities.layout."],[0,"setFeatures "]],"start1":5674,"start2":5674,"length1":24,"length2":41},{"diffs":[[0,"{\r\n\t\t\t\t "],[1,"utilities.layout."],[0,"setFeatu"]],"start1":5783,"start2":5783,"length1":16,"length2":33},{"diffs":[[0,"\n\r\n         "],[1,"utilities.layout."],[0,"layers = res"]],"start1":5843,"start2":5843,"length1":24,"length2":41},{"diffs":[[0,"    "],[-1,"initUI(layers);\r\n\t\t   "],[1,"utilities.layout.initUI(utilities.layout.layers);\r\n\t\t   utilities.layout."],[0,"popu"]],"start1":5963,"start2":5963,"length1":30,"length2":81},{"diffs":[[0,"    "],[-1,"initUI(layers);\r\n\t\t\t "],[1,"utilities.layout.initUI(utilities.layout.layers);\r\n\t\t\t utilities.layout."],[0,"popu"]],"start1":6274,"start2":6274,"length1":29,"length2":80},{"diffs":[[0,"   }"],[-1,"\r\n"],[1,","],[0,"\r\n\r\n    "],[1," initUI:"],[0," fun"]],"start1":6805,"start2":6805,"length1":18,"length2":25},{"diffs":[[0,"function"],[-1," initUI"],[0,"(layers)"]],"start1":6827,"start2":6827,"length1":23,"length2":16},{"diffs":[[0,"rInfo = "],[-1,""],[0,""],[1,"utilities.layout."],[0,"buildLay"]],"start1":7140,"start2":7140,"length1":16,"length2":33},{"diffs":[[0,"\r\n     }"],[1,","],[0,"\r\n\r\n"],[1,"     "],[0,"//build "]],"start1":7461,"start2":7461,"length1":20,"length2":26},{"diffs":[[0,"gend\r\n  "],[-1,"function "],[0,"buildLay"]],"start1":7524,"start2":7524,"length1":25,"length2":16},{"diffs":[[0," buildLayersList"],[1,":function"],[0,"(layers){\r\n\r\n //"]],"start1":7531,"start2":7531,"length1":32,"length2":41},{"diffs":[[0,"\n  }"],[1,","],[0,"\r\n\r\n  "],[-1,"   function patchID"],[1,"patchID:function"],[0,"() {"]],"start1":9509,"start2":9509,"length1":33,"length2":31},{"diffs":[[0,";\r\n    }"],[1,","],[0,"\r\n\r\n"],[-1,"\tfunction"],[1,"   "],[0," hideLoa"]],"start1":10580,"start2":10580,"length1":29,"length2":24},{"diffs":[[0,"ader"],[1,":function"],[0,"(){\r\n"],[-1,"\t"],[1,"    "],[0,"  if ("],[1,"utilities.layout."],[0,"mapL"]],"start1":10603,"start2":10603,"length1":20,"length2":49},{"diffs":[[0,"se){\r\n\t\t"],[1,"utilities.layout."],[0,"mapLoade"]],"start1":10664,"start2":10664,"length1":16,"length2":33},{"diffs":[[0,"\r\n\t}"],[1,","],[0,"\r\n\r\n"],[-1,"\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });\r\n\r\n\t"],[1,"    "],[0,"//Sw"]],"start1":10866,"start2":10866,"length1":336,"length2":17},{"diffs":[[0,"ontrol\r\n"],[-1,"\tfunction"],[1,"   "],[0," populat"]],"start1":10888,"start2":10888,"length1":25,"length2":19},{"diffs":[[0,"ayerList"],[1,": function"],[0,"(){\r\n\t  "]],"start1":10909,"start2":10909,"length1":16,"length2":26},{"diffs":[[0,"se;\r\n\t  "],[1,"utilities.layout."],[0,"startswi"]],"start1":11385,"start2":11385,"length1":16,"length2":33},{"diffs":[[0,"\r\n\t}"],[1,","],[0,"\r\n\r\n"],[-1,"\tfunction"],[1,"   "],[0," ini"]],"start1":11423,"start2":11423,"length1":21,"length2":16},{"diffs":[[0,"nitswipe"],[1,":function"],[0,"() {\r\n  "]],"start1":11437,"start2":11437,"length1":16,"length2":25},{"diffs":[[0,"tion() {\r\n      "],[1,"utilities.layout."],[0,"chooseLayer = co"]],"start1":11450,"start2":11450,"length1":32,"length2":49},{"diffs":[[0,"Level;\r\n"],[-1,"\t"],[0,"  "],[1,"    utilities.layout."],[0,"swipelay"]],"start1":11522,"start2":11522,"length1":19,"length2":39},{"diffs":[[0,"istdd\")["],[1,"utilities.layout."],[0,"chooseLa"]],"start1":11585,"start2":11585,"length1":16,"length2":33},{"diffs":[[0,"    "],[-1,"clipval = map.width;\r\n      "],[1,"utilities.layout."],[0,"swip"]],"start1":11633,"start2":11633,"length1":36,"length2":25},{"diffs":[[0,"ull;\r\n      if ("],[1,"utilities.layout."],[0,"swipelayerid == "]],"start1":11666,"start2":11666,"length1":32,"length2":49},{"diffs":[[0,"ode.id\r\n        "],[1,"utilities.layout."],[0,"swipediv = dojo."]],"start1":11816,"start2":11816,"length1":32,"length2":49},{"diffs":[[0,"ap.getLayer("],[1,"utilities.layout."],[0,"swipelayerid"]],"start1":11942,"start2":11942,"length1":24,"length2":41},{"diffs":[[0,"     }\r\n        "],[1,"utilities.layout."],[0,"swipediv = layer"]],"start1":12141,"start2":12141,"length1":32,"length2":49},{"diffs":[[0,"\t  }\r\n      if ("],[1,"utilities.layout."],[0,"swipediv === und"]],"start1":12198,"start2":12198,"length1":32,"length2":49},{"diffs":[[0,"  }\r\n\t  if ("],[-1,""],[0,""],[1,"utilities.layout."],[0,"swipediv.sty"]],"start1":12322,"start2":12322,"length1":24,"length2":41},{"diffs":[[0,";\r\n    }"],[1,","],[0,"\r\n\r\n    "],[-1,"function "],[0,"startswi"]],"start1":12506,"start2":12506,"length1":33,"length2":25},{"diffs":[[0,"  startswipe"],[1,":function"],[0,"(){\r\n      /"]],"start1":12521,"start2":12521,"length1":24,"length2":33},{"diffs":[[0,");\r\n\r\n      "],[1,"utilities.layout."],[0,"initswipe();"]],"start1":12627,"start2":12627,"length1":24,"length2":41},{"diffs":[[0,"\r\n      if ("],[1,"utilities.layout."],[0,"swipeslider "]],"start1":12670,"start2":12670,"length1":24,"length2":41},{"diffs":[[0,"ndefined || "],[1,"utilities.layout."],[0,"swipeslider "]],"start1":12715,"start2":12715,"length1":24,"length2":41},{"diffs":[[0,"peslider);\r\n"],[-1,"\t"],[1,"    "],[0,"  }\r\n\r\n\t  //"]],"start1":12863,"start2":12863,"length1":25,"length2":28},{"diffs":[[0,";\r\n\r\n\t  if ("],[1,"utilities.layout."],[0,"swipelayerid"]],"start1":12984,"start2":12984,"length1":24,"length2":41},{"diffs":[[0,"ndefined || "],[1,"utilities.layout."],[0,"swipelayerid"]],"start1":13031,"start2":13031,"length1":24,"length2":41},{"diffs":[[0,"\n      }\r\n      "],[1,"utilities.layout."],[0,"swipeslider = ne"]],"start1":13146,"start2":13146,"length1":32,"length2":49},{"diffs":[[0,"   });\r\n\r\n      "],[1,"utilities.layout."],[0,"swipeslider.node"]],"start1":13299,"start2":13299,"length1":32,"length2":49},{"diffs":[[0," + \"px\";\r\n      "],[1,"utilities.layout."],[0,"swipeslider.node"]],"start1":13374,"start2":13374,"length1":32,"length2":49},{"diffs":[[0,"= \"0px\";\r\n      "],[1,"utilities.layout."],[0,"swipeslider.node"]],"start1":13434,"start2":13434,"length1":32,"length2":49},{"diffs":[[0,"ue){\r\n\t\t"],[1,"utilities.layout."],[0,"swipesli"]],"start1":13541,"start2":13541,"length1":16,"length2":33},{"diffs":[[0,"\t  }\r\n      "],[1,"utilities.layout."],[0,"clipval = (("]],"start1":13623,"start2":13623,"length1":24,"length2":41},{"diffs":[[0,"re\r\n        if ("],[1,"utilities.layout."],[0,"swipediv != null"]],"start1":13738,"start2":13738,"length1":32,"length2":49},{"diffs":[[0,"l)\r\n        "],[1,"utilities.layout."],[0,"clearClip();"]],"start1":13786,"start2":13786,"length1":24,"length2":41},{"diffs":[[0,"        if ("],[1,"utilities.layout."],[0,"swipelayerid"]],"start1":13889,"start2":13889,"length1":24,"length2":41},{"diffs":[[0,"null || "],[1,"utilities.layout."],[0,"swipelay"]],"start1":13934,"start2":13934,"length1":16,"length2":33},{"diffs":[[0,"        "],[-1,"cliplayer("],[1,"utilities.layout.cliplayer(utilities.layout."],[0,"swipelay"]],"start1":14063,"start2":14063,"length1":26,"length2":60},{"diffs":[[0,"d);\r\n      }"],[1,","],[0,"\r\n\r\n      fu"]],"start1":14126,"start2":14126,"length1":24,"length2":25},{"diffs":[[0,"\r\n      "],[-1,"function "],[0,"cliplaye"]],"start1":14141,"start2":14141,"length1":25,"length2":16},{"diffs":[[0,"liplayer"],[1,":function"],[0,"(layerid"]],"start1":14150,"start2":14150,"length1":16,"length2":25},{"diffs":[[0,"on\r\n        "],[1,"utilities.layout."],[0,"swipe(dojo.b"]],"start1":14216,"start2":14216,"length1":24,"length2":41},{"diffs":[[0,"yle.left);\r\n"],[-1,"\r\n"],[0,"        //Ma"]],"start1":14276,"start2":14276,"length1":26,"length2":24},{"diffs":[[0,"   dojo.connect("],[-1,""],[0,""],[1,"utilities.layout."],[0,"swipeslider, \"on"]],"start1":14382,"start2":14382,"length1":32,"length2":49},{"diffs":[[0,"ode, 0.5);\r\n"],[-1,"\t"],[1,"    "],[0,"\t$(\"#sliderd"]],"start1":14575,"start2":14575,"length1":25,"length2":28},{"diffs":[[0,"     });\r\n      "],[1,"utilities.layout."],[0,"swipeconnect = d"]],"start1":14663,"start2":14663,"length1":32,"length2":49},{"diffs":[[0," = dojo.connect("],[1,"utilities.layout."],[0,"swipeslider, 'on"]],"start1":14708,"start2":14708,"length1":32,"length2":49},{"diffs":[[0,"\r\n          "],[1,"utilities.layout."],[0,"clipval = th"]],"start1":14999,"start2":14999,"length1":24,"length2":41},{"diffs":[[0,"eft;\r\n          "],[-1,"swipe("],[1,"utilities.layout.swipe(utilities.layout."],[0,"clipval);\r\n     "]],"start1":15055,"start2":15055,"length1":38,"length2":72},{"diffs":[[0,"ojo.connect("],[1,"utilities.layout."],[0,"swipeslider,"]],"start1":15144,"start2":15144,"length1":24,"length2":41},{"diffs":[[0,"n\");\r\n          "],[-1,"swipe("],[1,"utilities.layout.swipe(utilities.layout."],[0,"clipval);\r\n     "]],"start1":15547,"start2":15547,"length1":38,"length2":72},{"diffs":[[0,"        "],[-1,"swipe("],[1,"utilities.layout.swipe(utilities.layout."],[0,"clipval)"]],"start1":15825,"start2":15825,"length1":22,"length2":56},{"diffs":[[0,"}\r\n    }"],[1,","],[0,"\r\n\r\n    "],[-1,"function "],[0,"clearCli"]],"start1":15903,"start2":15903,"length1":33,"length2":25},{"diffs":[[0,"learClip"],[1,":function"],[0,"(){\r\n   "]],"start1":15921,"start2":15921,"length1":16,"length2":25},{"diffs":[[0,"p\");\r\n      if ("],[1,"utilities.layout."],[0,"swipediv != null"]],"start1":15976,"start2":15976,"length1":32,"length2":49},{"diffs":[[0,"ull) {\r\n        "],[1,"utilities.layout."],[0,"swipediv.style.c"]],"start1":16022,"start2":16022,"length1":32,"length2":49},{"diffs":[[0,"   }"],[1,","],[0,"\r\n\r\n    "],[1,"swipe:"],[0,"function"],[-1," swipe"],[0,"(val"]],"start1":16134,"start2":16134,"length1":30,"length2":31},{"diffs":[[0,"al){\r\n      if ("],[1,"utilities.layout."],[0,"swipediv != null"]],"start1":16163,"start2":16163,"length1":32,"length2":49},{"diffs":[[0," {\r\n        "],[1,"utilities.layout."],[0,"offset_left "]],"start1":16213,"start2":16213,"length1":24,"length2":41},{"diffs":[[0,"ft = parseFloat("],[1,"utilities.layout."],[0,"swipediv.style.l"]],"start1":16251,"start2":16251,"length1":32,"length2":49},{"diffs":[[0,");\r\n        "],[1,"utilities.layout."],[0,"offset_top ="]],"start1":16303,"start2":16303,"length1":24,"length2":41},{"diffs":[[0,"seFloat("],[1,"utilities.layout."],[0,"swipediv"]],"start1":16348,"start2":16348,"length1":16,"length2":33},{"diffs":[[0,"\r\n\r\n        if ("],[1,"utilities.layout."],[0,"offset_left > 0)"]],"start1":16487,"start2":16487,"length1":32,"length2":49},{"diffs":[[0,"val) - Math.abs("],[1,"utilities.layout."],[0,"offset_left);\r\n "]],"start1":16572,"start2":16572,"length1":32,"length2":49},{"diffs":[[0,"leftval = -("],[1,"utilities.layout."],[0,"offset_left)"]],"start1":16630,"start2":16630,"length1":24,"length2":41},{"diffs":[[0,"        if ("],[1,"utilities.layout."],[0,"offset_left "]],"start1":16699,"start2":16699,"length1":24,"length2":41},{"diffs":[[0," + Math.abs("],[1,"utilities.layout."],[0,"offset_left)"]],"start1":16808,"start2":16808,"length1":24,"length2":41},{"diffs":[[0," }\r\n        if ("],[1,"utilities.layout."],[0,"offset_top > 0) "]],"start1":16949,"start2":16949,"length1":32,"length2":49},{"diffs":[[0,"val = -("],[1,"utilities.layout."],[0,"offset_t"]],"start1":17014,"start2":17014,"length1":16,"length2":33},{"diffs":[[0,"eight - "],[1,"utilities.layout."],[0,"offset_t"]],"start1":17080,"start2":17080,"length1":16,"length2":33},{"diffs":[[0,"t_top;\r\n"],[-1,"\t"],[1,"    "],[0,"\t}\r\n    "]],"start1":17110,"start2":17110,"length1":17,"length2":20},{"diffs":[[0,"    if ("],[1,"utilities.layout."],[0,"offset_t"]],"start1":17144,"start2":17144,"length1":16,"length2":33},{"diffs":[[0,"ath.abs("],[1,"utilities.layout."],[0,"offset_t"]],"start1":17247,"start2":17247,"length1":16,"length2":33},{"diffs":[[0,"Value = "],[-1,""],[0,""],[1,"utilities.layout."],[0,"swipediv"]],"start1":17982,"start2":17982,"length1":16,"length2":33},{"diffs":[[0,"ring);\r\n        "],[-1,""],[0,""],[1,"utilities.layout."],[0,"swipediv.style.c"]],"start1":19239,"start2":19239,"length1":32,"length2":49},{"diffs":[[0,"   }\r\n\t}"],[-1,""],[0,""],[1,","],[0,"\r\n\r\n    "]],"start1":19310,"start2":19310,"length1":16,"length2":17},{"diffs":[[0,"ed\r\n    "],[-1,"function "],[0,"stopswip"]],"start1":19377,"start2":19377,"length1":25,"length2":16},{"diffs":[[0,"topswipe"],[1,":function"],[0,"(){\r\n   "]],"start1":19386,"start2":19386,"length1":16,"length2":25},{"diffs":[[0,"bled!\");\r\n      "],[-1,""],[0,""],[1,"utilities.layout."],[0,"swipeslider = nu"]],"start1":19473,"start2":19473,"length1":32,"length2":49},{"diffs":[[0,"\r\n      if ("],[1,"utilities.layout."],[0,"swipeconnect"]],"start1":19631,"start2":19631,"length1":24,"length2":41},{"diffs":[[0,"connect("],[1,"utilities.layout."],[0,"swipecon"]],"start1":19689,"start2":19689,"length1":16,"length2":33},{"diffs":[[0,"    if ("],[1,"utilities.layout."],[0,"swipediv"]],"start1":19923,"start2":19923,"length1":16,"length2":33},{"diffs":[[0,"ull) {\r\n        "],[1,"utilities.layout."],[0,"swipediv.style.c"]],"start1":19961,"start2":19961,"length1":32,"length2":49},{"diffs":[[0,"\";\r\n        "],[1,"utilities.layout."],[0,"swipediv = n"]],"start1":20059,"start2":20059,"length1":24,"length2":41},{"diffs":[[0,"     }\r\n"],[-1,"\t}\r\n"],[1,"    }\r\n\r\n  });\r\n\r\n\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });"]],"start1":20107,"start2":20107,"length1":12,"length2":345}]],"length":20452,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352391357842,"patch":[[{"diffs":[[0,"ert("],[-1,"\"Unable to create map: \""],[1,"i18n.viewer.errors.createMap"],[0," + \""]],"start1":6722,"start2":6722,"length1":32,"length2":36},{"diffs":[[0,"ert("],[-1,"\"Error cannot c"],[1,"i18n.viewer.errors.noC"],[0,"ontinue"],[-1,"\""],[0,");\r\n"]],"start1":18677,"start2":18677,"length1":31,"length2":37}]],"length":20462,"saved":false}
{"contributors":[],"silentsave":true,"ts":1353956540873,"patch":[[{"diffs":[[-1,"  dojo.provide(\"utilities.layout\");\r\n\r\n"],[0,"  dojo."],[1,""],[0,"requ"]],"start1":0,"start2":0,"length1":50,"length2":11},{"diffs":[[0,"uire"],[-1,"Localization(\"esriTemplate\",\"template\");\r\n\r\n  utilities.layout = {};\r\n  dojo.mixin(utilities.layout,{\r\n\r\n      map:null,\r\n      urlObject:null,\r\n      chooseLayer:null,\r\n      swipeslider:null,\r\n      swipediv:null,\r\n      clipval:null,\r\n      offset_left:null,\r\n      offset_top:null,\r\n     "],[1,"(\"esri.IdentityManager\");\r\n\r\n\r\n     var map, urlObject, i18n, chooseLayer, swipeslider, swipediv, clipval, offset_left, offset_top,"],[0," swi"]],"start1":142,"start2":142,"length1":300,"length2":139},{"diffs":[[0,"erid"],[-1,":"],[1,"="],[0,"\"\","],[-1,"\r\n     "],[0," swi"]],"start1":286,"start2":286,"length1":19,"length2":12},{"diffs":[[0,"econnect"],[-1,":"],[1,"="],[0,"null,"],[-1,"\r\n     "],[0," mapPoin"]],"start1":299,"start2":299,"length1":29,"length2":22},{"diffs":[[0,"oint"],[-1,":null,\r\n      layers:null,\r\n     "],[1,", layers,"],[0," set"]],"start1":318,"start2":318,"length1":41,"length2":17},{"diffs":[[0,"ures"],[-1,":"],[1," = "],[0,"true"],[-1,","],[1,";"],[0,"\r\n     "],[1,"var"],[0," map"]],"start1":339,"start2":339,"length1":21,"length2":26},{"diffs":[[0,"apLoaded"],[-1,":"],[1," = "],[0,"false"],[-1,","],[1,";"],[0,"\r\n\r\n    "]],"start1":363,"start2":363,"length1":23,"length2":25},{"diffs":[[0,"    "],[-1," "],[-1,"initMap:"],[0,"function"],[1," initMap"],[0,"() {"]],"start1":385,"start2":385,"length1":25,"length2":24},{"diffs":[[0,"\n       "],[-1,"this."],[0,"patchID("]],"start1":410,"start2":410,"length1":21,"length2":16},{"diffs":[[0,"\r\n\r\n"],[-1,"       //is an appid specified - if so read json from there\r\n\t  if(configOptions.appid || (urlObject.query && urlObject.query.appid)){\r\n\t\tvar appid = configOptions.appid || urlObject.query.appid;\r\n\t\tvar requestHandle = esri.request({\r\n\t\t  url: configOptions.sharingurl + \"/\" + appid + \"/data\",\r\n\t\t  content: {f:\"json\"},\r\n\t\t  callbackParamName:\"callback\",\r\n\t\t  load: function(response){\r\n\t\t\t   if(response.values.title !== undefined){configOptions.title = response.values.title;}\r\n\t\t\t   if(response.values.subtitle !== undefined){configOptions.subtitle = response.values.subtitle;}\r\n\t\t\t   if(response.values.legend !== undefined){configOptions.showLegend = response.values.legend;}\r\n\t\t\t   if(response.values.swipe !== undefined){configOptions.chooseSwipeLevel = response.values.swipe;}\r\n    \t\t   if(response.values.webmap !== undefined){configOptions.webmap = response.values.webmap;}\r\n\r\n\t\t\t   utilities.layout.createMap();\r\n\t\t  },\r\n\t\t  error: function(response){\r\n\t\t\tvar e = response.message;\r\n\t\t   alert(i18n.viewer.errors.createMap +  response.message);\r\n\t\t  }\r\n\t\t});\r\n\t\t }else{\r\n\t\t\tutilities.layout.createMap();\r\n\t\t }\r\n\t },\r\n\r\n     createMap:function(){\r\n    "],[1,"\t"],[0,"  va"]],"start1":2937,"start2":2937,"length1":1170,"length2":9},{"diffs":[[0,"ateEnd\","],[-1,"utilities.layout."],[0,"hideLoad"]],"start1":3776,"start2":3776,"length1":33,"length2":16},{"diffs":[[0,"){\r\n\t\t\t "],[-1,"utilities.layout."],[0,"mapPoint"]],"start1":3842,"start2":3842,"length1":33,"length2":16},{"diffs":[[0,"\t\t\t if ("],[-1,"utilities.layout."],[0,""],[1,""],[0,"setFeatu"]],"start1":3937,"start2":3937,"length1":33,"length2":16},{"diffs":[[0,"ontains("],[-1,"utilities.layout."],[0,""],[1,""],[0,"mapPoint"]],"start1":4120,"start2":4120,"length1":33,"length2":16},{"diffs":[[0,";\r\n\t\t\t\t "],[-1,"utilities.layout."],[0,""],[1,""],[0,"setFeatu"]],"start1":4212,"start2":4212,"length1":33,"length2":16},{"diffs":[[0,"{\r\n\t\t\t\t "],[-1,"utilities.layout."],[0,"setFeatu"]],"start1":4300,"start2":4300,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"layers ="]],"start1":4347,"start2":4347,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout.initUI(utilities.layout.layers);\r\n\t\t   utilities.layout."],[1,"initUI(layers);\r\n\t\t   "],[0,"popu"]],"start1":4446,"start2":4446,"length1":81,"length2":30},{"diffs":[[0,"    "],[-1,"utilities.layout.initUI(utilities.layout.layers);\r\n\t\t\t utilities.layout."],[1,"initUI(layers);\r\n\t\t\t "],[0,"popu"]],"start1":4706,"start2":4706,"length1":80,"length2":29},{"diffs":[[0,"   }"],[-1,","],[1,"\r\n"],[0,"\r\n\r\n    "],[-1," initUI:"],[0," fun"]],"start1":5190,"start2":5190,"length1":25,"length2":18},{"diffs":[[0,"\n\r\n     function"],[1," initUI"],[0,"(layers) {\r\n    "]],"start1":5197,"start2":5197,"length1":32,"length2":39},{"diffs":[[0,"rInfo = "],[-1,"utilities.layout."],[0,""],[1,""],[0,"buildLay"]],"start1":5525,"start2":5525,"length1":33,"length2":16},{"diffs":[[0,"\r\n     }"],[-1,","],[0,"\r\n\r\n"],[-1,"     "],[0,"//build "]],"start1":5829,"start2":5829,"length1":26,"length2":20},{"diffs":[[0,"gend\r\n  "],[1,"function "],[0,"buildLay"]],"start1":5886,"start2":5886,"length1":16,"length2":25},{"diffs":[[0,"yersList"],[-1,":function"],[0,"(layers)"]],"start1":5910,"start2":5910,"length1":25,"length2":16},{"diffs":[[0,"\n  }"],[-1,","],[0,"\r\n\r\n  "],[-1,"patchID:function"],[1,"   function patchID"],[0,"() {"]],"start1":7871,"start2":7871,"length1":31,"length2":33},{"diffs":[[0,";\r\n    }"],[-1,","],[0,"\r\n\r\n"],[-1,"   "],[1,"\tfunction"],[0," hideLoa"]],"start1":8944,"start2":8944,"length1":24,"length2":29},{"diffs":[[0,"ader"],[-1,":function"],[0,"(){\r\n"],[-1,"    "],[1,"\t"],[0,"  if ("],[-1,"utilities.layout."],[0,"mapL"]],"start1":8972,"start2":8972,"length1":49,"length2":20},{"diffs":[[0,"se){\r\n\t\t"],[-1,"utilities.layout."],[0,"mapLoade"]],"start1":9004,"start2":9004,"length1":33,"length2":16},{"diffs":[[0,"\t  }\r\n\t}"],[-1,",\r\n\r\n    "],[1,"\r\n\r\n\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });\r\n\r\n\t"],[0,"//Swipe "]],"start1":9185,"start2":9185,"length1":25,"length2":344},{"diffs":[[0,"ontrol\r\n"],[-1,"   "],[1,"\tfunction"],[0," populat"]],"start1":9530,"start2":9530,"length1":19,"length2":25},{"diffs":[[0,"List"],[-1,": function"],[0,"(){\r"]],"start1":9561,"start2":9561,"length1":18,"length2":8},{"diffs":[[0,"se;\r\n\t  "],[-1,"utilities.layout."],[0,"startswi"]],"start1":10023,"start2":10023,"length1":33,"length2":16},{"diffs":[[0,"e();\r\n\t}"],[-1,","],[0,"\r\n\r\n"],[-1,"   "],[1,"\tfunction"],[0," initswi"]],"start1":10040,"start2":10040,"length1":24,"length2":29},{"diffs":[[0,"nitswipe"],[-1,":function"],[0,"() {\r\n  "]],"start1":10063,"start2":10063,"length1":25,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"chooseLa"]],"start1":10075,"start2":10075,"length1":33,"length2":16},{"diffs":[[0,"Level;\r\n"],[1,"\t"],[0,"  "],[-1,"    utilities.layout."],[0,"swipelay"]],"start1":10122,"start2":10122,"length1":39,"length2":19},{"diffs":[[0,"istdd\")["],[-1,"utilities.layout."],[0,"chooseLa"]],"start1":10165,"start2":10165,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[1,"clipval = map.width;\r\n      "],[0,"swipediv"]],"start1":10192,"start2":10192,"length1":33,"length2":44},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipelay"]],"start1":10248,"start2":10248,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipediv"]],"start1":10381,"start2":10381,"length1":33,"length2":16},{"diffs":[[0,"etLayer("],[-1,"utilities.layout."],[0,"swipelay"]],"start1":10486,"start2":10486,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipediv"]],"start1":10672,"start2":10672,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":10712,"start2":10712,"length1":33,"length2":16},{"diffs":[[0,"\n\t  if ("],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipediv"]],"start1":10815,"start2":10815,"length1":33,"length2":16},{"diffs":[[0,";\r\n    }"],[-1,","],[0,"\r\n\r\n    "],[1,"function "],[0,"startswi"]],"start1":10978,"start2":10978,"length1":25,"length2":33},{"diffs":[[0,"n startswipe"],[-1,":function"],[0,"(){\r\n      /"]],"start1":11001,"start2":11001,"length1":33,"length2":24},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"initswip"]],"start1":11102,"start2":11102,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11128,"start2":11128,"length1":33,"length2":16},{"diffs":[[0,"ined || "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11156,"start2":11156,"length1":33,"length2":16},{"diffs":[[0,"peslider);\r\n"],[-1,"    "],[1,"\t"],[0,"  }\r\n\r\n\t  //"]],"start1":11283,"start2":11283,"length1":28,"length2":25},{"diffs":[[0,"\n\t  if ("],[-1,"utilities.layout."],[0,"swipelay"]],"start1":11405,"start2":11405,"length1":33,"length2":16},{"diffs":[[0,"ined || "],[-1,"utilities.layout."],[0,"swipelay"]],"start1":11435,"start2":11435,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11537,"start2":11537,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11673,"start2":11673,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11731,"start2":11731,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11774,"start2":11774,"length1":33,"length2":16},{"diffs":[[0,"ue){\r\n\t\t"],[-1,"utilities.layout."],[0,"swipesli"]],"start1":11856,"start2":11856,"length1":33,"length2":16},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"clipval "]],"start1":11925,"start2":11925,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":12027,"start2":12027,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"clearCli"]],"start1":12054,"start2":12054,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipelay"]],"start1":12140,"start2":12140,"length1":33,"length2":16},{"diffs":[[0,"null || "],[-1,"utilities.layout."],[0,"swipelay"]],"start1":12164,"start2":12164,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout.cliplayer(utilities.layout."],[1,"cliplayer("],[0,"swip"]],"start1":12280,"start2":12280,"length1":52,"length2":18},{"diffs":[[0,"d);\r\n      }"],[-1,","],[0,"\r\n\r\n      cl"]],"start1":12305,"start2":12305,"length1":25,"length2":24},{"diffs":[[0," }\r\n\r\n      "],[1,"function "],[0,"cliplayer:fu"]],"start1":12315,"start2":12315,"length1":24,"length2":33},{"diffs":[[0,"liplayer"],[-1,":function"],[0,"(layerid"]],"start1":12337,"start2":12337,"length1":25,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipe(do"]],"start1":12398,"start2":12398,"length1":33,"length2":16},{"diffs":[[0,").style.left);\r\n"],[1,"\r\n"],[0,"        //Make t"]],"start1":12433,"start2":12433,"length1":32,"length2":34},{"diffs":[[0,"connect("],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipesli"]],"start1":12553,"start2":12553,"length1":33,"length2":16},{"diffs":[[0," 0.5);\r\n"],[-1,"    "],[1,"\t"],[0,"\t$(\"#sli"]],"start1":12725,"start2":12725,"length1":20,"length2":17},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,"swipecon"]],"start1":12814,"start2":12814,"length1":33,"length2":16},{"diffs":[[0,"connect("],[-1,"utilities.layout."],[0,"swipesli"]],"start1":12842,"start2":12842,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"clipval "]],"start1":13112,"start2":13112,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout.swipe(utilities.layout."],[1,"swipe("],[0,"clip"]],"start1":13159,"start2":13159,"length1":48,"length2":14},{"diffs":[[0,"connect("],[-1,"utilities.layout."],[0,"swipesli"]],"start1":13206,"start2":13206,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout.swipe(utilities.layout."],[1,"swipe("],[0,"clip"]],"start1":13600,"start2":13600,"length1":48,"length2":14},{"diffs":[[0,"    "],[-1,"utilities.layout.swipe(utilities.layout."],[1,"swipe("],[0,"clip"]],"start1":13836,"start2":13836,"length1":48,"length2":14},{"diffs":[[0,"}\r\n    }"],[-1,","],[0,"\r\n\r\n    "],[1,"function "],[0,"clearCli"]],"start1":13876,"start2":13876,"length1":25,"length2":33},{"diffs":[[0,"learClip"],[-1,":function"],[0,"(){\r\n   "]],"start1":13902,"start2":13902,"length1":25,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":13956,"start2":13956,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipediv"]],"start1":13985,"start2":13985,"length1":33,"length2":16},{"diffs":[[0,"   }"],[-1,","],[0,"\r\n\r\n    "],[-1,"swipe:"],[0,"function"],[1," swipe"],[0,"(val"]],"start1":14072,"start2":14072,"length1":31,"length2":30},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":14108,"start2":14108,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14137,"start2":14137,"length1":33,"length2":16},{"diffs":[[0,"seFloat("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":14162,"start2":14162,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"offset_t"]],"start1":14193,"start2":14193,"length1":33,"length2":16},{"diffs":[[0,"seFloat("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":14217,"start2":14217,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14347,"start2":14347,"length1":33,"length2":16},{"diffs":[[0,"ath.abs("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14415,"start2":14415,"length1":33,"length2":16},{"diffs":[[0,"val = -("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14452,"start2":14452,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14504,"start2":14504,"length1":33,"length2":16},{"diffs":[[0,"ath.abs("],[-1,"utilities.layout."],[0,"offset_l"]],"start1":14596,"start2":14596,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"offset_t"]],"start1":14724,"start2":14724,"length1":33,"length2":16},{"diffs":[[0,"val = -("],[-1,"utilities.layout."],[0,"offset_t"]],"start1":14764,"start2":14764,"length1":33,"length2":16},{"diffs":[[0,"eight - "],[-1,"utilities.layout."],[0,"offset_t"]],"start1":14813,"start2":14813,"length1":33,"length2":16},{"diffs":[[0,"t_top;\r\n"],[-1,"    "],[1,"\t"],[0,"\t}\r\n    "]],"start1":14826,"start2":14826,"length1":20,"length2":17},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"offset_t"]],"start1":14857,"start2":14857,"length1":33,"length2":16},{"diffs":[[0,"ath.abs("],[-1,"utilities.layout."],[0,"offset_t"]],"start1":14943,"start2":14943,"length1":33,"length2":16},{"diffs":[[0,"Value = "],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipediv"]],"start1":15661,"start2":15661,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipediv"]],"start1":16915,"start2":16915,"length1":33,"length2":16},{"diffs":[[0,"   }\r\n\t}"],[-1,","],[0,""],[1,""],[0,"\r\n\r\n    "]],"start1":16961,"start2":16961,"length1":17,"length2":16},{"diffs":[[0,"ed\r\n    "],[1,"function "],[0,"stopswip"]],"start1":17027,"start2":17027,"length1":16,"length2":25},{"diffs":[[0,"wipe"],[-1,":function"],[0,"(){\r"]],"start1":17049,"start2":17049,"length1":17,"length2":8},{"diffs":[[0,"\r\n      "],[-1,"utilities.layout."],[0,""],[1,""],[0,"swipesli"]],"start1":17131,"start2":17131,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipecon"]],"start1":17268,"start2":17268,"length1":33,"length2":16},{"diffs":[[0,"connect("],[-1,"utilities.layout."],[0,"swipecon"]],"start1":17305,"start2":17305,"length1":33,"length2":16},{"diffs":[[0,"    if ("],[-1,"utilities.layout."],[0,"swipediv"]],"start1":17522,"start2":17522,"length1":33,"length2":16},{"diffs":[[0,"        "],[-1,"utilities.layout."],[0,"swipediv"]],"start1":17551,"start2":17551,"length1":33,"length2":16},{"diffs":[[0,"    "],[-1,"utilities.layout."],[0,"swip"]],"start1":17632,"start2":17632,"length1":25,"length2":8},{"diffs":[[0," }\r\n"],[-1,"    }\r\n\r\n  });\r\n\r\n\t//Jquery Layout\r\n\t$(document).ready(function(e) {\r\n\t  $(\"#legendToggle\").click(function(){\r\n\t\tif ($(\"#legendDiv\").css('display')=='none'){\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.up);\r\n\t\t}\r\n\t\telse{\r\n\t\t  $(\"#legTogText\").html(i18n.viewer.legToggle.down);\r\n\t\t}\r\n\t\t$(\"#legendDiv\").slideToggle();\r\n\t  });\r\n    });"],[1,"\t}"]],"start1":17659,"start2":17659,"length1":341,"length2":6}]],"length":17665,"saved":false}
{"ts":1353956541610,"patch":[[{"diffs":[[0,"= null;\r\n      }"],[-1,"\r\n\t}"]],"start1":17645,"start2":17645,"length1":20,"length2":16}]],"length":17661,"saved":false}
{"ts":1353956542901,"patch":[[{"diffs":[[0,"= null;\r\n      }"],[1,"\r\n\t}"]],"start1":17645,"start2":17645,"length1":16,"length2":20}]],"length":17665,"saved":false}
